(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.-right-1{right:-.25rem}.-top-1{top:-.25rem}.bottom-24{bottom:6rem}.bottom-6{bottom:1.5rem}.left-0{left:0}.left-2{left:.5rem}.left-3{left:.75rem}.left-\\[50\\%\\]{left:50%}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-1{top:.25rem}.top-1\\/2{top:50%}.top-4{top:1rem}.top-\\[50\\%\\]{top:50%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[10001\\]{z-index:10001}.z-\\[9999\\]{z-index:9999}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-ml-1{margin-left:-.25rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[50vh\\]{height:50vh}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.max-h-\\[--radix-select-content-available-height\\]{max-height:var(--radix-select-content-available-height)}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[var\\(--radix-dropdown-menu-content-available-height\\)\\]{max-height:var(--radix-dropdown-menu-content-available-height)}.min-h-\\[80px\\]{min-height:80px}.min-h-screen{min-height:100vh}.w-1{width:.25rem}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-\\[1px\\]{width:1px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-32{min-width:8rem}.min-w-60{min-width:15rem}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-6xl{max-width:72rem}.max-w-\\[90\\%\\]{max-width:90%}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.origin-\\[--radix-dropdown-menu-content-transform-origin\\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\\[--radix-select-content-transform-origin\\]{transform-origin:var(--radix-select-content-transform-origin)}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-start{align-items:flex-start}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-t-md{border-top-left-radius:calc(var(--radius) - 2px);border-top-right-radius:calc(var(--radius) - 2px)}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-none{border-style:none}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-700\\/50{border-color:#1d4ed880}.border-border{border-color:hsl(var(--border))}.border-current{border-color:currentColor}.border-destructive\\/50{border-color:hsl(var(--destructive) / .5)}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-green-700\\/50{border-color:#15803d80}.border-input{border-color:hsl(var(--input))}.border-primary{border-color:hsl(var(--primary))}.border-primary\\/10{border-color:hsl(var(--primary) / .1)}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-red-700{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity, 1))}.border-red-700\\/30{border-color:#b91c1c4d}.border-red-700\\/50{border-color:#b91c1c80}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-t-primary{border-top-color:hsl(var(--primary))}.border-t-transparent{border-top-color:transparent}.bg-background{background-color:hsl(var(--background))}.bg-background\\/50{background-color:hsl(var(--background) / .5)}.bg-background\\/80{background-color:hsl(var(--background) / .8)}.bg-black\\/80{background-color:#000c}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-900\\/30{background-color:#1e3a8a4d}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-gray-950{--tw-bg-opacity: 1;background-color:rgb(3 7 18 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600\\/10{background-color:#16a34a1a}.bg-green-900\\/30{background-color:#14532d4d}.bg-muted{background-color:hsl(var(--muted))}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\\/20{background-color:hsl(var(--primary) / .2)}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-900\\/20{background-color:#7f1d1d33}.bg-red-900\\/30{background-color:#7f1d1d4d}.bg-secondary{background-color:hsl(var(--secondary))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-300{--tw-bg-opacity: 1;background-color:rgb(253 224 71 / var(--tw-bg-opacity, 1))}.bg-opacity-100{--tw-bg-opacity: 1}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-indigo-50{--tw-gradient-to: #eef2ff var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.fill-yellow-500{fill:#eab308}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\\[1px\\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pl-10{padding-left:2.5rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pl-8{padding-left:2rem}.pr-12{padding-right:3rem}.pr-2{padding-right:.5rem}.pr-4{padding-right:1rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-\\[10px\\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-tighter{letter-spacing:-.05em}.tracking-widest{letter-spacing:.1em}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-300{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-indigo-500{--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-muted-foreground\\/40{color:hsl(var(--muted-foreground) / .4)}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-900{--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}body{min-width:320px;min-height:300px;overflow-x:hidden}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.last\\:mb-1:last-child{margin-bottom:.25rem}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-accent\\/50:hover{background-color:hsl(var(--accent) / .5)}.hover\\:bg-accent\\/60:hover{background-color:hsl(var(--accent) / .6)}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-destructive\\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-800:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-200:hover{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\\:bg-primary\\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-900\\/30:hover{background-color:#7f1d1d4d}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-primary:focus{--tw-ring-color: hsl(var(--primary))}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:opacity-100{opacity:1}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:hsl(var(--border))}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:hsl(var(--background))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=active\\]\\:bg-blue-600[data-state=active]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[placeholder\\]\\:text-muted-foreground[data-placeholder]{color:hsl(var(--muted-foreground))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=active\\]\\:text-white[data-state=active]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:divide-gray-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(55 65 81 / var(--tw-divide-opacity, 1))}.dark\\:border-blue-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-900\\/50:is(.dark *){background-color:#1e3a8a80}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900\\/20:is(.dark *){background-color:#14532d33}.dark\\:bg-red-900\\/20:is(.dark *){background-color:#7f1d1d33}.dark\\:from-blue-950\\/30:is(.dark *){--tw-gradient-from: rgb(23 37 84 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 37 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:to-indigo-950\\/30:is(.dark *){--tw-gradient-to: rgb(30 27 75 / .3) var(--tw-gradient-to-position)}.dark\\:text-blue-300:is(.dark *){--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:text-blue-400:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-green-800\\/30:hover:is(.dark *){background-color:#1665344d}.dark\\:hover\\:bg-red-800\\/30:hover:is(.dark *){background-color:#991b1b4d}@media (min-width: 640px){.sm\\:mt-0{margin-top:0}.sm\\:max-w-\\[425px\\]{max-width:425px}.sm\\:max-w-md{max-width:28rem}.sm\\:flex-row{flex-direction:row}.sm\\:justify-end{justify-content:flex-end}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:text-left{text-align:left}}@media (min-width: 768px){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:pb-4{padding-bottom:1rem}.md\\:pt-1{padding-top:.25rem}.md\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\\:text-6xl{font-size:3.75rem;line-height:1}.md\\:text-7xl{font-size:4.5rem;line-height:1}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1024px){.lg\\:py-40{padding-top:10rem;padding-bottom:10rem}}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:hsl(var(--destructive))}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:hsl(var(--foreground))}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}
@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap";*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.-right-1{right:-.25rem}.-top-1{top:-.25rem}.bottom-24{bottom:6rem}.bottom-6{bottom:1.5rem}.left-0{left:0}.left-2{left:.5rem}.left-3{left:.75rem}.left-\\[50\\%\\]{left:50%}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-1{top:.25rem}.top-1\\/2{top:50%}.top-4{top:1rem}.top-\\[50\\%\\]{top:50%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[10001\\]{z-index:10001}.z-\\[9999\\]{z-index:9999}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-ml-1{margin-left:-.25rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[50vh\\]{height:50vh}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.max-h-\\[--radix-select-content-available-height\\]{max-height:var(--radix-select-content-available-height)}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[var\\(--radix-dropdown-menu-content-available-height\\)\\]{max-height:var(--radix-dropdown-menu-content-available-height)}.min-h-\\[80px\\]{min-height:80px}.min-h-screen{min-height:100vh}.w-1{width:.25rem}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-\\[1px\\]{width:1px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-32{min-width:8rem}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-6xl{max-width:72rem}.max-w-\\[90\\%\\]{max-width:90%}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.origin-\\[--radix-dropdown-menu-content-transform-origin\\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\\[--radix-select-content-transform-origin\\]{transform-origin:var(--radix-select-content-transform-origin)}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-start{align-items:flex-start}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-t-md{border-top-left-radius:calc(var(--radius) - 2px);border-top-right-radius:calc(var(--radius) - 2px)}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-none{border-style:none}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-700\\/50{border-color:#1d4ed880}.border-border{border-color:hsl(var(--border))}.border-current{border-color:currentColor}.border-destructive\\/50{border-color:hsl(var(--destructive) / .5)}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-green-700\\/50{border-color:#15803d80}.border-input{border-color:hsl(var(--input))}.border-primary{border-color:hsl(var(--primary))}.border-primary\\/10{border-color:hsl(var(--primary) / .1)}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-red-700{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity, 1))}.border-red-700\\/30{border-color:#b91c1c4d}.border-red-700\\/50{border-color:#b91c1c80}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-t-primary{border-top-color:hsl(var(--primary))}.border-t-transparent{border-top-color:transparent}.bg-background{background-color:hsl(var(--background))}.bg-background\\/50{background-color:hsl(var(--background) / .5)}.bg-background\\/80{background-color:hsl(var(--background) / .8)}.bg-black\\/80{background-color:#000c}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-900\\/30{background-color:#1e3a8a4d}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-gray-950{--tw-bg-opacity: 1;background-color:rgb(3 7 18 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600\\/10{background-color:#16a34a1a}.bg-green-900\\/30{background-color:#14532d4d}.bg-muted{background-color:hsl(var(--muted))}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\\/20{background-color:hsl(var(--primary) / .2)}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-900\\/20{background-color:#7f1d1d33}.bg-red-900\\/30{background-color:#7f1d1d4d}.bg-secondary{background-color:hsl(var(--secondary))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-300{--tw-bg-opacity: 1;background-color:rgb(253 224 71 / var(--tw-bg-opacity, 1))}.bg-opacity-100{--tw-bg-opacity: 1}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-indigo-50{--tw-gradient-to: #eef2ff var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.fill-yellow-500{fill:#eab308}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\\[1px\\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pl-10{padding-left:2.5rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pl-8{padding-left:2rem}.pr-12{padding-right:3rem}.pr-2{padding-right:.5rem}.pr-4{padding-right:1rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-\\[10px\\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-tighter{letter-spacing:-.05em}.tracking-widest{letter-spacing:.1em}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-300{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-indigo-500{--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-muted-foreground\\/40{color:hsl(var(--muted-foreground) / .4)}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-900{--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}body{margin:0;padding:0;width:100%;height:100%;font-family:Roboto,sans-serif;background-color:#0a0a0a;color:#f9fafb}h1,h2,h3,h4,h5,h6{font-family:Poppins,sans-serif;letter-spacing:-.025em}.bg-gray-950{background-color:#0a0a0a}.bg-gray-900{background-color:#111827}.bg-gray-800{background-color:#1f2937}.text-white{color:#f9fafb}.text-gray-300{color:#d1d5db}.text-gray-500{color:#6b7280}.text-blue-500{color:#3b82f6}.feature-card{transition:all .2s ease-in-out;background-color:#111827;border:1px solid #1f2937;box-shadow:0 4px 12px #0003}.feature-card:hover{transform:translateY(-3px);box-shadow:0 8px 20px #0000004d;border-color:#3b82f6}.btn-transition{transition:all .2s ease}.btn-transition:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b82f64d}.logo-container{background-color:#111827;border-radius:9999px;padding:.5rem;box-shadow:0 4px 12px #0003;display:flex;justify-content:center;align-items:center;width:5rem;height:5rem;margin-left:auto;margin-right:auto;border:1px solid #1f2937}.logo-container img{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.animation-container{height:3.5rem;position:relative;display:flex;justify-content:center;overflow:hidden;margin-bottom:1.5rem}.animation-container div{font-family:Poppins,sans-serif}@media (max-width: 768px){.animation-container{height:4rem}}.whitespace-nowrap{white-space:nowrap}.min-w-60{min-width:15rem}p{font-family:Roboto,sans-serif;line-height:1.7;font-weight:400}button{font-family:Poppins,sans-serif;font-weight:500}.dialog-content{background-color:#111827;border:1px solid #1f2937;color:#f9fafb}@media (max-width: 640px){h1{font-size:2.5rem}.text-3xl{font-size:1.5rem}.min-w-60{min-width:12rem}}.font-heading{font-family:Poppins,sans-serif}.font-sans{font-family:Roboto,sans-serif}.input{background-color:#1f2937;border-color:#374151;color:#f9fafb}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}*:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.last\\:mb-1:last-child{margin-bottom:.25rem}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-accent\\/50:hover{background-color:hsl(var(--accent) / .5)}.hover\\:bg-accent\\/60:hover{background-color:hsl(var(--accent) / .6)}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-destructive\\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-800:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-200:hover{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\\:bg-primary\\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-900\\/30:hover{background-color:#7f1d1d4d}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-primary:focus{--tw-ring-color: hsl(var(--primary))}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:opacity-100{opacity:1}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:hsl(var(--border))}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:hsl(var(--background))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=active\\]\\:bg-blue-600[data-state=active]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[placeholder\\]\\:text-muted-foreground[data-placeholder]{color:hsl(var(--muted-foreground))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=active\\]\\:text-white[data-state=active]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:divide-gray-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(55 65 81 / var(--tw-divide-opacity, 1))}.dark\\:border-blue-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-900\\/50:is(.dark *){background-color:#1e3a8a80}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900\\/20:is(.dark *){background-color:#14532d33}.dark\\:bg-red-900\\/20:is(.dark *){background-color:#7f1d1d33}.dark\\:from-blue-950\\/30:is(.dark *){--tw-gradient-from: rgb(23 37 84 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 37 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:to-indigo-950\\/30:is(.dark *){--tw-gradient-to: rgb(30 27 75 / .3) var(--tw-gradient-to-position)}.dark\\:text-blue-300:is(.dark *){--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:text-blue-400:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-green-800\\/30:hover:is(.dark *){background-color:#1665344d}.dark\\:hover\\:bg-red-800\\/30:hover:is(.dark *){background-color:#991b1b4d}@media (min-width: 640px){.sm\\:mt-0{margin-top:0}.sm\\:max-w-\\[425px\\]{max-width:425px}.sm\\:max-w-md{max-width:28rem}.sm\\:flex-row{flex-direction:row}.sm\\:justify-end{justify-content:flex-end}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:text-left{text-align:left}}@media (min-width: 768px){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:pb-4{padding-bottom:1rem}.md\\:pt-1{padding-top:.25rem}.md\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\\:text-6xl{font-size:3.75rem;line-height:1}.md\\:text-7xl{font-size:4.5rem;line-height:1}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1024px){.lg\\:py-40{padding-top:10rem;padding-bottom:10rem}}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:hsl(var(--destructive))}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:hsl(var(--foreground))}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}
*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:root{--background: 0 0% 100%;--foreground: 0 0% 3.9%;--card: 0 0% 100%;--card-foreground: 0 0% 3.9%;--popover: 0 0% 100%;--popover-foreground: 0 0% 3.9%;--primary: 0 0% 9%;--primary-foreground: 0 0% 98%;--secondary: 0 0% 96.1%;--secondary-foreground: 0 0% 9%;--muted: 0 0% 96.1%;--muted-foreground: 0 0% 45.1%;--accent: 0 0% 96.1%;--accent-foreground: 0 0% 9%;--destructive: 0 84.2% 60.2%;--destructive-foreground: 0 0% 98%;--border: 0 0% 89.8%;--input: 0 0% 89.8%;--ring: 0 0% 3.9%;--chart-1: 12 76% 61%;--chart-2: 173 58% 39%;--chart-3: 197 37% 24%;--chart-4: 43 74% 66%;--chart-5: 27 87% 67%;--radius: .5rem}.dark{--background: 0 0% 3.9%;--foreground: 0 0% 98%;--card: 0 0% 3.9%;--card-foreground: 0 0% 98%;--popover: 0 0% 3.9%;--popover-foreground: 0 0% 98%;--primary: 0 0% 98%;--primary-foreground: 0 0% 9%;--secondary: 0 0% 14.9%;--secondary-foreground: 0 0% 98%;--muted: 0 0% 14.9%;--muted-foreground: 0 0% 63.9%;--accent: 0 0% 14.9%;--accent-foreground: 0 0% 98%;--destructive: 0 62.8% 30.6%;--destructive-foreground: 0 0% 98%;--border: 0 0% 14.9%;--input: 0 0% 14.9%;--ring: 0 0% 83.1%;--chart-1: 220 70% 50%;--chart-2: 160 60% 45%;--chart-3: 30 80% 55%;--chart-4: 280 65% 60%;--chart-5: 340 75% 55%}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));color:hsl(var(--foreground))}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.-right-1{right:-.25rem}.-top-1{top:-.25rem}.bottom-24{bottom:6rem}.bottom-6{bottom:1.5rem}.left-0{left:0}.left-2{left:.5rem}.left-3{left:.75rem}.left-\\[50\\%\\]{left:50%}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-1{top:.25rem}.top-1\\/2{top:50%}.top-4{top:1rem}.top-\\[50\\%\\]{top:50%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[10001\\]{z-index:10001}.z-\\[9999\\]{z-index:9999}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-ml-1{margin-left:-.25rem}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-0\\.5{margin-left:.125rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-80{height:20rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[50vh\\]{height:50vh}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.max-h-\\[--radix-select-content-available-height\\]{max-height:var(--radix-select-content-available-height)}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[var\\(--radix-dropdown-menu-content-available-height\\)\\]{max-height:var(--radix-dropdown-menu-content-available-height)}.min-h-\\[80px\\]{min-height:80px}.min-h-screen{min-height:100vh}.w-1{width:.25rem}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-\\[1px\\]{width:1px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-32{min-width:8rem}.min-w-60{min-width:15rem}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-6xl{max-width:72rem}.max-w-\\[90\\%\\]{max-width:90%}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.origin-\\[--radix-dropdown-menu-content-transform-origin\\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\\[--radix-select-content-transform-origin\\]{transform-origin:var(--radix-select-content-transform-origin)}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-start{align-items:flex-start}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-t-md{border-top-left-radius:calc(var(--radius) - 2px);border-top-right-radius:calc(var(--radius) - 2px)}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-none{border-style:none}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-700\\/50{border-color:#1d4ed880}.border-border{border-color:hsl(var(--border))}.border-current{border-color:currentColor}.border-destructive\\/50{border-color:hsl(var(--destructive) / .5)}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-green-700\\/50{border-color:#15803d80}.border-input{border-color:hsl(var(--input))}.border-primary{border-color:hsl(var(--primary))}.border-primary\\/10{border-color:hsl(var(--primary) / .1)}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-red-700{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity, 1))}.border-red-700\\/30{border-color:#b91c1c4d}.border-red-700\\/50{border-color:#b91c1c80}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-t-primary{border-top-color:hsl(var(--primary))}.border-t-transparent{border-top-color:transparent}.bg-background{background-color:hsl(var(--background))}.bg-background\\/50{background-color:hsl(var(--background) / .5)}.bg-background\\/80{background-color:hsl(var(--background) / .8)}.bg-black\\/80{background-color:#000c}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-900\\/30{background-color:#1e3a8a4d}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-gray-950{--tw-bg-opacity: 1;background-color:rgb(3 7 18 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600\\/10{background-color:#16a34a1a}.bg-green-900\\/30{background-color:#14532d4d}.bg-muted{background-color:hsl(var(--muted))}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\\/20{background-color:hsl(var(--primary) / .2)}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-900\\/20{background-color:#7f1d1d33}.bg-red-900\\/30{background-color:#7f1d1d4d}.bg-secondary{background-color:hsl(var(--secondary))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-300{--tw-bg-opacity: 1;background-color:rgb(253 224 71 / var(--tw-bg-opacity, 1))}.bg-opacity-100{--tw-bg-opacity: 1}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-indigo-50{--tw-gradient-to: #eef2ff var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.fill-yellow-500{fill:#eab308}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\\[1px\\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pl-10{padding-left:2.5rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pl-8{padding-left:2rem}.pr-12{padding-right:3rem}.pr-2{padding-right:.5rem}.pr-4{padding-right:1rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-\\[10px\\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-tighter{letter-spacing:-.05em}.tracking-widest{letter-spacing:.1em}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-300{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-indigo-500{--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-muted-foreground\\/40{color:hsl(var(--muted-foreground) / .4)}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-900{--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity, 1))}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:root{--background: 0 0% 100%;--foreground: 222.2 84% 4.9%;--card: 0 0% 100%;--card-foreground: 222.2 84% 4.9%;--popover: 0 0% 100%;--popover-foreground: 222.2 84% 4.9%;--primary: 222.2 47.4% 11.2%;--primary-foreground: 210 40% 98%;--secondary: 210 40% 96.1%;--secondary-foreground: 222.2 47.4% 11.2%;--muted: 210 40% 96.1%;--muted-foreground: 215.4 16.3% 46.9%;--accent: 210 40% 96.1%;--accent-foreground: 222.2 47.4% 11.2%;--destructive: 0 84.2% 60.2%;--destructive-foreground: 210 40% 98%;--border: 214.3 31.8% 91.4%;--input: 214.3 31.8% 91.4%;--ring: 222.2 84% 4.9%;--radius: .5rem}.dark{--background: 222.2 84% 4.9%;--foreground: 210 40% 98%}@keyframes float{0%{transform:translateY(0) translate(-50%)}50%{transform:translateY(-5px) translate(-50%)}to{transform:translateY(0) translate(-50%)}}@keyframes pulse-glow{0%{box-shadow:0 0 5px #3b82f61a,0 0 10px #3b82f61a}50%{box-shadow:0 0 10px #3b82f633,0 0 20px #3b82f633}to{box-shadow:0 0 5px #3b82f61a,0 0 10px #3b82f61a}}@keyframes slide-up-fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.expanded-details{animation:slide-up-fade-in .4s ease-out forwards}.custom-progress{height:6px;border-radius:3px;background:#0000001a;overflow:hidden}.custom-progress-bar{height:100%;border-radius:3px;transition:width 1s cubic-bezier(.65,0,.35,1)}.dark .stats-panel{box-shadow:0 8px 30px #0000004d,0 0 10px #3b82f61a}.dark .custom-progress{background:#ffffff1a}.stats-tooltip{position:absolute;background:#000c;color:#fff;padding:6px 10px;border-radius:4px;font-size:12px;z-index:100;opacity:0;transform:translateY(5px);transition:opacity .2s,transform .2s;pointer-events:none}.stats-panel:hover .stats-tooltip{opacity:1;transform:translateY(0)}[data-state=open] .dialog-overlay{animation:overlayShow .15s cubic-bezier(.16,1,.3,1);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.dialog-content{z-index:9999;box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border:1px solid rgba(0,0,0,.1)}@media (prefers-color-scheme: dark){.dialog-content{border-color:#ffffff1a;box-shadow:0 10px 25px -5px #0003,0 10px 10px -5px #0000001a}}.dialog-overlay{background-color:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);position:fixed;top:0;right:0;bottom:0;left:0;z-index:9990;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.editor-active{opacity:.4!important;filter:blur(2px);transition:opacity .3s ease,filter .3s ease;pointer-events:none}.dialog-content{z-index:10001!important}.dialog-overlay{z-index:10000!important}.templates-panel-container.editor-active{opacity:.2;filter:blur(2px);transition:opacity .3s ease,filter .3s ease;pointer-events:none}.subfolder-container{position:relative}.subfolder-content{border-left:1px dashed rgba(128,128,128,.2);margin-left:.75rem;padding-left:.75rem}.subfolder-header{transition:background-color .2s ease}.subfolder-header:hover{background-color:#8080801a}.template-item{transition:background-color .2s ease;border-radius:.25rem;position:relative}.template-item:hover{background-color:#8080801a}.template-item:before{content:"";position:absolute;left:-.75rem;top:50%;width:.5rem;height:1px;background-color:#80808033}.menu-panel{z-index:9999;animation:slideInUp .3s ease-out}@keyframes slideInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.last\\:mb-1:last-child{margin-bottom:.25rem}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-accent\\/50:hover{background-color:hsl(var(--accent) / .5)}.hover\\:bg-accent\\/60:hover{background-color:hsl(var(--accent) / .6)}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-destructive\\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\\:bg-destructive\\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-800:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-200:hover{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\\:bg-primary\\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-red-200:hover{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-900\\/30:hover{background-color:#7f1d1d4d}.hover\\:bg-secondary\\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-primary:focus{--tw-ring-color: hsl(var(--primary))}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: hsl(var(--ring))}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background))}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:opacity-100{opacity:1}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:hsl(var(--border))}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:hsl(var(--background))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\\[state\\=active\\]\\:bg-blue-600[data-state=active]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\\[placeholder\\]\\:text-muted-foreground[data-placeholder]{color:hsl(var(--muted-foreground))}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\\[state\\=active\\]\\:text-white[data-state=active]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:divide-gray-700:is(.dark *)>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(55 65 81 / var(--tw-divide-opacity, 1))}.dark\\:border-blue-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-900\\/50:is(.dark *){background-color:#1e3a8a80}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900\\/20:is(.dark *){background-color:#14532d33}.dark\\:bg-red-900\\/20:is(.dark *){background-color:#7f1d1d33}.dark\\:from-blue-950\\/30:is(.dark *){--tw-gradient-from: rgb(23 37 84 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 37 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:to-indigo-950\\/30:is(.dark *){--tw-gradient-to: rgb(30 27 75 / .3) var(--tw-gradient-to-position)}.dark\\:text-blue-300:is(.dark *){--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:text-blue-400:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500:is(.dark *){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-green-800\\/30:hover:is(.dark *){background-color:#1665344d}.dark\\:hover\\:bg-red-800\\/30:hover:is(.dark *){background-color:#991b1b4d}@media (min-width: 640px){.sm\\:mt-0{margin-top:0}.sm\\:max-w-\\[425px\\]{max-width:425px}.sm\\:max-w-md{max-width:28rem}.sm\\:flex-row{flex-direction:row}.sm\\:justify-end{justify-content:flex-end}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:text-left{text-align:left}}@media (min-width: 768px){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:pb-4{padding-bottom:1rem}.md\\:pt-1{padding-top:.25rem}.md\\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\\:text-6xl{font-size:3.75rem;line-height:1}.md\\:text-7xl{font-size:4.5rem;line-height:1}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1024px){.lg\\:py-40{padding-top:10rem;padding-bottom:10rem}}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:hsl(var(--destructive))}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:hsl(var(--foreground))}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}`)),document.head.appendChild(t)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
var nl=Object.defineProperty;var rl=(n,t,e)=>t in n?nl(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var E=(n,t,e)=>rl(n,typeof t!="symbol"?t+"":t,e);import{t as z,X as Yr,u as Re,c as Ct,b as Ne,P as ke,d as Jr,e as Zr,f as Mt,g as _n,h as L,i as yo,j as xo,I as sl,k as wo,R as bo,F as Co,l as ol,m as Eo,n as es,D as It,a as jt,o as Dt,p as kt,q as an,r as cn,s as Nt,v as Pn,T as So,A as il,w as Ro,O as al,x as cl,W as ll,C as ul,y as dl,z as fl,B as To,E as hl,G as pl}from"./assets/AuthForm.CSg7kFYH.js";import{c as G,b as ml,j as a,r as f,d as gl,R as le,g as $,e as W,B as V,f as Mo,h as ts,P as ne,u as se,S as No,i as _o,k as Po,l as vl,Z as qs,m as Ao}from"./assets/i18n.Dx0FIZMU.js";import{C as yl,S as An}from"./assets/separator.Y2N7MMCX.js";import{_ as xl}from"./assets/preload-helper.D7HrI6pR.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oo=G("Activity",wl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cl=G("ArrowLeft",bl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hs=G("Award",El);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Er=G("Bell",Sl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["path",{d:"M12 17h1.5",key:"1gkc67"}],["path",{d:"M12 22h1.5",key:"1my7sn"}],["path",{d:"M12 2h1.5",key:"19tvb7"}],["path",{d:"M17.5 22H19a1 1 0 0 0 1-1",key:"10akbh"}],["path",{d:"M17.5 2H19a1 1 0 0 1 1 1v1.5",key:"1vrfjs"}],["path",{d:"M20 14v3h-2.5",key:"1naeju"}],["path",{d:"M20 8.5V10",key:"1ctpfu"}],["path",{d:"M4 10V8.5",key:"1o3zg5"}],["path",{d:"M4 19.5V14",key:"ob81pf"}],["path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H8",key:"s8vcyb"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8",key:"1cu73q"}]],Tl=G("BookDashed",Rl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Nl=G("ChartNoAxesColumnIncreasing",Ml);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Bs=G("ChartNoAxesColumn",_l);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ns=G("Check",Pl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nr=G("ChevronDown",Al);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Io=G("ChevronRight",Ol);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jl=G("ChevronUp",Il);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kl=G("CirclePlus",Dl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fl=G("Circle",Ll);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$l=G("Clock",Ul);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ql=G("EllipsisVertical",zl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Bl=G("ExternalLink",Hl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jo=G("FileText",Wl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bn=G("FolderOpen",Ql);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kl=G("FolderPlus",Vl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Do=G("Folder",Gl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ws=G("LoaderCircle",Xl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Jl=G("Menu",Yl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Qs=G("MessageCircle",Zl);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tu=G("Save",eu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ru=G("Search",nu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ou=G("Settings",su);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],au=G("SquareCheckBig",iu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lu=G("SquarePen",cu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],du=G("Star",uu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hu=G("Trash2",fu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Sr=G("Trash",pu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rs=G("TriangleAlert",mu);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ko=G("Users",gu),Ke={API_URL:"https://api-prod-sw5cmqbraq-od.a.run.app/",DEBUG:!1,APP_VERSION:"1.0.0",NODE_ENV:"production"};console.log(` Environment: ${Ke.NODE_ENV}`);console.log(` API URL: ${Ke.API_URL}`);console.log(` Debug: ${Ke.DEBUG}`);console.log(` Version: ${Ke.APP_VERSION}`);var vu={};const Lo={apiUrl:Ke.API_URL,debug:Ke.DEBUG,version:Ke.APP_VERSION,features:{analytics:!0,templates:!0,notifications:!0}},yu={apiUrl:vu.API_URL||Lo.apiUrl},Fo={...Lo,...yu};function S(...n){Fo.debug&&console.debug("[Archimind]",...n)}var K=(n=>(n.NETWORK_ERROR="network_error",n.TIMEOUT_ERROR="timeout_error",n.API_ERROR="api_error",n.VALIDATION_ERROR="validation_error",n.NOT_FOUND_ERROR="not_found_error",n.AUTH_ERROR="auth_error",n.TOKEN_EXPIRED="token_expired",n.PERMISSION_DENIED="permission_denied",n.STORAGE_ERROR="storage_error",n.EXTENSION_ERROR="extension_error",n.INJECTION_ERROR="injection_error",n.COMPONENT_ERROR="component_error",n.UNKNOWN_ERROR="unknown_error",n))(K||{});class B extends Error{constructor(e,r="unknown_error",s,o){super(e);E(this,"code");E(this,"originalError");E(this,"metadata");this.name="AppError",this.code=r,this.originalError=s,this.metadata=o,Object.setPrototypeOf(this,B.prototype)}static from(e,r="An unexpected error occurred"){var s,o;return e instanceof B?e:e instanceof TypeError&&e.message.includes("fetch")?new B(e.message||"Network request failed","network_error",e):(e==null?void 0:e.status)>=400||((s=e==null?void 0:e.response)==null?void 0:s.status)>=400?new B(e.message||"API request failed","api_error",e,{status:e.status||((o=e.response)==null?void 0:o.status)}):new B((e==null?void 0:e.message)||r,"unknown_error",e)}toJSON(){return{name:this.name,message:this.message,code:this.code,stack:this.stack,metadata:this.metadata,originalError:this.originalError?this.originalError instanceof Error?{message:this.originalError.message,stack:this.originalError.stack}:this.originalError:void 0}}}const nt=class nt{constructor(){E(this,"listeners",new Map)}static getInstance(){return nt.instance||(nt.instance=new nt),nt.instance}on(t,e){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(e),()=>{const r=this.listeners.get(t);r&&(r.delete(e),r.size===0&&this.listeners.delete(t))}}emit(t,e){const r=this.listeners.get(t);r&&r.forEach(s=>{try{s(e)}catch(o){console.error(`Error in event listener for ${t}:`,o)}})}once(t,e){const r=s=>{e(s);const o=this.listeners.get(t);o&&o.delete(r)};this.on(t,r)}off(t){this.listeners.delete(t)}reset(){this.listeners.clear()}};E(nt,"instance");let Rr=nt;const Vs=Rr.getInstance();class xu{constructor(){E(this,"chromeMessageHandlers",new Map);E(this,"domEventHandlers",new Map);E(this,"handleChromeMessage",(t,e,r)=>{if(!t||!t.action)return!1;const s=this.chromeMessageHandlers.get(t.action);if(s){try{s(t,e)}catch(o){console.error(`Error in chrome message handler for ${t.action}:`,o)}return!0}return!1});E(this,"handleDomEvent",t=>{if(!t.detail||!t.detail.type)return;const e=this.domEventHandlers.get(t.detail.type);if(e)try{e(t)}catch(r){console.error(`Error in DOM event handler for ${t.detail.type}:`,r)}})}initialize(){chrome.runtime.onMessage.addListener(this.handleChromeMessage),document.addEventListener("archimind-network-intercept",this.handleDomEvent),console.log("EventManager initialized")}cleanup(){chrome.runtime.onMessage.removeListener(this.handleChromeMessage),document.removeEventListener("archimind-network-intercept",this.handleDomEvent),console.log("EventManager cleaned up")}emit(t,e){Vs.emit(t,e)}on(t,e){return Vs.on(t,e)}onChromeMessage(t,e){return this.chromeMessageHandlers.set(t,e),()=>{this.chromeMessageHandlers.delete(t)}}onDomEvent(t,e){return this.domEventHandlers.set(t,e),()=>{this.domEventHandlers.delete(t)}}sendToBackground(t,e={}){return new Promise(r=>{chrome.runtime.sendMessage({action:t,...e},s=>{r(s)})})}dispatchDomEvent(t,e={}){document.dispatchEvent(new CustomEvent(t,{detail:e}))}}const On=new xu;var fe=(n=>(n.AUTH_LOGIN="auth:login",n.AUTH_LOGOUT="auth:logout",n.AUTH_ERROR="auth:error",n.CHAT_MESSAGE_RECEIVED="chat:message:received",n.CHAT_MESSAGE_SENT="chat:message:sent",n.CHAT_CONVERSATION_LOADED="chat:conversation:loaded",n.CHAT_CONVERSATION_CHANGED="chat:conversation:changed",n.TEMPLATE_CREATED="template:created",n.TEMPLATE_UPDATED="template:updated",n.TEMPLATE_DELETED="template:deleted",n.TEMPLATE_USED="template:used",n.NOTIFICATION_RECEIVED="notification:received",n.NOTIFICATION_DELETED="NOTIFICATION_DELETED",n.NOTIFICATION_READ="notification:read",n.NOTIFICATION_COUNT_UPDATED="notification:count:updated",n.UI_THEME_CHANGED="ui:theme:changed",n.UI_LANGUAGE_CHANGED="ui:language:changed",n.EXTENSION_INITIALIZED="extension:initialized",n.EXTENSION_ERROR="extension:error",n.USER_INFO_UPDATED="user:info:updated",n.STATS_UPDATED="stats_updated",n.CONVERSATION_LIST_UPDATED="conversation_list_updated",n))(fe||{});function Ee(n,t){On.emit(n,t)}function wu(n,t){return On.on(n,t)}const rt=class rt{constructor(){E(this,"recentErrors",[]);E(this,"maxRecentErrors",20);this.initializeEventListeners()}static getInstance(){return rt.instance||(rt.instance=new rt),rt.instance}initializeEventListeners(){wu(fe.EXTENSION_ERROR,({message:t,stack:e})=>{this.captureError(new B(t,K.EXTENSION_ERROR,{stack:e}))}),typeof window<"u"&&(window.addEventListener("error",t=>{this.captureError(new B(t.message||"Unhandled error",K.UNHANDLED_ERROR,{fileName:t.filename,lineNo:t.lineno,colNo:t.colno}))}),window.addEventListener("unhandledrejection",t=>{var e;this.captureError(new B(((e=t.reason)==null?void 0:e.message)||"Unhandled promise rejection",K.UNHANDLED_REJECTION,t.reason))}))}captureError(t,e){const r=t instanceof B?t:typeof t=="string"?new B(t,K.UNKNOWN_ERROR,void 0,e):B.from(t);console.error("[ErrorReporter]",r),this.recentErrors.push({error:r,timestamp:Date.now()}),this.recentErrors.length>this.maxRecentErrors&&this.recentErrors.shift(),Fo.debug||this.sendErrorToServer(r)}sendErrorToServer(t){setTimeout(()=>{console.log("[ErrorReporter] Error sent to server:",t.toJSON())},0)}getRecentErrors(){return[...this.recentErrors]}clearRecentErrors(){this.recentErrors=[]}};E(rt,"instance");let Tr=rt;const J=Tr.getInstance();class bu{constructor(){E(this,"services",new Map);E(this,"dependencies",new Map);E(this,"initialized",new Set);E(this,"isInitializing",!1)}registerService(t,e,r=[]){this.services.has(t)&&S(`Service '${t}' is already registered. Overwriting.`),this.services.set(t,e),this.dependencies.set(t,r)}getService(t){return this.services.get(t)}getAllServices(){return Array.from(this.services.entries())}hasService(t){return this.services.has(t)}isServiceInitialized(t){return this.initialized.has(t)}async initializeAll(){if(this.isInitializing)return S("Services are already being initialized"),!1;this.isInitializing=!0;try{const t=this.getInitializationOrder();S("Initializing services in order:",t);for(const e of t)await this.initializeService(e);return S("All services initialized successfully"),this.isInitializing=!1,!0}catch(t){return J.captureError(new B("Failed to initialize services",K.EXTENSION_ERROR,t)),this.isInitializing=!1,!1}}async initializeService(t){if(this.initialized.has(t))return;const e=this.services.get(t);if(!e){S(`Service '${t}' not found, skipping initialization`);return}const r=this.dependencies.get(t)||[];for(const s of r)await this.initializeService(s);S(`Initializing service: ${t}`);try{await e.initialize(),this.initialized.add(t),S(`Service initialized: ${t}`)}catch(s){throw S(`Error initializing service '${t}':`,s),new B(`Failed to initialize service '${t}'`,K.EXTENSION_ERROR,s)}}cleanupAll(){S("Cleaning up all services");const t=[...this.getInitializationOrder()].reverse();for(const e of t)this.cleanupService(e);this.initialized.clear(),S("All services cleaned up")}cleanupService(t){if(!this.initialized.has(t))return;const e=this.services.get(t);if(e){S(`Cleaning up service: ${t}`);try{e.cleanup(),this.initialized.delete(t)}catch(r){J.captureError(new B(`Error cleaning up service '${t}'`,K.EXTENSION_ERROR,r))}}}getInitializationOrder(){const t=[],e=new Set,r=new Set,s=o=>{if(e.has(o))return;if(r.has(o))throw new Error(`Circular dependency detected for service: ${o}`);if(!this.services.has(o)){S(`Dependency '${o}' not found in registered services, skipping`);return}r.add(o);const i=this.dependencies.get(o)||[];for(const c of i)s(c);r.delete(o),e.add(o),t.push(o)};for(const o of this.services.keys())s(o);return t}clear(){this.services.clear(),this.dependencies.clear(),this.initialized.clear(),this.isInitializing=!1}}const ce=new bu;class be{constructor(){E(this,"_initialized",!1)}async initialize(){this._initialized||(await this.onInitialize(),this._initialized=!0)}cleanup(){this._initialized&&(this.onCleanup(),this._initialized=!1)}isInitialized(){return this._initialized}}const st=class st{constructor(){E(this,"isInitialized",!1);E(this,"listeners",new Map);E(this,"boundEventHandler");this.boundEventHandler=this.handleCapturedRequest.bind(this)}static getInstance(){return st.instance||(st.instance=new st),st.instance}initialize(){if(this.isInitialized)return!0;try{return document.addEventListener("archimind-network-intercept",this.boundEventHandler),this.isInitialized=!0,!0}catch(t){return console.error("Network monitor initialization error:",t),!1}}handleCapturedRequest(t){const e=t.detail;if(!e)return;const{type:r,data:s}=e;this.notifyListeners(r,s),s!=null&&s.url&&this.listeners.forEach((o,i)=>{const c=i;typeof i=="string"&&s.url.includes(i)?this.notifyListeners(i,s):c instanceof RegExp&&c.test(s.url)&&this.notifyListeners(c.toString(),s)})}notifyListeners(t,e){const r=this.listeners.get(t);!r||r.size===0||r.forEach(s=>{try{s(e)}catch(o){console.error(`Listener error for ${t}:`,o)}})}addListener(t,e){const r=t instanceof RegExp?t.toString():t;return this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(e),()=>{const s=this.listeners.get(r);s&&(s.delete(e),s.size===0&&this.listeners.delete(r))}}cleanup(){this.isInitialized&&(document.removeEventListener("archimind-network-intercept",this.boundEventHandler),chrome&&chrome.runtime&&chrome.runtime.sendMessage({action:"stop-network-monitoring"}),this.listeners.clear(),this.isInitialized=!1)}};E(st,"instance");let Mr=st;const Ge=Mr.getInstance(),ot=class ot extends be{constructor(){super();E(this,"cleanupListeners",[]);E(this,"handleChatCompletion",e=>{var r,s;try{if(!((s=(r=e==null?void 0:e.requestBody)==null?void 0:r.messages)!=null&&s.length))return;const o=this.extractUserMessage(e.requestBody);o&&document.dispatchEvent(new CustomEvent("archimind:message-extracted",{detail:{message:o}}))}catch(o){J.captureError(new B("Error handling chat completion",K.PARSING_ERROR,o))}});E(this,"handleAssistantResponse",e=>{try{if(!e.messageId||!e.content)return;if(e.isComplete){const r=this.extractAssistantMessage(e);r&&document.dispatchEvent(new CustomEvent("archimind:message-extracted",{detail:{message:r}}))}}catch(r){J.captureError(new B("Error handling assistant response",K.PARSING_ERROR,r))}})}static getInstance(){return ot.instance||(ot.instance=new ot),ot.instance}async onInitialize(){S("Initializing ChatMessageParser"),Ge.initialize(),this.cleanupListeners.push(Ge.addListener("chatCompletion",this.handleChatCompletion)),this.cleanupListeners.push(Ge.addListener("assistantResponse",this.handleAssistantResponse))}onCleanup(){this.cleanupListeners.forEach(e=>e()),this.cleanupListeners=[],S("ChatMessageParser cleaned up")}extractUserMessage(e){var r;try{const s=e.messages.find(i=>{var c;return((c=i.author)==null?void 0:c.role)==="user"||i.role==="user"});if(!s)return null;let o="";return(r=s.content)!=null&&r.parts?o=s.content.parts.join(`
`):s.content&&(o=s.content),{messageId:s.id||`user-${Date.now()}`,conversationId:e.conversation_id||"",content:o,role:"user",model:e.model||"unknown",timestamp:s.create_time?s.create_time*1e3:Date.now(),parent_message_provider_id:e.parent_message_provider_id}}catch(s){return J.captureError(new B("Error extracting user message",K.PARSING_ERROR,s)),null}}extractAssistantMessage(e){try{return{messageId:e.messageId,conversationId:e.conversationId||"",content:e.content,role:"assistant",model:e.model||"unknown",timestamp:e.createTime?e.createTime*1e3:Date.now(),thinkingTime:e.thinkingTime,parent_message_provider_id:e.parentMessageId}}catch(r){return J.captureError(new B("Error extracting assistant message",K.PARSING_ERROR,r)),null}}};E(ot,"instance");let Nr=ot;const it=class it extends be{constructor(){super();E(this,"cleanupListeners",[]);E(this,"handleSpecificConversation",e=>{var r;console.log("handleSpecificConversation",e);try{if(!((r=e==null?void 0:e.responseBody)!=null&&r.conversation_id))return;const s=this.extractConversation(e.responseBody),o=this.extractMessagesFromConversation(e.responseBody);console.log("messages",o),console.log("conversation",s),document.dispatchEvent(new CustomEvent("archimind:conversation-loaded",{detail:{conversation:s,messages:o}}))}catch(s){J.captureError(new B("Error handling specific conversation",K.PARSING_ERROR,s))}});E(this,"handleConversationList",e=>{var r;try{if(!((r=e==null?void 0:e.responseBody)!=null&&r.items))return;const s=this.extractConversationsFromList(e.responseBody);document.dispatchEvent(new CustomEvent("archimind:conversation-list",{detail:{conversations:s}}))}catch(s){J.captureError(new B("Error handling conversation list",K.PARSING_ERROR,s))}})}static getInstance(){return it.instance||(it.instance=new it),it.instance}async onInitialize(){S("Initializing ConversationParser"),Ge.initialize(),this.cleanupListeners.push(Ge.addListener("specificConversation",this.handleSpecificConversation)),this.cleanupListeners.push(Ge.addListener("conversationList",this.handleConversationList))}onCleanup(){this.cleanupListeners.forEach(e=>e()),this.cleanupListeners=[],S("ConversationParser cleaned up")}extractConversation(e){return{id:e.conversation_id,title:e.title||"Conversation",lastMessageTime:e.update_time?e.update_time*1e3:Date.now(),model:e.model||"unknown",messageCount:e.message_count||0}}extractConversationsFromList(e){try{return e.items&&Array.isArray(e.items)?e.items.map(r=>({id:r.id,title:r.title||"Untitled",lastMessageTime:r.update_time?r.update_time*1e3:Date.now(),model:r.model||"unknown"})):[]}catch(r){return J.captureError(new B("Error extracting conversations from list",K.PARSING_ERROR,r)),[]}}extractMessagesFromConversation(e){try{const r=[];return e.mapping&&Object.entries(e.mapping).forEach(([s,o])=>{var i,c,l,d;if(s!=="client-created-root"&&(c=(i=o.message)==null?void 0:i.author)!=null&&c.role){const u=o.message.author.role;if(u==="user"||u==="assistant"){let h="";((l=o.message.content)==null?void 0:l.content_type)==="text"&&(h=Array.isArray(o.message.content.parts)?o.message.content.parts.join(`
`):o.message.content.parts||""),r.push({messageId:s,conversationId:e.conversation_id,content:h,role:u,model:((d=o.message.metadata)==null?void 0:d.model_slug)||"unknown",timestamp:o.message.create_time?o.message.create_time*1e3:Date.now(),parent_message_provider_id:o.parent})}}}),r.sort((s,o)=>s.timestamp-o.timestamp)}catch(r){return J.captureError(new B("Error extracting messages from conversation",K.PARSING_ERROR,r)),[]}}};E(it,"instance");let In=it;In.getInstance();const at=class at extends be{constructor(){super();E(this,"conversations",new Map);E(this,"currentConversationId",null);E(this,"checkUrlForConversationId",()=>{try{const e=window.location.pathname.match(/\/c\/([a-f0-9-]+)/);if(e&&e[1]){const r=e[1];r!==this.currentConversationId&&(S(`Detected conversation ID from URL: ${r}`),this.setCurrentConversationId(r))}}catch(e){J.captureError(new B("Error checking URL for conversation ID",K.EXTENSION_ERROR,e))}});E(this,"handleConversationLoaded",e=>{const{conversation:r}=e.detail;r&&this.addConversation(r)});E(this,"handleConversationList",e=>{const{conversations:r}=e.detail;r&&Array.isArray(r)&&r.forEach(s=>{this.addConversation(s)})})}static getInstance(){return at.instance||(at.instance=new at),at.instance}async onInitialize(){S("Initializing ConversationManager"),window.addEventListener("popstate",this.checkUrlForConversationId),this.checkUrlForConversationId(),document.addEventListener("archimind:conversation-loaded",this.handleConversationLoaded),document.addEventListener("archimind:conversation-list",this.handleConversationList)}onCleanup(){window.removeEventListener("popstate",this.checkUrlForConversationId),document.removeEventListener("archimind:conversation-loaded",this.handleConversationLoaded),document.removeEventListener("archimind:conversation-list",this.handleConversationList),S("ConversationManager cleaned up")}getCurrentConversationId(){return this.currentConversationId}setCurrentConversationId(e){this.currentConversationId!==e&&(this.currentConversationId=e,Ee(fe.CHAT_CONVERSATION_CHANGED,{conversationId:e}))}addConversation(e){this.conversations.set(e.id,e)}getConversation(e){return this.conversations.get(e)}getCurrentConversation(){if(this.currentConversationId)return this.getConversation(this.currentConversationId)}getConversations(){return Array.from(this.conversations.values()).sort((e,r)=>(r.lastMessageTime||0)-(e.lastMessageTime||0))}};E(at,"instance");let Zt=at;Zt.getInstance();const Oe=class Oe extends be{constructor(e){super();E(this,"baseUrl");E(this,"pendingRequests",new Map);this.baseUrl=e||Ke.API_URL,console.log(` API Client initialized with base URL: ${this.baseUrl}`)}static getInstance(e){return Oe.instance?e&&e!==Oe.instance.baseUrl&&(console.log(` Updating API base URL from ${Oe.instance.baseUrl} to ${e}`),Oe.instance.setBaseUrl(e)):Oe.instance=new Oe(e),Oe.instance}async onInitialize(){S("Initializing API client..."),S(`Production mode: Using API URL ${this.baseUrl}`)}onCleanup(){this.pendingRequests.clear(),S("API client cleaned up")}async request(e,r={}){const s=`${e}-${JSON.stringify(r)}`;if(this.pendingRequests.has(s))try{return await this.pendingRequests.get(s)}catch{}const o=this._executeRequest(e,r);this.pendingRequests.set(s,o);try{const i=await o;return this.pendingRequests.delete(s),i}catch(i){throw this.pendingRequests.delete(s),i}}async _executeRequest(e,r={},s=0){var o,i;try{const c=ce.getService("auth.state");let l=null;if(c)try{const m=ce.getService("auth.token");if(m){const g=await m.getAuthToken();if(g.success)l=g.token;else if(S("Failed to get auth token:",g.error),e.startsWith("/public/")||r.allowAnonymous)l=null;else throw new Error(g.error||"Failed to get auth token")}else{const g=ce.getService("auth");if(g&&typeof g.getAuthToken=="function"){const v=await g.getAuthToken();if(v.success)l=v.token;else if(S("Failed to get auth token with legacy service"),e.startsWith("/public/")||r.allowAnonymous)l=null;else throw new Error(v.error||"Failed to get auth token")}else if(e.startsWith("/public/")||r.allowAnonymous)l=null;else throw new Error("No authentication service available")}}catch(m){if(e.startsWith("/public/")||r.allowAnonymous)l=null;else throw m}else if(S("Auth service not available"),e.startsWith("/public/")||r.allowAnonymous)l=null;else throw new Error("Authentication service not available");const d={headers:{"Content-Type":"application/json",...l?{Authorization:`Bearer ${l}`}:{}}},u={...d,...r,headers:{...d.headers,...r.headers}};S(`Requesting ${r.method||"GET"} ${e}`);const h=e.startsWith("/")?e:`/${e}`,p=await fetch(`${this.baseUrl}${h}`,u);if(p.status===403||p.status===401)if(s<1)try{const m=ce.getService("auth.token");if(m&&typeof m.refreshToken=="function")if(await m.refreshToken()){l=(await m.getAuthToken()).token;const y={...r,headers:{...r.headers,Authorization:`Bearer ${l}`}};return this._executeRequest(e,y,s+1)}else throw new Error("Token refresh failed");else{const g=ce.getService("auth");if(g&&typeof g.refreshToken=="function")if(await g.refreshToken()){l=(await g.getAuthToken()).token;const b={...r,headers:{...r.headers,Authorization:`Bearer ${l}`}};return this._executeRequest(e,b,s+1)}else throw new Error("Token refresh failed with legacy service");else throw new Error("No authentication service available for token refresh")}}catch(m){const g=m instanceof Error?m.message:"Authentication failed after token refresh attempt";throw S("Token refresh failed:",g),new Error(g)}else throw new Error("Authentication failed after retry");if(!p.ok){const m=await p.text();let g;try{g=JSON.parse(m)}catch{g={detail:m}}const v=(g==null?void 0:g.detail)||`API error: ${p.status}`;throw S(`API error: ${v}`),new Error(v)}try{return await p.json()}catch{return S("Response was not JSON, returning success object"),{success:!0,message:"Request successful but response was not JSON"}}}catch(c){if(c instanceof Error&&((o=c.message)!=null&&o.includes("network")||(i=c.message)!=null&&i.includes("fetch"))&&s<2&&(!r.method||r.method==="GET")){const l=1e3*(s+1);return S(`Network error, retrying in ${l}ms (attempt ${s+1})`),await new Promise(d=>setTimeout(d,l)),this._executeRequest(e,r,s+1)}throw J.captureError(new B(`API request to ${e} failed`,K.API_ERROR,c)),c}}setBaseUrl(e){this.baseUrl=e,S(`API base URL set to: ${e}`)}getBaseUrl(){return this.baseUrl}};E(Oe,"instance");let _r=Oe;const re=_r.getInstance();class Cu{async saveMessageBatch(t){return console.log("saveMessageBatch",t),re.request("/save/batch/message",{method:"POST",body:JSON.stringify({messages:t})})}async saveMessage(t){return re.request("/save/message",{method:"POST",body:JSON.stringify(t)})}async saveChatBatch(t){return re.request("/save/batch/chat",{method:"POST",body:JSON.stringify({chats:t})})}async saveChat(t){return re.request("/save/chat",{method:"POST",body:JSON.stringify({chat_provider_id:t.chat_provider_id,title:t.title,provider_name:t.provider_name||"ChatGPT"})})}async saveBatch(t){return re.request("/save/batch",{method:"POST",body:JSON.stringify(t)})}}const Pr=new Cu,ct=class ct extends be{constructor(){super();E(this,"savingConversations",new Set);E(this,"savingMessages",new Set);E(this,"handleConversationLoaded",e=>{const{conversation:r,messages:s}=e.detail;r&&(this.saveConversation(r.id,r.title),s&&Array.isArray(s)&&s.length>0&&this.saveMessages(r.id,s))})}static getInstance(){return ct.instance||(ct.instance=new ct),ct.instance}async onInitialize(){S("Initializing ConversationStorage"),document.addEventListener("archimind:conversation-loaded",this.handleConversationLoaded)}onCleanup(){document.removeEventListener("archimind:conversation-loaded",this.handleConversationLoaded),S("ConversationStorage cleaned up")}async saveConversation(e,r){if(this.savingConversations.has(e))return!1;this.savingConversations.add(e);try{return await Pr.saveChat({chat_provider_id:e,title:r,provider_name:"ChatGPT"}),S(`Saved conversation ${e.substring(0,8)}...`),!0}catch(s){return J.captureError(new B("Error saving conversation",K.API_ERROR,s)),!1}finally{this.savingConversations.delete(e)}}async saveMessages(e,r){if(this.savingMessages.has(e))return!1;this.savingMessages.add(e);try{for(let o=0;o<r.length;o+=50){const i=r.slice(o,o+50),c=i.map(l=>({message_provider_id:l.messageId,chat_provider_id:e,content:l.content,role:l.role,model:l.model||"unknown",parent_message_provider_id:l.parent_message_provider_id,created_at:l.timestamp?Math.floor(l.timestamp/1e3):void 0}));await Pr.saveMessageBatch(c),S(`Saved batch of ${i.length} messages for conversation ${e.substring(0,8)}...`)}return!0}catch(s){return J.captureError(new B("Error saving messages",K.API_ERROR,s)),!1}finally{this.savingMessages.delete(e)}}};E(ct,"instance");let jn=ct;jn.getInstance();const lt=class lt extends be{constructor(){super();E(this,"messages",new Map);E(this,"handleExtractedMessage",e=>{const{message:r}=e.detail;r&&(this.addMessage(r),document.dispatchEvent(new CustomEvent("archimind:queue-message",{detail:{message:r}})),r.role==="user"?Ee(fe.CHAT_MESSAGE_SENT,{messageId:r.messageId,content:r.content,conversationId:r.conversationId}):r.role==="assistant"&&Ee(fe.CHAT_MESSAGE_RECEIVED,{messageId:r.messageId,content:r.content,role:r.role,conversationId:r.conversationId}))});E(this,"handleConversationMessages",e=>{const{messages:r}=e.detail;r&&Array.isArray(r)&&r.forEach(s=>{this.addMessage(s)})})}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}async onInitialize(){S("Initializing MessageManager"),document.addEventListener("archimind:message-extracted",this.handleExtractedMessage),document.addEventListener("archimind:conversation-loaded",this.handleConversationMessages)}onCleanup(){document.removeEventListener("archimind:message-extracted",this.handleExtractedMessage),document.removeEventListener("archimind:conversation-loaded",this.handleConversationMessages),this.messages.clear(),S("MessageManager cleaned up")}addMessage(e){const{conversationId:r,messageId:s}=e;if(!r||!s)return;this.messages.has(r)||this.messages.set(r,new Map),this.messages.get(r).set(s,e)}getConversationMessages(e){const r=this.messages.get(e);return r?Array.from(r.values()).sort((s,o)=>s.timestamp-o.timestamp):[]}getMessage(e,r){const s=this.messages.get(e);return s&&s.get(r)||null}};E(lt,"instance");let Dn=lt;Dn.getInstance();const ut=class ut extends be{constructor(){super();E(this,"queue",[]);E(this,"processing",!1);E(this,"timer",null);E(this,"processed",new Set);E(this,"handleQueueMessage",e=>{const{message:r}=e.detail;r&&this.queueMessage(r)})}static getInstance(){return ut.instance||(ut.instance=new ut),ut.instance}async onInitialize(){S("Initializing MessageQueue"),document.addEventListener("archimind:queue-message",this.handleQueueMessage)}onCleanup(){document.removeEventListener("archimind:queue-message",this.handleQueueMessage),this.timer!==null&&(clearTimeout(this.timer),this.timer=null),S("MessageQueue cleaned up")}queueMessage(e){this.processed.has(e.messageId)||(this.processed.add(e.messageId),this.queue.push(e),this.processing||this.processQueue())}processQueue(){if(this.timer!==null&&(clearTimeout(this.timer),this.timer=null),this.queue.length===0){this.processing=!1;return}this.processing=!0;const e=this.queue.splice(0,5);this.saveBatch(e).finally(()=>{this.timer=window.setTimeout(()=>this.processQueue(),100)})}async saveBatch(e){if(e.length!==0)try{const r=e.map(s=>({message_provider_id:s.messageId,chat_provider_id:s.conversationId,content:s.content,role:s.role,parent_message_provider_id:s.parent_message_provider_id,model:s.model||"unknown",created_at:s.timestamp}));await Pr.saveMessageBatch(r),S(`Saved batch of ${e.length} messages`)}catch(r){J.captureError(new B("Error saving message batch",K.API_ERROR,r))}}};E(ut,"instance");let kn=ut;kn.getInstance();const dt=class dt extends be{constructor(){super();E(this,"pendingMessages",[]);E(this,"handleExtractedMessage",e=>{const{message:r}=e.detail;r&&!r.conversationId&&this.addPendingMessage(r)});E(this,"handleConversationChanged",e=>{const{conversationId:r}=e.detail;r&&this.processPendingMessages(r)})}static getInstance(){return dt.instance||(dt.instance=new dt),dt.instance}async onInitialize(){S("Initializing PendingMessageTracker"),document.addEventListener("archimind:message-extracted",this.handleExtractedMessage),document.addEventListener("archimind:conversation-changed",this.handleConversationChanged)}onCleanup(){document.removeEventListener("archimind:message-extracted",this.handleExtractedMessage),document.removeEventListener("archimind:conversation-changed",this.handleConversationChanged),this.pendingMessages=[],S("PendingMessageTracker cleaned up")}addPendingMessage(e){this.pendingMessages.push({message:e,timestamp:Date.now()}),S(`Added pending message: ${e.messageId}`),this.cleanupOldPendingMessages()}processPendingMessages(e){if(this.pendingMessages.length===0)return;const r=this.pendingMessages.filter(s=>!s.message.conversationId||s.message.conversationId===e);r.length!==0&&(S(`Processing ${r.length} pending messages for conversation: ${e}`),r.forEach(s=>{const o={...s.message,conversationId:e};document.dispatchEvent(new CustomEvent("archimind:message-extracted",{detail:{message:o}})),this.pendingMessages=this.pendingMessages.filter(i=>i.message.messageId!==s.message.messageId)}))}cleanupOldPendingMessages(){const e=Date.now(),r=5*60*1e3,s=this.pendingMessages.length;this.pendingMessages=this.pendingMessages.filter(i=>e-i.timestamp<r);const o=this.pendingMessages.length;s!==o&&S(`Cleaned up ${s-o} old pending messages`)}};E(dt,"instance");let Ln=dt;Ln.getInstance();var Uo=(n=>(n.INVALID_CREDENTIALS="INVALID_CREDENTIALS",n.EMAIL_NOT_VERIFIED="EMAIL_NOT_VERIFIED",n.ACCOUNT_LOCKED="ACCOUNT_LOCKED",n.TOO_MANY_ATTEMPTS="TOO_MANY_ATTEMPTS",n.SESSION_EXPIRED="SESSION_EXPIRED",n.NETWORK_ERROR="NETWORK_ERROR",n.UNKNOWN_ERROR="UNKNOWN_ERROR",n))(Uo||{});const gr={name:"",content:"",description:"",folder:"",folder_id:void 0,based_on_official_id:null},Eu={SETTINGS:"settings",CREATE_TEMPLATE:"createTemplate",EDIT_TEMPLATE:"editTemplate",CREATE_FOLDER:"createFolder",PLACEHOLDER_EDITOR:"placeholderEditor",AUTH:"auth",CONFIRMATION:"confirmation"};class Su{constructor(){E(this,"authState",{user:null,isAuthenticated:!1,isLoading:!0,error:null});E(this,"listeners",new Set)}getState(){return{...this.authState}}updateState(t){this.authState={...this.authState,...t},this.notifyListeners()}subscribe(t){return this.listeners.add(t),t(this.getState()),()=>{this.listeners.delete(t)}}clearListeners(){this.listeners.clear()}notifyListeners(){const t=this.getState();this.listeners.forEach(e=>{try{e(t)}catch(r){console.error("Error in auth state listener:",r)}})}}class vn{static async getUserFromStorage(){return new Promise(t=>{chrome.storage.local.get(["user"],e=>{t(e.user||null)})})}static async signInWithEmail(t,e){return new Promise(r=>{chrome.runtime.sendMessage({action:"emailSignIn",email:t,password:e},s=>{r(s)})})}static async signUp(t,e,r){return new Promise(s=>{chrome.runtime.sendMessage({action:"signUp",email:t,password:e,name:r},o=>{s(o)})})}static async clearUserData(){return new Promise(t=>{chrome.storage.local.remove(["access_token","refresh_token","token_expires_at","user","userId"],()=>{Ee(fe.AUTH_LOGOUT,void 0),t()})})}}class vr{static showSessionExpiredNotification(){z.error("Session Expired",{description:"Your session has expired. Please sign in again.",action:{label:"Sign In",onClick:()=>{document.dispatchEvent(new CustomEvent("archimind:show-auth-modal",{detail:{mode:"signin",isSessionExpired:!0}}))}}})}static showSignOutConfirmation(){z.success("Signed Out",{description:"You have been successfully signed out."})}static notifyAuthError(t,e){document.dispatchEvent(new CustomEvent("archimind:auth-error",{detail:{errorCode:t}})),Ee(fe.AUTH_ERROR,{message:e||"Authentication error",code:t})}}class Ar{static storeAuthSession(t){return!t||!t.access_token||!t.refresh_token?(S("Incomplete session data, not storing"),Promise.reject(new Error("Incomplete session data"))):(S("Storing auth session. Expires at:",t.expires_at),new Promise((e,r)=>{chrome.storage.local.set({access_token:t.access_token,refresh_token:t.refresh_token,token_expires_at:t.expires_at},()=>{chrome.runtime.lastError?(S("Error storing auth session:",chrome.runtime.lastError),r(chrome.runtime.lastError)):(S("Auth session stored successfully"),e())})}))}static getTokenInfo(){return new Promise(t=>{chrome.storage.local.get(["access_token","refresh_token","token_expires_at"],e=>{t(e)})})}static clearAuthData(){return new Promise(t=>{chrome.storage.local.remove(["access_token","refresh_token","token_expires_at"],()=>{S("Auth tokens cleared"),t()})})}}const Ie=class Ie{static async refreshToken(){return new Promise(t=>{chrome.runtime.sendMessage({action:"refreshAuthToken"},e=>{S("Token refresh response:",e.success?"success":"failed"),e.success?t(!0):t(!1)})})}static setupAutoRefresh(t){Ie.refreshTimer!==null&&(clearTimeout(Ie.refreshTimer),Ie.refreshTimer=null),Ar.getTokenInfo().then(e=>{if(!e.token_expires_at){S("No token expiration time found");return}const r=e.token_expires_at*1e3,s=Date.now(),o=r-s-5*60*1e3;if(S(`Token expires in ${Math.floor((r-s)/1e3/60)} minutes`),o<=0){S("Token expired or expiring soon, refreshing now"),t();return}S(`Scheduling token refresh in ${Math.floor(o/1e3/60)} minutes`),Ie.refreshTimer=window.setTimeout(()=>{S("Auto-refreshing token"),t()},o)})}static cleanup(){Ie.refreshTimer!==null&&(clearTimeout(Ie.refreshTimer),Ie.refreshTimer=null)}};E(Ie,"refreshTimer",null);let Qe=Ie;const ft=class ft extends be{constructor(){super()}static getInstance(){return ft.instance||(ft.instance=new ft),ft.instance}async onInitialize(){S("Initializing TokenService"),Qe.setupAutoRefresh(()=>this.refreshToken())}onCleanup(){Qe.cleanup(),S("TokenService cleaned up")}async getAuthToken(){return new Promise(t=>{chrome.runtime.sendMessage({action:"getAuthToken"},e=>{t(e)})})}async refreshToken(){const t=await Qe.refreshToken();return t&&Qe.setupAutoRefresh(()=>this.refreshToken()),t}async storeAuthSession(t){await Ar.storeAuthSession(t),Qe.setupAutoRefresh(()=>this.refreshToken())}async clearAuthData(t){await Ar.clearAuthData(),Qe.cleanup(),t&&t()}};E(ft,"instance");let Fn=ft;const ht=class ht extends be{constructor(e,r){super();E(this,"stateManager");E(this,"tokenService");this.tokenService=e,this.stateManager=r||new Su}static getInstance(e){return ht.instance||(ht.instance=new ht(e||Fn.getInstance())),ht.instance}async onInitialize(){this.stateManager.updateState({isLoading:!0,error:null});try{const e=await this.tokenService.getAuthToken();if(!e.success){this.stateManager.updateState({isAuthenticated:!1,isLoading:!1,error:e.error||null,user:null});return}const r=await vn.getUserFromStorage();this.stateManager.updateState({isAuthenticated:!0,isLoading:!1,error:null,user:r})}catch(e){console.error("Auth initialization error:",e),this.stateManager.updateState({isAuthenticated:!1,isLoading:!1,error:e instanceof Error?e.message:"Authentication error",user:null})}}onCleanup(){this.stateManager.clearListeners()}isAuthenticated(){return this.stateManager.getState().isAuthenticated}getAuthState(){return this.stateManager.getState()}subscribe(e){return this.stateManager.subscribe(e)}handleSessionExpired(){this.stateManager.updateState({isAuthenticated:!1,error:"Session expired. Please sign in again.",user:null}),chrome.storage.local.remove(["access_token","refresh_token","token_expires_at"]),vr.showSessionExpiredNotification(),vr.notifyAuthError(Uo.SESSION_EXPIRED,this.stateManager.getState().error)}async signInWithEmail(e,r){const s=await vn.signInWithEmail(e,r);return s.success?(this.stateManager.updateState({isAuthenticated:!0,user:s.user,error:null}),!0):(this.stateManager.updateState({isAuthenticated:!1,error:s.error||"Sign-in failed"}),!1)}async signUp(e,r,s){const o=await vn.signUp(e,r,s);return o.success?(o.user&&this.stateManager.updateState({user:o.user,error:null}),!0):(this.stateManager.updateState({isAuthenticated:!1,error:o.error||"Sign-up failed"}),!1)}async signOut(){await vn.clearUserData(),this.stateManager.updateState({isAuthenticated:!1,user:null,error:null}),vr.showSignOutConfirmation()}clearError(){this.stateManager.getState().error&&this.stateManager.updateState({error:null})}};E(ht,"instance",null);let en=ht;const Qt=en.getInstance();class Ru{async fetchNotifications(){try{return await re.request("/notifications/")}catch(t){return console.error("Error fetching notifications:",t),[]}}async fetchUnreadNotifications(){try{return await re.request("/notifications/unread")}catch(t){return console.error("Error fetching unread notifications:",t),[]}}async markNotificationRead(t){return re.request(`/notifications/${t}/read`,{method:"POST"})}async markAllNotificationsRead(){return re.request("/notifications/read-all",{method:"POST"})}async getNotificationCountsResponse(){return re.request("/notifications/count")}async deleteNotification(t){return re.request(`/notifications/${t}`,{method:"DELETE"})}}const yn=new Ru,pt=class pt extends be{constructor(){super();E(this,"notifications",[]);E(this,"isLoading",!1);E(this,"lastLoadTime",0);E(this,"pollingInterval",null);E(this,"updateCallbacks",[]);E(this,"unreadCount",0)}static getInstance(){return pt.instance||(pt.instance=new pt),pt.instance}async onInitialize(){S(" Initializing notification service..."),await this.loadNotifications(),this.startPolling(),S(" Notification service initialized")}onCleanup(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null),this.updateCallbacks=[],S(" Notification service cleaned up")}async loadNotifications(e=!1){const r=Date.now();if(!e&&this.lastLoadTime>0&&r-this.lastLoadTime<6e5)return[...this.notifications];if(this.isLoading)return[...this.notifications];this.isLoading=!0;try{S(" Loading notifications...");const s=this.getUnreadCount(),o=await yn.fetchNotifications();if(o){this.notifications=o,this.lastLoadTime=r;const i=this.getUnreadCount();if(S(` Loaded ${this.notifications.length} notifications (${i} unread)`),i>s){const c=i-s;this.showNewNotificationsToast(c)}this.updateBadge(),this.notifyUpdateListeners(),Ee(fe.NOTIFICATION_COUNT_UPDATED,{count:i})}}catch(s){S(" Error loading notifications:",s)}finally{this.isLoading=!1}return[...this.notifications]}getNotifications(){return[...this.notifications]}getUnreadNotifications(){return this.notifications.filter(e=>!e.read_at)}getNotification(e){return this.notifications.find(r=>r.id===e)}async markAsRead(e){try{const r=this.notifications.find(s=>s.id===e);return r?(r.read_at=new Date().toISOString(),this.updateBadge(),this.notifyUpdateListeners(),Ee(fe.NOTIFICATION_READ,{notificationId:e}),await yn.markNotificationRead(e.toString()),!0):!1}catch(r){return S(" Error marking notification as read:",r),!1}}async markAllAsRead(){try{const e=this.getUnreadCount();if(e===0)return!0;const r=new Date().toISOString();return this.notifications.forEach(s=>{s.read_at||(s.read_at=r)}),this.updateBadge(),this.notifyUpdateListeners(),await yn.markAllNotificationsRead(),z.success(`Marked ${e} notifications as read`),!0}catch(e){return S(" Error marking all notifications as read:",e),!1}}async deleteNotification(e){try{return this.notifications.find(s=>s.id===e)?(this.notifications=this.notifications.filter(s=>s.id!==e),this.updateBadge(),this.notifyUpdateListeners(),Ee(fe.NOTIFICATION_DELETED,{notificationId:e}),await yn.deleteNotification(e.toString()),z.success("Notification deleted"),!0):!1}catch(r){return S(" Error deleting notification:",r),!1}}showLocalNotification(e){switch(e.type){case"info":z.info(e.title,{description:e.body,action:e.action});break;case"warning":z.warning(e.title,{description:e.body,action:e.action});break;case"success":z.success(e.title,{description:e.body,action:e.action});break;case"error":z.error(e.title,{description:e.body,action:e.action});break}}startPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null),this.pollingInterval=window.setInterval(()=>{this.loadNotifications()},6e5),S("Started polling for notifications")}onNotificationsUpdate(e){return this.updateCallbacks.push(e),e([...this.notifications]),()=>{this.updateCallbacks=this.updateCallbacks.filter(r=>r!==e)}}getUnreadCount(){return this.notifications.filter(e=>!e.read_at).length}updateBadge(){const e=this.getUnreadCount();this.unreadCount=e,document.dispatchEvent(new CustomEvent("archimind:notification-count-changed",{detail:{unreadCount:e}}))}showNewNotificationsToast(e){z.info(`${e} New Notification${e>1?"s":""}`,{description:"Click to view your notifications",action:{label:"View",onClick:()=>{document.dispatchEvent(new CustomEvent("archimind:open-notifications"))}}})}parseMetadataSafe(e){try{if(!e)return null;if(typeof e=="object")return this.validateMetadata(e);const r=JSON.parse(e);return this.validateMetadata(r)}catch(r){return S(" Error parsing notification metadata:",r),null}}validateMetadata(e){return!e||typeof e!="object"||typeof e.action_type!="string"||typeof e.action_title_key!="string"?null:e.action_type==="openUrl"&&(!e.action_url||typeof e.action_url!="string")?(S(" openUrl action missing valid URL"),null):{action_type:e.action_type,action_title_key:e.action_title_key,action_url:e.action_url}}getActionButton(e){if(!e.metadata)return null;const r=this.parseMetadataSafe(e.metadata);return r?{title:r.action_title_key,visible:!0}:null}async handleNotificationAction(e){try{const r=this.notifications.find(o=>o.id===e);if(!r)return;await this.markAsRead(e);const s=this.parseMetadataSafe(r.metadata);if(s&&s.action_type){switch(s.action_type){case"openUrl":s.action_url?window.open(s.action_url,"_blank"):z.error("No URL provided for openUrl action");break;case"openChatGpt":window.open("https://chat.openai.com/","_blank");break;case"openSettings":document.dispatchEvent(new CustomEvent("archimind:open-settings"));break;case"showTemplates":document.dispatchEvent(new CustomEvent("archimind:open-templates"));break;default:S(` Unknown action type: ${s.action_type}`),z.info(r.title,{description:r.body});break}return}switch(r.type){case"insight_prompt_length":case"insight_response_time":case"insight_conversation_quality":z.info(r.title,{description:r.body,action:{label:"View",onClick:()=>window.open("https://chatgpt.com/","_blank")}});break;default:z.info(r.title,{description:r.body});break}}catch(r){S(" Error handling notification action:",r),z.error("Failed to process notification action")}}notifyUpdateListeners(){const e=[...this.notifications];this.updateCallbacks.forEach(r=>{try{r(e)}catch(s){S(" Error in notification update callback:",s)}})}};E(pt,"instance");let Un=pt;const We=Un.getInstance();class Tu{async saveUserMetadata(t){return console.log("saveUserMetadata",t),re.request("/save/user_metadata",{method:"POST",body:JSON.stringify(t)})}async getUserMetadata(){return re.request("/user/metadata")}async getUserStats(){return re.request("/stats/user")}async getWeeklyConversationStats(){return re.request("/stats/conversations/weekly")}async getMessageDistribution(){return re.request("/stats/messages/distribution")}}const Cn=new Tu,mt=class mt extends be{constructor(){super();E(this,"stats",{totalChats:0,recentChats:0,totalMessages:0,avgMessagesPerChat:0,messagesPerDay:{},tokenUsage:{recent:0,recentInput:0,recentOutput:0,total:0,totalInput:0,totalOutput:0},energyUsage:{recent:0,total:0,perMessage:0},thinkingTime:{total:0,average:0}});E(this,"updateInterval",null);E(this,"updateCallbacks",[]);E(this,"lastLoadTime",0);E(this,"retryCount",0);E(this,"isLoading",!1);E(this,"handleMessageExtracted",e=>{const{message:r}=e.detail;if(r)try{r.role==="user"?this.trackUserMessageSent(r.content):r.role==="assistant"&&this.trackAssistantMessageReceived(r.content,r.thinkingTime),this.debounceRefresh()}catch(s){S("Error handling message extracted event:",s)}});E(this,"handleConversationLoaded",e=>{this.debounceRefresh(500)});E(this,"handleConversationList",e=>{const{conversations:r}=e.detail;if(r&&Array.isArray(r)){const s=this.stats.totalChats,o=r.length;o!==s&&(this.stats.totalChats=o,this.notifyUpdateListeners(),this.debounceRefresh())}});E(this,"handleConversationChanged",e=>{this.debounceRefresh(500)});E(this,"handleChatMessageSent",e=>{try{const{content:r}=e.detail;r&&this.trackUserMessageSent(r)}catch(r){S("Error handling chat message sent event:",r)}});E(this,"handleChatMessageReceived",e=>{try{const{content:r,thinkingTime:s}=e.detail;r&&this.trackAssistantMessageReceived(r,s)}catch(r){S("Error handling chat message received event:",r)}});E(this,"handleChatConversationChanged",e=>{this.debounceRefresh(500)});E(this,"handleNetworkEvent",e=>{var o,i;const{type:r,data:s}=e.detail;if(s)try{switch(r){case"chatCompletion":if(((i=(o=s.requestBody)==null?void 0:o.messages)==null?void 0:i.length)>0){const c=this.extractUserMessage(s.requestBody);c&&c.content&&(this.trackUserMessageSent(c.content),this.debounceRefresh())}break;case"assistantResponse":s.isComplete&&s.content&&(this.trackAssistantMessageReceived(s.content,s.thinkingTime),this.debounceRefresh());break;case"conversationList":this.debounceRefresh();break;case"specificConversation":this.debounceRefresh(500);break}}catch(c){S("Error handling stats event:",c)}});E(this,"refreshTimeout",null)}static getInstance(){return mt.instance||(mt.instance=new mt),mt.instance}async onInitialize(){S("Initializing stats service..."),this.setupEventListeners(),await this.loadStats(),this.updateInterval=window.setInterval(()=>{Date.now()-this.lastLoadTime>=1e4&&this.loadStats()},2e4),S("Stats service initialized")}onCleanup(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.updateCallbacks=[],S("Stats service cleaned up")}setupEventListeners(){document.addEventListener("archimind-network-intercept",this.handleNetworkEvent),document.addEventListener("archimind:message-extracted",this.handleMessageExtracted),document.addEventListener("archimind:conversation-loaded",this.handleConversationLoaded),document.addEventListener("archimind:conversation-list",this.handleConversationList),document.addEventListener("archimind:conversation-changed",this.handleConversationChanged),document.addEventListener(fe.CHAT_MESSAGE_SENT,this.handleChatMessageSent),document.addEventListener(fe.CHAT_MESSAGE_RECEIVED,this.handleChatMessageReceived),document.addEventListener(fe.CHAT_CONVERSATION_CHANGED,this.handleChatConversationChanged)}trackUserMessageSent(e){this.stats.totalMessages++;const r=new Date().toISOString().split("T")[0];this.stats.messagesPerDay[r]=(this.stats.messagesPerDay[r]||0)+1;const s=this.estimateTokens(e);this.stats.tokenUsage.totalInput+=s,this.stats.tokenUsage.recent+=s,this.stats.tokenUsage.recentInput+=s;const o=s*3e-4/36e5;this.stats.energyUsage.total+=o,this.stats.energyUsage.recent+=o,this.notifyUpdateListeners()}trackAssistantMessageReceived(e,r){this.stats.totalMessages++;const s=new Date().toISOString().split("T")[0];this.stats.messagesPerDay[s]=(this.stats.messagesPerDay[s]||0)+1;const o=this.estimateTokens(e);this.stats.tokenUsage.totalOutput+=o,this.stats.tokenUsage.recent+=o,this.stats.tokenUsage.recentOutput+=o;const i=o*6e-4/36e5;this.stats.energyUsage.total+=i,this.stats.energyUsage.recent+=i,r&&(this.stats.thinkingTime.total+=r,this.stats.thinkingTime.average=this.stats.totalMessages>0?this.stats.thinkingTime.total/this.stats.totalMessages:0),this.notifyUpdateListeners()}estimateTokens(e){return e?Math.max(1,Math.ceil(e.length/4)):0}extractUserMessage(e){var r;try{if(!e||!e.messages)return null;const s=e.messages.find(i=>{var c;return((c=i.author)==null?void 0:c.role)==="user"||i.role==="user"});if(!s)return null;let o="";return(r=s.content)!=null&&r.parts?o=s.content.parts.join(`
`):typeof s.content=="string"?o=s.content:s.content&&(o=JSON.stringify(s.content)),{id:s.id||`user-${Date.now()}`,content:o}}catch(s){return S("Error extracting user message:",s),null}}debounceRefresh(e=3e3){this.refreshTimeout!==null&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=window.setTimeout(()=>{this.refreshTimeout=null,this.loadStats()},e)}getStats(){return{...this.stats}}getMessagesPerDayChart(){const e=Object.keys(this.stats.messagesPerDay).sort();return{labels:e,values:e.map(r=>this.stats.messagesPerDay[r])}}getEnergyUsageChart(){return{labels:["Recent","Total"],values:[this.stats.energyUsage.recent,this.stats.energyUsage.total]}}getTokenUsageChart(){return{labels:["Input","Output"],values:[this.stats.tokenUsage.totalInput,this.stats.tokenUsage.totalOutput]}}getModelUsageChart(){if(!this.stats.modelUsage)return{labels:[],values:[]};const e=Object.keys(this.stats.modelUsage);return{labels:e,values:e.map(r=>{var s;return((s=this.stats.modelUsage)==null?void 0:s[r].count)||0})}}async refreshStats(){return this.loadStats(!0)}onUpdate(e){return this.updateCallbacks.push(e),e({...this.stats}),()=>{this.updateCallbacks=this.updateCallbacks.filter(r=>r!==e)}}async loadStats(e=!1){var r,s,o,i,c,l,d,u,h,p,m,g;if(!(!e&&Date.now()-this.lastLoadTime<6e4)&&!this.isLoading){this.isLoading=!0;try{S("Loading stats from backend...");const v=await Cn.getUserStats();v&&(this.stats={...this.stats,totalChats:v.total_chats||0,recentChats:v.recent_chats||0,totalMessages:v.total_messages||0,avgMessagesPerChat:v.avg_messages_per_chat||0,efficiency:v.efficiency,tokenUsage:{recent:((r=v.token_usage)==null?void 0:r.recent)||0,recentInput:((s=v.token_usage)==null?void 0:s.recent_input)||0,recentOutput:((o=v.token_usage)==null?void 0:o.recent_output)||0,total:((i=v.token_usage)==null?void 0:i.total)||0,totalInput:((c=v.token_usage)==null?void 0:c.total_input)||0,totalOutput:((l=v.token_usage)==null?void 0:l.total_output)||0},energyUsage:{recentWh:((d=v.energy_usage)==null?void 0:d.recent_wh)||0,totalWh:((u=v.energy_usage)==null?void 0:u.total_wh)||0,perMessageWh:((h=v.energy_usage)==null?void 0:h.per_message_wh)||0,equivalent:((p=v.energy_usage)==null?void 0:p.equivalent)||""},thinkingTime:{total:((m=v.thinking_time)==null?void 0:m.total)||0,average:((g=v.thinking_time)==null?void 0:g.average)||0},modelUsage:v.model_usage||{}},v.messages_per_day&&(this.stats.messagesPerDay={...v.messages_per_day}),S("Stats updated from backend"),this.lastLoadTime=Date.now(),this.retryCount=0,this.notifyUpdateListeners(),Ee(fe.STATS_UPDATED,{stats:this.getStats()}))}catch(v){if(J.captureError(new B("Error loading stats",K.API_ERROR,v)),this.retryCount<3){this.retryCount++;const y=Math.pow(2,this.retryCount)*1e3;S(`Will retry loading stats in ${y/1e3}s (attempt ${this.retryCount}/3)`),setTimeout(()=>{this.isLoading=!1,this.loadStats()},y)}else{if(this.lastLoadTime===0&&(S("Using fallback stats data after multiple failed attempts"),this.stats.totalMessages===0)){const y=new Date().toISOString().split("T")[0];this.stats.messagesPerDay[y]=this.stats.messagesPerDay[y]||0,this.notifyUpdateListeners()}this.retryCount=0}}finally{this.retryCount===0&&(this.isLoading=!1)}}}notifyUpdateListeners(){const e={...this.stats};this.updateCallbacks.forEach(r=>{try{r(e)}catch(s){J.captureError(new B("Error in stats update callback",K.EXTENSION_ERROR,s))}})}async getWeeklyConversations(){try{return await Cn.getWeeklyConversationStats()}catch(e){return J.captureError(new B("Error getting weekly conversation stats",K.API_ERROR,e)),null}}async getMessageDistribution(){try{return await Cn.getMessageDistribution()}catch(e){return J.captureError(new B("Error getting message distribution",K.API_ERROR,e)),null}}};E(mt,"instance");let Or=mt;const gt=class gt extends be{constructor(){super();E(this,"userInfo",null);E(this,"fetchedUserInfo",!1);E(this,"storageKey","archimind_user_info");E(this,"cleanupListeners",[]);E(this,"handleInterceptEvent",e=>{try{if(!e.detail||e.detail.type!=="userInfo"||!e.detail.data)return;const r=e.detail.data;if(!r.responseBody)return;const s=r.responseBody;s&&s.email&&s.email!==""&&(this.processUserInfo(s),this.fetchedUserInfo=!0,this.saveUserInfoToStorage(s),Ee(fe.USER_INFO_UPDATED,{email:s.email,name:s.name||s.email.split("@")[0]}))}catch(r){J.captureError(new B("Error handling intercept event",K.EXTENSION_ERROR,r))}})}static getInstance(){return gt.instance||(gt.instance=new gt),gt.instance}async onInitialize(){S("Initializing UserProfileService"),this.getUserInfoFromStorage().then(e=>{e&&(this.processUserInfo(e),this.fetchedUserInfo=!0)}),this.setupNetworkListeners(),document.addEventListener("archimind-network-intercept",this.handleInterceptEvent)}onCleanup(){this.cleanupListeners.forEach(e=>e()),this.cleanupListeners=[],document.removeEventListener("archimind-network-intercept",this.handleInterceptEvent),S("UserProfileService cleaned up")}setupNetworkListeners(){const e=Ge.addListener("/backend-api/me",this.handleUserInfoCapture.bind(this));this.cleanupListeners.push(e);const r=Ge.addListener("/backend-api/conversations",this.handleConversationsCapture.bind(this));this.cleanupListeners.push(r)}handleUserInfoCapture(e){try{if(S("User info captured from network"),!e||!e.responseBody)return;const r=e.responseBody;r&&r.email&&r.email!==""&&(this.processUserInfo(r),this.fetchedUserInfo=!0,this.saveUserInfoToStorage(r),Ee(fe.USER_INFO_UPDATED,{email:r.email,name:r.name||r.email.split("@")[0]}))}catch(r){J.captureError(new B("Error handling user info capture",K.API_ERROR,r))}}handleConversationsCapture(e){try{if(!e||!e.responseBody)return;const r=e.responseBody,s=r.user||r.viewer||r.current_user;s&&s.id&&s.email&&s.email!==""&&(this.processUserInfo(s),this.fetchedUserInfo=!0,this.saveUserInfoToStorage(s),Ee(fe.USER_INFO_UPDATED,{email:s.email,name:s.name||s.email.split("@")[0]}))}catch(r){J.captureError(new B("Error processing conversations data",K.API_ERROR,r))}}processUserInfo(e){try{if(!e||!e.id||!e.email)return;let r=null;e.orgs&&e.orgs.data&&e.orgs.data.length>0&&(r=e.orgs.data[0].title||null),this.userInfo={id:e.id,email:e.email,name:e.name||e.email.split("@")[0],picture:e.picture||null,phone_number:e.phone_number||null,org_name:r},this.saveUserMetadataToBackend(),S("User info processed successfully")}catch(r){J.captureError(new B("Error processing user info",K.VALIDATION_ERROR,r))}}saveUserInfoToStorage(e){try{chrome.storage.local.set({[this.storageKey]:e}),S("User info saved to storage")}catch(r){J.captureError(new B("Error saving user info to storage",K.STORAGE_ERROR,r))}}async getUserInfoFromStorage(){try{return new Promise(e=>{chrome.storage.local.get([this.storageKey],r=>{r&&r[this.storageKey]?(S("Retrieved user info from storage"),e(r[this.storageKey])):(S("No user info found in storage"),e(null))})})}catch(e){return J.captureError(new B("Error getting user info from storage",K.STORAGE_ERROR,e)),null}}getUserInfo(){return this.userInfo}getUserId(){var e;return((e=this.userInfo)==null?void 0:e.id)||null}saveUserMetadataToBackend(){if(this.userInfo)try{Cn.saveUserMetadata({email:this.userInfo.email,name:this.userInfo.name,phone_number:this.userInfo.phone_number||void 0,org_name:this.userInfo.org_name||void 0,picture:this.userInfo.picture||void 0}).then(()=>{S("User metadata saved to backend")}).catch(e=>{J.captureError(new B("Error saving user metadata",K.API_ERROR,e))})}catch(e){J.captureError(new B("Error preparing user metadata save",K.UNKNOWN_ERROR,e))}}refreshUserInfo(){this.fetchedUserInfo=!1,chrome.storage.local.remove([this.storageKey]),S("User info refreshed")}};E(gt,"instance");let $n=gt;$n.getInstance();function Mu(){ce.registerService("chat.message-parser",Nr.getInstance()),ce.registerService("chat.conversation-parser",In.getInstance()),ce.registerService("chat.conversation-manager",Zt.getInstance(),["chat.conversation-parser"]),ce.registerService("chat.conversation-storage",jn.getInstance(),["chat.conversation-manager"]),ce.registerService("messages.manager",Dn.getInstance(),["chat.message-parser"]),ce.registerService("messages.queue",kn.getInstance(),["messages.manager"]),ce.registerService("messages.pending",Ln.getInstance(),["chat.message-parser","chat.conversation-manager"]),ce.registerService("auth.token",Fn.getInstance()),ce.registerService("auth.state",en.getInstance(),["auth.token"]),ce.registerService("notifications",Un.getInstance()),ce.registerService("stats",Or.getInstance()),ce.registerService("auth",en.getInstance()),ce.registerService("chat",Zt.getInstance()),ce.registerService("user",$n.getInstance()),console.log("All services registered with ServiceManager")}class Nu{constructor(){E(this,"instances",new Map);E(this,"stylesInjected",!1)}injectStyles(){if(!this.stylesInjected)try{if(document.getElementById("archimind-styles")){this.stylesInjected=!0;return}const t=document.createElement("link");t.rel="stylesheet",t.href=chrome.runtime.getURL("assets/content.css"),t.id="archimind-styles",document.head.appendChild(t);const e=document.createElement("style");e.textContent=`
        #archimind-root, #archimind-root * {
          z-index: 999999;
        }
      `,e.id="archimind-inline-styles",document.head.appendChild(e),this.stylesInjected=!0,console.log(" Archimind styles injected")}catch(t){console.error(" Failed to inject styles:",t)}}createContainer(t,e){const r=document.getElementById(t);if(r)return r;let s=document.getElementById("archimind-root");s||(s=document.createElement("div"),s.id="archimind-root",document.body.appendChild(s));const o=document.createElement("div");o.id=t,e.position&&Object.assign(o.style,{position:e.position.type||"fixed",zIndex:e.position.zIndex||"999999",...e.position}),e.containerStyle&&Object.assign(o.style,e.containerStyle);const i=e.targetSelector?document.querySelector(e.targetSelector):s;return i?i.appendChild(o):(console.warn(`Target element not found: ${e.targetSelector}`),s.appendChild(o)),o}inject(t,e,r={}){this.injectStyles();const s=r.id||`archimind-${t.displayName||"component"}-${Date.now()}`,o=`${s}-container`,i=this.createContainer(o,r);try{const c=ml(i);c.render(a.jsx(t,{...e}));const l=()=>{try{c.unmount(),i.remove(),this.instances.delete(s),console.log(` Cleaned up component: ${s}`)}catch(d){console.error(` Error cleaning up component ${s}:`,d)}};return this.instances.set(s,{root:c,containerId:o,cleanup:l}),console.log(` Injected component: ${s}`),s}catch(c){return console.error(` Error injecting component: ${c}`),i.remove(),""}}remove(t){const e=this.instances.get(t);return e?(e.cleanup(),!0):(console.warn(`Component not found: ${t}`),!1)}removeAll(){if(this.instances.forEach(e=>e.cleanup()),this.stylesInjected){const e=document.getElementById("archimind-styles");e&&e.remove();const r=document.getElementById("archimind-inline-styles");r&&r.remove(),this.stylesInjected=!1}const t=document.getElementById("archimind-root");t&&t.remove(),console.log(" All components removed")}}const Ks=new Nu,_u=f.createContext(null),Pu=({children:n})=>{const[t,e]=f.useState(null),[r,s]=f.useState(!0),[o,i]=f.useState(null);f.useEffect(()=>{(async()=>{s(!0),i(null);try{const m=await Qt.getAuthState().user;e(m)}catch(m){console.error("Error initializing auth:",m),i("Failed to initialize authentication")}finally{s(!1)}})()},[]);const c=f.useCallback(async(p,m)=>{s(!0),i(null);try{const g=await Qt.login(p,m);return g.success?(e(g.user),!0):(i(g.error||"Authentication failed"),!1)}catch(g){const v=g instanceof Error?g.message:"Authentication failed";return i(v),!1}finally{s(!1)}},[]),l=f.useCallback(async()=>{s(!0),i(null);try{const p=await Qt.loginWithGoogle();return p.success?(e(p.user),!0):(i(p.error||"Google authentication failed"),!1)}catch(p){const m=p instanceof Error?p.message:"Google authentication failed";return i(m),!1}finally{s(!1)}},[]),d=f.useCallback(async(p,m,g)=>{s(!0),i(null);try{const v=await Qt.signup(p,m,g);return v.success?!0:(i(v.error||"Signup failed"),!1)}catch(v){const y=v instanceof Error?v.message:"Signup failed";return i(y),!1}finally{s(!1)}},[]),u=f.useCallback(async()=>{s(!0);try{await Qt.logout(),e(null)}catch(p){console.error("Error during logout:",p)}finally{s(!1)}},[]),h={user:t,isAuthenticated:!!t,isLoading:r,error:o,login:c,loginWithGoogle:l,signup:d,logout:u};return a.jsx(_u.Provider,{value:h,children:n})},$o=f.createContext({currentPanel:{type:"menu"},panelStack:[{type:"menu"}],pushPanel:()=>{},replacePanel:()=>{},popPanel:()=>{},resetToPanel:()=>{},resetToRoot:()=>{}}),Au=({children:n,initialPanel:t={type:"menu"}})=>{const[e,r]=f.useState([t]),s=e[e.length-1],o=u=>{r(h=>[...h,u])},i=u=>{r(h=>[...h.slice(0,-1),u])},c=()=>{e.length>1&&r(u=>u.slice(0,-1))},l=(u,h)=>{r([{type:u,props:h}])},d=()=>{r([t])};return a.jsx($o.Provider,{value:{currentPanel:s,panelStack:e,pushPanel:o,replacePanel:i,popPanel:c,resetToPanel:l,resetToRoot:d},children:n})},ss=()=>f.useContext($o);function Ir(n,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},Ir(n,t)}function Lt(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Ir(n,t)}var Ft=function(){function n(){this.listeners=[]}var t=n.prototype;return t.subscribe=function(r){var s=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(i){return i!==o}),s.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},n}();function Q(){return Q=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Q.apply(null,arguments)}var zn=typeof window>"u";function de(){}function Ou(n,t){return typeof n=="function"?n(t):n}function jr(n){return typeof n=="number"&&n>=0&&n!==1/0}function qn(n){return Array.isArray(n)?n:[n]}function zo(n,t){return Math.max(n+(t||0)-Date.now(),0)}function En(n,t,e){return ln(n)?typeof t=="function"?Q({},e,{queryKey:n,queryFn:t}):Q({},t,{queryKey:n}):n}function Iu(n,t,e){return ln(n)?typeof t=="function"?Q({},e,{mutationKey:n,mutationFn:t}):Q({},t,{mutationKey:n}):typeof n=="function"?Q({},t,{mutationFn:n}):Q({},n)}function Ve(n,t,e){return ln(n)?[Q({},t,{queryKey:n}),e]:[n||{},t]}function ju(n,t){if(n===!0&&t===!0||n==null&&t==null)return"all";if(n===!1&&t===!1)return"none";var e=n??!t;return e?"active":"inactive"}function Gs(n,t){var e=n.active,r=n.exact,s=n.fetching,o=n.inactive,i=n.predicate,c=n.queryKey,l=n.stale;if(ln(c)){if(r){if(t.queryHash!==os(c,t.options))return!1}else if(!Hn(t.queryKey,c))return!1}var d=ju(e,o);if(d==="none")return!1;if(d!=="all"){var u=t.isActive();if(d==="active"&&!u||d==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof s=="boolean"&&t.isFetching()!==s||i&&!i(t))}function Xs(n,t){var e=n.exact,r=n.fetching,s=n.predicate,o=n.mutationKey;if(ln(o)){if(!t.options.mutationKey)return!1;if(e){if(yt(t.options.mutationKey)!==yt(o))return!1}else if(!Hn(t.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||s&&!s(t))}function os(n,t){var e=(t==null?void 0:t.queryKeyHashFn)||yt;return e(n)}function yt(n){var t=qn(n);return Du(t)}function Du(n){return JSON.stringify(n,function(t,e){return Dr(e)?Object.keys(e).sort().reduce(function(r,s){return r[s]=e[s],r},{}):e})}function Hn(n,t){return qo(qn(n),qn(t))}function qo(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?!Object.keys(t).some(function(e){return!qo(n[e],t[e])}):!1}function Bn(n,t){if(n===t)return n;var e=Array.isArray(n)&&Array.isArray(t);if(e||Dr(n)&&Dr(t)){for(var r=e?n.length:Object.keys(n).length,s=e?t:Object.keys(t),o=s.length,i=e?[]:{},c=0,l=0;l<o;l++){var d=e?l:s[l];i[d]=Bn(n[d],t[d]),i[d]===n[d]&&c++}return r===o&&c===r?n:i}return t}function ku(n,t){if(n&&!t||t&&!n)return!1;for(var e in n)if(n[e]!==t[e])return!1;return!0}function Dr(n){if(!Ys(n))return!1;var t=n.constructor;if(typeof t>"u")return!0;var e=t.prototype;return!(!Ys(e)||!e.hasOwnProperty("isPrototypeOf"))}function Ys(n){return Object.prototype.toString.call(n)==="[object Object]"}function ln(n){return typeof n=="string"||Array.isArray(n)}function Lu(n){return new Promise(function(t){setTimeout(t,n)})}function Js(n){Promise.resolve().then(n).catch(function(t){return setTimeout(function(){throw t})})}function Ho(){if(typeof AbortController=="function")return new AbortController}var Fu=function(n){Lt(t,n);function t(){var r;return r=n.call(this)||this,r.setup=function(s){var o;if(!zn&&((o=window)!=null&&o.addEventListener)){var i=function(){return s()};return window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",i,!1),function(){window.removeEventListener("visibilitychange",i),window.removeEventListener("focus",i)}}},r}var e=t.prototype;return e.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},e.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},e.setEventListener=function(s){var o,i=this;this.setup=s,(o=this.cleanup)==null||o.call(this),this.cleanup=s(function(c){typeof c=="boolean"?i.setFocused(c):i.onFocus()})},e.setFocused=function(s){this.focused=s,s&&this.onFocus()},e.onFocus=function(){this.listeners.forEach(function(s){s()})},e.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Ft),Jt=new Fu,Uu=function(n){Lt(t,n);function t(){var r;return r=n.call(this)||this,r.setup=function(s){var o;if(!zn&&((o=window)!=null&&o.addEventListener)){var i=function(){return s()};return window.addEventListener("online",i,!1),window.addEventListener("offline",i,!1),function(){window.removeEventListener("online",i),window.removeEventListener("offline",i)}}},r}var e=t.prototype;return e.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},e.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},e.setEventListener=function(s){var o,i=this;this.setup=s,(o=this.cleanup)==null||o.call(this),this.cleanup=s(function(c){typeof c=="boolean"?i.setOnline(c):i.onOnline()})},e.setOnline=function(s){this.online=s,s&&this.onOnline()},e.onOnline=function(){this.listeners.forEach(function(s){s()})},e.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Ft),Sn=new Uu;function $u(n){return Math.min(1e3*Math.pow(2,n),3e4)}function Wn(n){return typeof(n==null?void 0:n.cancel)=="function"}var Bo=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Rn(n){return n instanceof Bo}var Wo=function(t){var e=this,r=!1,s,o,i,c;this.abort=t.abort,this.cancel=function(p){return s==null?void 0:s(p)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,m){i=p,c=m});var l=function(m){e.isResolved||(e.isResolved=!0,t.onSuccess==null||t.onSuccess(m),o==null||o(),i(m))},d=function(m){e.isResolved||(e.isResolved=!0,t.onError==null||t.onError(m),o==null||o(),c(m))},u=function(){return new Promise(function(m){o=m,e.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){o=void 0,e.isPaused=!1,t.onContinue==null||t.onContinue()})},h=function p(){if(!e.isResolved){var m;try{m=t.fn()}catch(g){m=Promise.reject(g)}s=function(v){if(!e.isResolved&&(d(new Bo(v)),e.abort==null||e.abort(),Wn(m)))try{m.cancel()}catch{}},e.isTransportCancelable=Wn(m),Promise.resolve(m).then(l).catch(function(g){var v,y;if(!e.isResolved){var b=(v=t.retry)!=null?v:3,x=(y=t.retryDelay)!=null?y:$u,w=typeof x=="function"?x(e.failureCount,g):x,T=b===!0||typeof b=="number"&&e.failureCount<b||typeof b=="function"&&b(e.failureCount,g);if(r||!T){d(g);return}e.failureCount++,t.onFail==null||t.onFail(e.failureCount,g),Lu(w).then(function(){if(!Jt.isFocused()||!Sn.isOnline())return u()}).then(function(){r?d(g):p()})}})}};h()},zu=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=n.prototype;return t.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},t.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Js(function(){s.notifyFn(r)})},t.batchCalls=function(r){var s=this;return function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];s.schedule(function(){r.apply(void 0,i)})}},t.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Js(function(){r.batchNotifyFn(function(){s.forEach(function(o){r.notifyFn(o)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),ae=new zu,Qo=console;function Qn(){return Qo}function qu(n){Qo=n}var Hu=function(){function n(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=n.prototype;return t.setOptions=function(r){var s;this.options=Q({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),jr(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,s){var o,i,c=this.state.data,l=Ou(r,c);return(o=(i=this.options).isDataEqual)!=null&&o.call(i,c,l)?l=c:this.options.structuralSharing!==!1&&(l=Bn(c,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),l},t.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},t.cancel=function(r){var s,o=this.promise;return(s=this.retryer)==null||s.cancel(r),o?o.then(de).catch(de):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!zo(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,s=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,s=this.observers.find(function(o){return o.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,s){var o=this,i,c,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(x){return x.options.queryFn});u&&this.setOptions(u.options)}var h=qn(this.queryKey),p=Ho(),m={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(p)return o.abortSignalConsumed=!0,p.signal}});var g=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(m)):Promise.reject("Missing queryFn")},v={fetchOptions:s,options:this.options,queryKey:h,state:this.state,fetchFn:g,meta:this.meta};if((i=this.options.behavior)!=null&&i.onFetch){var y;(y=this.options.behavior)==null||y.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((c=v.fetchOptions)==null?void 0:c.meta)){var b;this.dispatch({type:"fetch",meta:(b=v.fetchOptions)==null?void 0:b.meta})}return this.retryer=new Wo({fn:v.fetchFn,abort:p==null||(l=p.abort)==null?void 0:l.bind(p),onSuccess:function(w){o.setData(w),o.cache.config.onSuccess==null||o.cache.config.onSuccess(w,o),o.cacheTime===0&&o.optionalRemove()},onError:function(w){Rn(w)&&w.silent||o.dispatch({type:"error",error:w}),Rn(w)||(o.cache.config.onError==null||o.cache.config.onError(w,o),Qn().error(w)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),ae.batch(function(){s.observers.forEach(function(o){o.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",i=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,c=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:c?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:c?"success":"idle"}},t.reducer=function(r,s){var o,i;switch(s.type){case"failed":return Q({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Q({},r,{isPaused:!0});case"continue":return Q({},r,{isPaused:!1});case"fetch":return Q({},r,{fetchFailureCount:0,fetchMeta:(o=s.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Q({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=s.dataUpdatedAt)!=null?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var c=s.error;return Rn(c)&&c.revert&&this.revertState?Q({},this.revertState):Q({},r,{error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Q({},r,{isInvalidated:!0});case"setState":return Q({},r,s.state);default:return r}},n}(),Bu=function(n){Lt(t,n);function t(r){var s;return s=n.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var e=t.prototype;return e.build=function(s,o,i){var c,l=o.queryKey,d=(c=o.queryHash)!=null?c:os(l,o),u=this.get(d);return u||(u=new Hu({cache:this,queryKey:l,queryHash:d,options:s.defaultQueryOptions(o),state:i,defaultOptions:s.getQueryDefaults(l),meta:o.meta}),this.add(u)),u},e.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},e.remove=function(s){var o=this.queriesMap[s.queryHash];o&&(s.destroy(),this.queries=this.queries.filter(function(i){return i!==s}),o===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},e.clear=function(){var s=this;ae.batch(function(){s.queries.forEach(function(o){s.remove(o)})})},e.get=function(s){return this.queriesMap[s]},e.getAll=function(){return this.queries},e.find=function(s,o){var i=Ve(s,o),c=i[0];return typeof c.exact>"u"&&(c.exact=!0),this.queries.find(function(l){return Gs(c,l)})},e.findAll=function(s,o){var i=Ve(s,o),c=i[0];return Object.keys(c).length>0?this.queries.filter(function(l){return Gs(c,l)}):this.queries},e.notify=function(s){var o=this;ae.batch(function(){o.listeners.forEach(function(i){i(s)})})},e.onFocus=function(){var s=this;ae.batch(function(){s.queries.forEach(function(o){o.onFocus()})})},e.onOnline=function(){var s=this;ae.batch(function(){s.queries.forEach(function(o){o.onOnline()})})},t}(Ft),Wu=function(){function n(e){this.options=Q({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||Vo(),this.meta=e.meta}var t=n.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(de).catch(de)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,s,o=this.state.status==="loading",i=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),i=i.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(c){c!==r.state.context&&r.dispatch({type:"loading",context:c,variables:r.state.variables})})),i.then(function(){return r.executeMutation()}).then(function(c){s=c,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(c){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(c,r.state.variables,r.state.context,r),Qn().error(c),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(c,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,c,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:c}),c})})},t.executeMutation=function(){var r=this,s;return this.retryer=new Wo({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var s=this;this.state=Qu(this.state,r),ae.batch(function(){s.observers.forEach(function(o){o.onMutationUpdate(r)}),s.mutationCache.notify(s)})},n}();function Vo(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Qu(n,t){switch(t.type){case"failed":return Q({},n,{failureCount:n.failureCount+1});case"pause":return Q({},n,{isPaused:!0});case"continue":return Q({},n,{isPaused:!1});case"loading":return Q({},n,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return Q({},n,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return Q({},n,{data:void 0,error:t.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return Q({},n,t.state);default:return n}}var Vu=function(n){Lt(t,n);function t(r){var s;return s=n.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var e=t.prototype;return e.build=function(s,o,i){var c=new Wu({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(o),state:i,defaultOptions:o.mutationKey?s.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(c),c},e.add=function(s){this.mutations.push(s),this.notify(s)},e.remove=function(s){this.mutations=this.mutations.filter(function(o){return o!==s}),s.cancel(),this.notify(s)},e.clear=function(){var s=this;ae.batch(function(){s.mutations.forEach(function(o){s.remove(o)})})},e.getAll=function(){return this.mutations},e.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(o){return Xs(s,o)})},e.findAll=function(s){return this.mutations.filter(function(o){return Xs(s,o)})},e.notify=function(s){var o=this;ae.batch(function(){o.listeners.forEach(function(i){i(s)})})},e.onFocus=function(){this.resumePausedMutations()},e.onOnline=function(){this.resumePausedMutations()},e.resumePausedMutations=function(){var s=this.mutations.filter(function(o){return o.state.isPaused});return ae.batch(function(){return s.reduce(function(o,i){return o.then(function(){return i.continue().catch(de)})},Promise.resolve())})},t}(Ft);function Ku(){return{onFetch:function(t){t.fetchFn=function(){var e,r,s,o,i,c,l=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,d=(s=t.fetchOptions)==null||(o=s.meta)==null?void 0:o.fetchMore,u=d==null?void 0:d.pageParam,h=(d==null?void 0:d.direction)==="forward",p=(d==null?void 0:d.direction)==="backward",m=((i=t.state.data)==null?void 0:i.pages)||[],g=((c=t.state.data)==null?void 0:c.pageParams)||[],v=Ho(),y=v==null?void 0:v.signal,b=g,x=!1,w=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(k,q,P,H){return b=H?[q].concat(b):[].concat(b,[q]),H?[P].concat(k):[].concat(k,[P])},C=function(k,q,P,H){if(x)return Promise.reject("Cancelled");if(typeof P>"u"&&!q&&k.length)return Promise.resolve(k);var D={queryKey:t.queryKey,signal:y,pageParam:P,meta:t.meta},_=w(D),X=Promise.resolve(_).then(function(he){return T(k,P,he,H)});if(Wn(_)){var ie=X;ie.cancel=_.cancel}return X},R;if(!m.length)R=C([]);else if(h){var N=typeof u<"u",F=N?u:Zs(t.options,m);R=C(m,N,F)}else if(p){var j=typeof u<"u",A=j?u:Gu(t.options,m);R=C(m,j,A,!0)}else(function(){b=[];var I=typeof t.options.getNextPageParam>"u",k=l&&m[0]?l(m[0],0,m):!0;R=k?C([],I,g[0]):Promise.resolve(T([],g[0],m[0]));for(var q=function(D){R=R.then(function(_){var X=l&&m[D]?l(m[D],D,m):!0;if(X){var ie=I?g[D]:Zs(t.options,_);return C(_,I,ie)}return Promise.resolve(T(_,g[D],m[D]))})},P=1;P<m.length;P++)q(P)})();var M=R.then(function(I){return{pages:I,pageParams:b}}),O=M;return O.cancel=function(){x=!0,v==null||v.abort(),Wn(R)&&R.cancel()},M}}}}function Zs(n,t){return n.getNextPageParam==null?void 0:n.getNextPageParam(t[t.length-1],t)}function Gu(n,t){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(t[0],t)}var Xu=function(){function n(e){e===void 0&&(e={}),this.queryCache=e.queryCache||new Bu,this.mutationCache=e.mutationCache||new Vu,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=n.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=Jt.subscribe(function(){Jt.isFocused()&&Sn.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Sn.subscribe(function(){Jt.isFocused()&&Sn.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},t.isFetching=function(r,s){var o=Ve(r,s),i=o[0];return i.fetching=!0,this.queryCache.findAll(i).length},t.isMutating=function(r){return this.mutationCache.findAll(Q({},r,{fetching:!0})).length},t.getQueryData=function(r,s){var o;return(o=this.queryCache.find(r,s))==null?void 0:o.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var o=s.queryKey,i=s.state,c=i.data;return[o,c]})},t.setQueryData=function(r,s,o){var i=En(r),c=this.defaultQueryOptions(i);return this.queryCache.build(this,c).setData(s,o)},t.setQueriesData=function(r,s,o){var i=this;return ae.batch(function(){return i.getQueryCache().findAll(r).map(function(c){var l=c.queryKey;return[l,i.setQueryData(l,s,o)]})})},t.getQueryState=function(r,s){var o;return(o=this.queryCache.find(r,s))==null?void 0:o.state},t.removeQueries=function(r,s){var o=Ve(r,s),i=o[0],c=this.queryCache;ae.batch(function(){c.findAll(i).forEach(function(l){c.remove(l)})})},t.resetQueries=function(r,s,o){var i=this,c=Ve(r,s,o),l=c[0],d=c[1],u=this.queryCache,h=Q({},l,{active:!0});return ae.batch(function(){return u.findAll(l).forEach(function(p){p.reset()}),i.refetchQueries(h,d)})},t.cancelQueries=function(r,s,o){var i=this,c=Ve(r,s,o),l=c[0],d=c[1],u=d===void 0?{}:d;typeof u.revert>"u"&&(u.revert=!0);var h=ae.batch(function(){return i.queryCache.findAll(l).map(function(p){return p.cancel(u)})});return Promise.all(h).then(de).catch(de)},t.invalidateQueries=function(r,s,o){var i,c,l,d=this,u=Ve(r,s,o),h=u[0],p=u[1],m=Q({},h,{active:(i=(c=h.refetchActive)!=null?c:h.active)!=null?i:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return ae.batch(function(){return d.queryCache.findAll(h).forEach(function(g){g.invalidate()}),d.refetchQueries(m,p)})},t.refetchQueries=function(r,s,o){var i=this,c=Ve(r,s,o),l=c[0],d=c[1],u=ae.batch(function(){return i.queryCache.findAll(l).map(function(p){return p.fetch(void 0,Q({},d,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(u).then(de);return d!=null&&d.throwOnError||(h=h.catch(de)),h},t.fetchQuery=function(r,s,o){var i=En(r,s,o),c=this.defaultQueryOptions(i);typeof c.retry>"u"&&(c.retry=!1);var l=this.queryCache.build(this,c);return l.isStaleByTime(c.staleTime)?l.fetch(c):Promise.resolve(l.state.data)},t.prefetchQuery=function(r,s,o){return this.fetchQuery(r,s,o).then(de).catch(de)},t.fetchInfiniteQuery=function(r,s,o){var i=En(r,s,o);return i.behavior=Ku(),this.fetchQuery(i)},t.prefetchInfiniteQuery=function(r,s,o){return this.fetchInfiniteQuery(r,s,o).then(de).catch(de)},t.cancelMutations=function(){var r=this,s=ae.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(s).then(de).catch(de)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,s){var o=this.queryDefaults.find(function(i){return yt(r)===yt(i.queryKey)});o?o.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},t.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(o){return Hn(r,o.queryKey)}))==null?void 0:s.defaultOptions:void 0},t.setMutationDefaults=function(r,s){var o=this.mutationDefaults.find(function(i){return yt(r)===yt(i.mutationKey)});o?o.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},t.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(o){return Hn(r,o.mutationKey)}))==null?void 0:s.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=Q({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=os(s.queryKey,s)),s},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Q({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),Yu=function(n){Lt(t,n);function t(r,s){var o;return o=n.call(this)||this,o.client=r,o.options=s,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(s),o}var e=t.prototype;return e.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},e.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),eo(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},e.onUnsubscribe=function(){this.listeners.length||this.destroy()},e.shouldFetchOnReconnect=function(){return kr(this.currentQuery,this.options,this.options.refetchOnReconnect)},e.shouldFetchOnWindowFocus=function(){return kr(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},e.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},e.setOptions=function(s,o){var i=this.options,c=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();var l=this.hasListeners();l&&to(this.currentQuery,c,this.options,i)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==c||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();l&&(this.currentQuery!==c||this.options.enabled!==i.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},e.getOptimisticResult=function(s){var o=this.client.defaultQueryObserverOptions(s),i=this.client.getQueryCache().build(this.client,o);return this.createResult(i,o)},e.getCurrentResult=function(){return this.currentResult},e.trackResult=function(s,o){var i=this,c={},l=function(u){i.trackedProps.includes(u)||i.trackedProps.push(u)};return Object.keys(s).forEach(function(d){Object.defineProperty(c,d,{configurable:!1,enumerable:!0,get:function(){return l(d),s[d]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),c},e.getNextResult=function(s){var o=this;return new Promise(function(i,c){var l=o.subscribe(function(d){d.isFetching||(l(),d.isError&&(s!=null&&s.throwOnError)?c(d.error):i(d))})})},e.getCurrentQuery=function(){return this.currentQuery},e.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},e.refetch=function(s){return this.fetch(Q({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},e.fetchOptimistic=function(s){var o=this,i=this.client.defaultQueryObserverOptions(s),c=this.client.getQueryCache().build(this.client,i);return c.fetch().then(function(){return o.createResult(c,i)})},e.fetch=function(s){var o=this;return this.executeFetch(s).then(function(){return o.updateResult(),o.currentResult})},e.executeFetch=function(s){this.updateQuery();var o=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(o=o.catch(de)),o},e.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(zn||this.currentResult.isStale||!jr(this.options.staleTime))){var o=zo(this.currentResult.dataUpdatedAt,this.options.staleTime),i=o+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},i)}},e.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},e.updateRefetchInterval=function(s){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(zn||this.options.enabled===!1||!jr(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||Jt.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},e.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},e.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},e.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},e.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},e.createResult=function(s,o){var i=this.currentQuery,c=this.options,l=this.currentResult,d=this.currentResultState,u=this.currentResultOptions,h=s!==i,p=h?s.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,g=s.state,v=g.dataUpdatedAt,y=g.error,b=g.errorUpdatedAt,x=g.isFetching,w=g.status,T=!1,C=!1,R;if(o.optimisticResults){var N=this.hasListeners(),F=!N&&eo(s,o),j=N&&to(s,i,o,c);(F||j)&&(x=!0,v||(w="loading"))}if(o.keepPreviousData&&!g.dataUpdateCount&&(m!=null&&m.isSuccess)&&w!=="error")R=m.data,v=m.dataUpdatedAt,w=m.status,T=!0;else if(o.select&&typeof g.data<"u")if(l&&g.data===(d==null?void 0:d.data)&&o.select===this.selectFn)R=this.selectResult;else try{this.selectFn=o.select,R=o.select(g.data),o.structuralSharing!==!1&&(R=Bn(l==null?void 0:l.data,R)),this.selectResult=R,this.selectError=null}catch(O){Qn().error(O),this.selectError=O}else R=g.data;if(typeof o.placeholderData<"u"&&typeof R>"u"&&(w==="loading"||w==="idle")){var A;if(l!=null&&l.isPlaceholderData&&o.placeholderData===(u==null?void 0:u.placeholderData))A=l.data;else if(A=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof A<"u")try{A=o.select(A),o.structuralSharing!==!1&&(A=Bn(l==null?void 0:l.data,A)),this.selectError=null}catch(O){Qn().error(O),this.selectError=O}typeof A<"u"&&(w="success",R=A,C=!0)}this.selectError&&(y=this.selectError,R=this.selectResult,b=Date.now(),w="error");var M={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:R,dataUpdatedAt:v,error:y,errorUpdatedAt:b,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:x,isRefetching:x&&w!=="loading",isLoadingError:w==="error"&&g.dataUpdatedAt===0,isPlaceholderData:C,isPreviousData:T,isRefetchError:w==="error"&&g.dataUpdatedAt!==0,isStale:is(s,o),refetch:this.refetch,remove:this.remove};return M},e.shouldNotifyListeners=function(s,o){if(!o)return!0;var i=this.options,c=i.notifyOnChangeProps,l=i.notifyOnChangePropsExclusions;if(!c&&!l||c==="tracked"&&!this.trackedProps.length)return!0;var d=c==="tracked"?this.trackedProps:c;return Object.keys(s).some(function(u){var h=u,p=s[h]!==o[h],m=d==null?void 0:d.some(function(v){return v===u}),g=l==null?void 0:l.some(function(v){return v===u});return p&&!g&&(!d||m)})},e.updateResult=function(s){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ku(this.currentResult,o)){var i={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(i.listeners=!0),this.notify(Q({},i,s))}},e.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var o=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),s.addObserver(this))}},e.onQueryUpdate=function(s){var o={};s.type==="success"?o.onSuccess=!0:s.type==="error"&&!Rn(s.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},e.notify=function(s){var o=this;ae.batch(function(){s.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):s.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),s.listeners&&o.listeners.forEach(function(i){i(o.currentResult)}),s.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},t}(Ft);function Ju(n,t){return t.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&t.retryOnMount===!1)}function eo(n,t){return Ju(n,t)||n.state.dataUpdatedAt>0&&kr(n,t,t.refetchOnMount)}function kr(n,t,e){if(t.enabled!==!1){var r=typeof e=="function"?e(n):e;return r==="always"||r!==!1&&is(n,t)}return!1}function to(n,t,e,r){return e.enabled!==!1&&(n!==t||r.enabled===!1)&&(!e.suspense||n.state.status!=="error")&&is(n,e)}function is(n,t){return n.isStaleByTime(t.staleTime)}var Zu=function(n){Lt(t,n);function t(r,s){var o;return o=n.call(this)||this,o.client=r,o.setOptions(s),o.bindMethods(),o.updateResult(),o}var e=t.prototype;return e.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},e.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},e.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},e.onMutationUpdate=function(s){this.updateResult();var o={listeners:!0};s.type==="success"?o.onSuccess=!0:s.type==="error"&&(o.onError=!0),this.notify(o)},e.getCurrentResult=function(){return this.currentResult},e.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},e.mutate=function(s,o){return this.mutateOptions=o,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Q({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},e.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:Vo(),o=Q({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=o},e.notify=function(s){var o=this;ae.batch(function(){o.mutateOptions&&(s.onSuccess?(o.mutateOptions.onSuccess==null||o.mutateOptions.onSuccess(o.currentResult.data,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(o.currentResult.data,null,o.currentResult.variables,o.currentResult.context)):s.onError&&(o.mutateOptions.onError==null||o.mutateOptions.onError(o.currentResult.error,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(void 0,o.currentResult.error,o.currentResult.variables,o.currentResult.context))),s.listeners&&o.listeners.forEach(function(i){i(o.currentResult)})})},t}(Ft),ed=gl.unstable_batchedUpdates;ae.setBatchNotifyFunction(ed);var td=console;qu(td);var no=le.createContext(void 0),Ko=le.createContext(!1);function Go(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=no),window.ReactQueryClientContext):no}var He=function(){var t=le.useContext(Go(le.useContext(Ko)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nd=function(t){var e=t.client,r=t.contextSharing,s=r===void 0?!1:r,o=t.children;le.useEffect(function(){return e.mount(),function(){e.unmount()}},[e]);var i=Go(s);return le.createElement(Ko.Provider,{value:s},le.createElement(i.Provider,{value:e},o))};function rd(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var sd=le.createContext(rd()),od=function(){return le.useContext(sd)};function Xo(n,t,e){return typeof t=="function"?t.apply(void 0,e):typeof t=="boolean"?t:!!n}function un(n,t,e){var r=le.useRef(!1),s=le.useState(0),o=s[1],i=Iu(n,t,e),c=He(),l=le.useRef();l.current?l.current.setOptions(i):l.current=new Zu(c,i);var d=l.current.getCurrentResult();le.useEffect(function(){r.current=!0;var h=l.current.subscribe(ae.batchCalls(function(){r.current&&o(function(p){return p+1})}));return function(){r.current=!1,h()}},[]);var u=le.useCallback(function(h,p){l.current.mutate(h,p).catch(de)},[]);if(d.error&&Xo(void 0,l.current.options.useErrorBoundary,[d.error]))throw d.error;return Q({},d,{mutate:u,mutateAsync:d.mutate})}function id(n,t){var e=le.useRef(!1),r=le.useState(0),s=r[1],o=He(),i=od(),c=o.defaultQueryObserverOptions(n);c.optimisticResults=!0,c.onError&&(c.onError=ae.batchCalls(c.onError)),c.onSuccess&&(c.onSuccess=ae.batchCalls(c.onSuccess)),c.onSettled&&(c.onSettled=ae.batchCalls(c.onSettled)),c.suspense&&(typeof c.staleTime!="number"&&(c.staleTime=1e3),c.cacheTime===0&&(c.cacheTime=1)),(c.suspense||c.useErrorBoundary)&&(i.isReset()||(c.retryOnMount=!1));var l=le.useState(function(){return new t(o,c)}),d=l[0],u=d.getOptimisticResult(c);if(le.useEffect(function(){e.current=!0,i.clearReset();var h=d.subscribe(ae.batchCalls(function(){e.current&&s(function(p){return p+1})}));return d.updateResult(),function(){e.current=!1,h()}},[i,d]),le.useEffect(function(){d.setOptions(c,{listeners:!1})},[c,d]),c.suspense&&u.isLoading)throw d.fetchOptimistic(c).then(function(h){var p=h.data;c.onSuccess==null||c.onSuccess(p),c.onSettled==null||c.onSettled(p,null)}).catch(function(h){i.clearReset(),c.onError==null||c.onError(h),c.onSettled==null||c.onSettled(void 0,h)});if(u.isError&&!i.isReset()&&!u.isFetching&&Xo(c.suspense,c.useErrorBoundary,[u.error,d.getCurrentQuery()]))throw u.error;return c.notifyOnChangeProps==="tracked"&&(u=d.trackResult(u,c)),u}function as(n,t,e){var r=En(n,t,e);return id(r,Yu)}const ad=new Xu({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:1e3*60*5,cacheTime:1e3*60*10}}});function cd({children:n}){return a.jsx(nd,{client:ad,children:n})}const ld=({title:n,icon:t,showBackButton:e=!1,onBack:r,onClose:s,className:o,extra:i,leftExtra:c})=>{const l=$(n||"",void 0,"");return a.jsxs("div",{className:W("flex items-center justify-between p-2 border-b","dark:bg-gray-800 dark:text-white bg-gray-100 text-gray-900 rounded-t-md",o),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e&&a.jsx(V,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 mr-2 dark:text-white dark:hover:bg-gray-700 text-gray-900 hover:bg-gray-200",children:a.jsx(Cl,{className:"h-4 w-4"})}),a.jsxs("span",{className:"font-semibold text-sm flex items-center",children:[t&&a.jsx(t,{className:"h-4 w-4 mr-2"}),l]}),c]}),a.jsxs("div",{className:"flex items-center gap-2",children:[i,s&&a.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 dark:text-white dark:hover:bg-gray-700 text-gray-900 hover:bg-gray-200",children:a.jsx(Yr,{className:"h-4 w-4"})})]})]})},_t=({title:n,icon:t,showBackButton:e=!1,onBack:r,onClose:s,className:o,headerClassName:i,contentClassName:c,children:l,maxHeight:d="400px",headerExtra:u,headerLeftExtra:h})=>a.jsxs("div",{className:W("panel-container rounded-md overflow-hidden shadow-lg",o),children:[a.jsx(ld,{title:n,icon:t,showBackButton:e,onBack:r,onClose:s,className:i,extra:u,leftExtra:h}),a.jsx("div",{className:W("panel-content bg-background p-2",c),style:{maxHeight:d,overflowY:"auto"},children:l})]}),ud=({onClose:n,notificationCount:t})=>{const{pushPanel:e}=ss(),r=i=>{e({type:i})},s=()=>{window.dialogManager?window.dialogManager.openDialog("settings"):(console.error("Dialog manager not available"),z.error("Could not open settings. Please try again."))},o=()=>{window.open("https://thetunnel.substack.com/?utm_source=archimind-extension","_blank")};return a.jsx(_t,{title:$("menu",void 0,"Menu"),icon:Jl,onClose:n,className:"w-56",children:a.jsx(yl,{className:"p-1 shadow-none border-0 bg-background text-foreground",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>r("templates"),children:[a.jsx(jo,{className:"mr-2 h-4 w-4"}),$("templates",void 0,"Templates")]}),a.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>r("stats"),children:[a.jsx(Nl,{className:"mr-2 h-4 w-4"}),$("aiStats",void 0,"AI Stats")]}),a.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>r("notifications"),children:[a.jsx(Er,{className:"mr-2 h-4 w-4"}),$("notifications",void 0,"Notifications"),t>0&&a.jsx("span",{className:"ml-auto bg-primary text-primary-foreground rounded-full text-xs px-1.5 py-0.5",children:t})]}),a.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start",onClick:o,children:[a.jsx(tu,{className:"mr-2 h-4 w-4"}),$("aiNews",void 0,"AI News")]}),a.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start",onClick:s,children:[a.jsx(ou,{className:"mr-2 h-4 w-4"}),$("settings",void 0,"Settings")]})]})})})},dd=Mo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cs=f.forwardRef(({className:n,variant:t,...e},r)=>a.jsx("div",{ref:r,role:"alert",className:W(dd({variant:t}),n),...e}));cs.displayName="Alert";const fd=f.forwardRef(({className:n,...t},e)=>a.jsx("h5",{ref:e,className:W("mb-1 font-medium leading-none tracking-tight",n),...t}));fd.displayName="AlertTitle";const ls=f.forwardRef(({className:n,...t},e)=>a.jsx("div",{ref:e,className:W("text-sm [&_p]:leading-relaxed",n),...t}));ls.displayName="AlertDescription";class hd{async getAllFolders(t,e=!1){try{console.log(`Fetching all ${t} folders`);const r=`/prompts/folders?type=${t}&empty=${e?"true":"false"}`;console.log(`Making API request to: ${r}`);const s=await re.request(r);return console.log("API response for getAllFolders:",s),s}catch(r){return console.error(`Error fetching ${t} folders:`,r),{success:!1,folders:[],error:r instanceof Error?r.message:"Unknown error"}}}async updatePinnedFolders(t,e){try{const r="/prompts/folders/update-pinned",s={official_folder_ids:t==="official"?e:[],organization_folder_ids:t==="organization"?e:[]};return console.log(`Updating pinned ${t} folders:`,e),await re.request(r,{method:"POST",body:JSON.stringify(s)})}catch(r){return console.error(`Error updating pinned ${t} folders:`,r),{success:!1,pinned_folders:[],error:r instanceof Error?r.message:"Unknown error"}}}async toggleFolderPin(t,e,r){try{const s=e?`/prompts/folders/unpin/${t}`:`/prompts/folders/pin/${t}`,o=`?folder_type=${r}`;return console.log(`${e?"Unpinning":"Pinning"} ${r} folder ${t}`),await re.request(`${s}${o}`,{method:"POST"})}catch(s){return console.error(`Error toggling pin for ${r} folder ${t}:`,s),{success:!1,pinned_folders:[],error:s instanceof Error?s.message:"Unknown error"}}}async getAllFolders(t,e=[],r=!1){try{let s=`/prompts/folders/template-folders?type=${t}`;e&&e.length>0&&(s+=`&folder_ids=${e.join(",")}`),r&&(s+="&empty=true"),console.log(`Making API request to: ${s}`);const o=await re.request(s);return console.log(`API response for ${t} folders:`,o),o.success&&o.folders&&(o.folders=o.folders.map(i=>(i.templates||(i.templates=[]),i.Folders||(i.Folders=[]),i.Folders.length>0&&(i.Folders=i.Folders.map(c=>(c.templates||(c.templates=[]),c))),i))),o}catch(s){return console.error("Error fetching template folders:",s),{success:!1,folders:[],error:s instanceof Error?s.message:"Unknown error"}}}async createTemplate(t){try{if(!t.title||!t.content)return{success:!1,error:"Title and content are required"};const e={title:t.title,content:t.content,tags:t.tags||[],locale:t.locale||"en",folder_id:t.folder_id||null,type:t.type||"user"};console.log("requestBody",e);const r=await re.request("/prompts/templates",{method:"POST",body:JSON.stringify(e)});return console.log("Template creation response:",r),r}catch(e){return console.error("Error creating template:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async updateTemplate(t,e){try{if(!e.title&&!e.content)return{success:!1,error:"At least one field to update is required"};console.log(`Updating template ${t} with data:`,e);const r=await re.request(`/prompts/templates/${t}`,{method:"PUT",body:JSON.stringify(e)});return console.log("Template update response:",r),r}catch(r){return console.error("Error updating template:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getUserFolders(){try{const t=await re.request("/prompts/folders?type=user",{method:"GET"});return console.log("User folders response:",t),t}catch(t){return console.error("Error fetching user folders:",t),{success:!1,folders:[],error:t instanceof Error?t.message:"Unknown error"}}}async createFolder(t){try{if(!t.name)return{success:!1,error:"Folder name is required"};console.log("Creating folder with data:",t);const e=await re.request("/prompts/folders",{method:"POST",body:JSON.stringify(t)});return console.log("Folder creation response:",e),e}catch(e){return console.error("Error creating folder:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async deleteFolder(t){try{return await re.request(`/prompts/folders/${t}`,{method:"DELETE"})}catch(e){return console.error("Error deleting folder:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async getUserFromStorage(){return new Promise(t=>{chrome.storage.local.get("user",e=>{t(e.user||null)})})}async updateUserInStorage(t){return new Promise(e=>{chrome.storage.local.set({user:t},()=>{e(!0)})})}async trackTemplateUsage(t){try{return await re.request(`/prompts/templates/use/${t}`,{method:"POST"})}catch(e){return console.error("Error tracking template usage:",e),{success:!1,usage_count:0,error:e instanceof Error?e.message:"Unknown error"}}}async getUserMetadata(){try{const t=await re.request("/user/metadata");return console.log("response",t),t}catch(t){return console.error("Error getting user metadata:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}}const pe=new hd,pd=Object.freeze(Object.defineProperty({__proto__:null,promptApi:pe},Symbol.toStringTag,{value:"Module"})),xe={SETTINGS:"settings",CREATE_TEMPLATE:"createTemplate",EDIT_TEMPLATE:"editTemplate",CREATE_FOLDER:"createFolder",AUTH:"auth",PLACEHOLDER_EDITOR:"placeholderEditor",CONFIRMATION:"confirmation"},ue={PINNED_FOLDERS:"pinnedFolders",USER_FOLDERS:"userFolders",ALL_FOLDERS:"allFolders",USER_TEMPLATES:"userTemplates",USER_METADATA:"userMetadata"};function md(){return He(),as(ue.PINNED_FOLDERS,async()=>{var o,i;const n=await pe.getUserMetadata();if(!n.success)throw new Error(n.error||"Failed to get user metadata");const t=((o=n.data)==null?void 0:o.pinned_official_folder_ids)||[];let e=[];if(t.length>0){const c=await pe.getAllFolders("official",t);c.success&&(e=c.folders.map(l=>({...l,is_pinned:!0})))}const r=((i=n.data)==null?void 0:i.pinned_organization_folder_ids)||[];let s=[];if(r.length>0){const c=await pe.getAllFolders("organization",r);c.success&&(s=c.folders.map(l=>({...l,is_pinned:!0})))}return{official:e,organization:s}},{refetchOnWindowFocus:!1,onError:n=>{z.error(`Failed to load pinned folders: ${n.message}`)}})}function gd(){return as(ue.USER_FOLDERS,async()=>{const n=await pe.getAllFolders("user");if(!n.success)throw new Error(n.error||"Failed to load user folders");return n.folders},{refetchOnWindowFocus:!1,onError:n=>{z.error(`Failed to load user folders: ${n.message}`)}})}function vd(n){return as([ue.ALL_FOLDERS,n],async()=>{var s,o;const t=await pe.getAllFolders(n,!0);if(!t.success)throw new Error(t.error||`Failed to load ${n} folders`);const e=await pe.getUserMetadata();if(!e.success)throw new Error(e.error||"Failed to get user metadata");const r=n==="official"?((s=e.data)==null?void 0:s.pinned_official_folder_ids)||[]:((o=e.data)==null?void 0:o.pinned_organization_folder_ids)||[];return t.folders.map(i=>({...i,is_pinned:r.includes(i.id)}))},{refetchOnWindowFocus:!1,onError:t=>{z.error(`Failed to load ${n} folders: ${t.message}`)}})}function Yo(){const n=He();return un(async({folderId:t,isPinned:e,type:r})=>{const s=await pe.toggleFolderPin(t,e,r);if(!s.success)throw new Error(s.error||`Failed to ${e?"unpin":"pin"} folder`);return s},{onSuccess:(t,e)=>{z.success(e.isPinned?"Folder unpinned":"Folder pinned"),n.invalidateQueries(ue.PINNED_FOLDERS),n.invalidateQueries([ue.ALL_FOLDERS,e.type]),n.invalidateQueries(ue.USER_METADATA)},onError:t=>{z.error(t.message)}})}function yd(){const n=He();return un(async t=>{const e=await pe.deleteFolder(t);if(!e.success)throw new Error(e.error||"Failed to delete folder");return e},{onSuccess:()=>{z.success("Folder deleted successfully"),n.invalidateQueries(ue.USER_FOLDERS)},onError:t=>{z.error(`Failed to delete folder: ${t.message}`)}})}function xd(){const n=He();return un(async t=>{const e=await pe.createFolder(t);if(!e.success)throw new Error(e.error||"Failed to create folder");return e},{onSuccess:()=>{z.success("Folder created successfully"),n.invalidateQueries(ue.USER_FOLDERS)},onError:t=>{z.error(`Failed to create folder: ${t.message}`)},onMutate:async t=>{await n.cancelQueries(ue.USER_FOLDERS);const e=n.getQueryData(ue.USER_FOLDERS);return n.setQueryData(ue.USER_FOLDERS,r=>{const s={id:Date.now(),name:t.name,path:t.path,description:t.description,templates:[],Folders:[]};return[...r||[],s]}),{previousFolders:e}},onError:(t,e,r)=>{r!=null&&r.previousFolders&&n.setQueryData(ue.USER_FOLDERS,r.previousFolders)}})}function wd(){const n=He();return console.log("useCreateTemplate"),un(async t=>{var s;console.log("useCreateTemplate",t);const e={title:t.name,content:t.content,description:t.description,folder_id:t.folder_id,tags:[],locale:((s=chrome.i18n)==null?void 0:s.getUILanguage())||"en"},r=await pe.createTemplate(e);if(!r.success)throw new Error(r.error||"Failed to create template");return r},{onSuccess:()=>{z.success("Template created successfully"),n.invalidateQueries(ue.USER_FOLDERS)},onError:t=>{z.error(`Failed to create template: ${t.message}`)},onMutate:async t=>{await n.cancelQueries(ue.USER_FOLDERS);const e=n.getQueryData(ue.USER_FOLDERS);return n.setQueryData(ue.USER_FOLDERS,r=>{if(!r)return r;const s=[...r],o={id:Date.now(),title:t.name,content:t.content,description:t.description,type:"user",folder_id:t.folder_id,tags:[]};if(!t.folder_id)s.length>0&&(s[0].templates||(s[0].templates=[]),s[0].templates.push(o));else{const i=s.findIndex(c=>c.id===t.folder_id);i>=0&&(s[i].templates||(s[i].templates=[]),s[i].templates.push(o))}return s}),{previousFolders:e}},onError:(t,e,r)=>{r!=null&&r.previousFolders&&n.setQueryData(ue.USER_FOLDERS,r.previousFolders)}})}function bd(){const n=He();return un(async({templateId:t,templateData:e})=>{const r={title:e.name,content:e.content,description:e.description,folder_id:e.folder_id,tags:[]},s=await pe.updateTemplate(t,r);if(!s.success)throw new Error(s.error||"Failed to update template");return s},{onSuccess:()=>{z.success("Template updated successfully"),n.invalidateQueries(ue.USER_FOLDERS)},onError:t=>{z.error(`Failed to update template: ${t.message}`)}})}function Jo(){const n=He(),t=wd(),e=bd(),r=c=>{if(!window.dialogManager){z.error("Dialog manager not available");return}window.dialogManager.openDialog(xe.PLACEHOLDER_EDITOR,{content:c.content,title:c.title,onComplete:s}),c.id&&pe.trackTemplateUsage(c.id).catch(l=>{console.error("Failed to track template usage:",l)})},s=(c,l)=>{const d=document.querySelector("#prompt-textarea");if(!d){console.error("Could not find input area");return}try{const u=c.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).trim();d instanceof HTMLTextAreaElement?d.value=u:d.textContent=u,d.dispatchEvent(new Event("input",{bubbles:!0})),d.dispatchEvent(new Event("change",{bubbles:!0})),d.focus(),window.dialogManager&&window.dialogManager.closeDialog(xe.PLACEHOLDER_EDITOR),l&&l(),z.success("Template applied successfully")}catch(u){console.error("Template application error:",u),z.error("Error applying template")}},o=async(c,l)=>{try{return c!=null&&c.id?await e.mutateAsync({templateId:c.id,templateData:l}):await t.mutateAsync(l),n.invalidateQueries(ue.USER_FOLDERS),!0}catch(d){return console.error("Error saving template:",d),!1}},i=(c,l)=>{if(!window.dialogManager){z.error("Dialog manager not available");return}const d=c?xe.EDIT_TEMPLATE:xe.CREATE_TEMPLATE,u=c?{name:c.title||"",content:c.content||"",description:c.description||"",folder:c.folder||"",folder_id:c.folder_id,based_on_official_id:null}:{name:"",content:"",description:"",folder:(l==null?void 0:l.name)||"",folder_id:l==null?void 0:l.id,based_on_official_id:null};pe.getUserFolders().then(h=>{window.dialogManager.openDialog(d,{template:c,formData:u,selectedFolder:l,onFormChange:()=>{},onSave:p=>o(c,p),userFolders:h.folders||[]})}).catch(h=>{console.error("Error loading user folders:",h),window.dialogManager.openDialog(d,{template:c,formData:u,selectedFolder:l,onFormChange:()=>{},onSave:p=>o(c,p),userFolders:[]})})};return{useTemplate:r,editTemplate:c=>i(c),createTemplate:c=>i(void 0,c),finalizeTemplate:s,saveTemplate:o}}function Cd({folder:n,isExpanded:t,onToggle:e,actionButtons:r}){var s;return a.jsxs("div",{className:"flex items-center p-2 hover:bg-accent/60 cursor-pointer rounded-sm",onClick:e,children:[t?a.jsx(nr,{className:"h-4 w-4 mr-1 flex-shrink-0"}):a.jsx(Io,{className:"h-4 w-4 mr-1 flex-shrink-0"}),a.jsx(Do,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsx("span",{className:"text-sm flex-1 truncate",children:n.name}),((s=n.templates)==null?void 0:s.length)>0&&a.jsxs("span",{className:"text-xs text-muted-foreground mr-2",children:[n.templates.length," ",n.templates.length===1?"template":"templates"]}),r]})}const Ed=Mo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sd({className:n,variant:t,...e}){return a.jsx("div",{className:W(Ed({variant:t}),n),...e})}const Rd=["top","right","bottom","left"],Xe=Math.min,ye=Math.max,Vn=Math.round,xn=Math.floor,je=n=>({x:n,y:n}),Td={left:"right",right:"left",bottom:"top",top:"bottom"},Md={start:"end",end:"start"};function Lr(n,t,e){return ye(n,Xe(t,e))}function ze(n,t){return typeof n=="function"?n(t):n}function qe(n){return n.split("-")[0]}function Ut(n){return n.split("-")[1]}function us(n){return n==="x"?"y":"x"}function ds(n){return n==="y"?"height":"width"}function Ye(n){return["top","bottom"].includes(qe(n))?"y":"x"}function fs(n){return us(Ye(n))}function Nd(n,t,e){e===void 0&&(e=!1);const r=Ut(n),s=fs(n),o=ds(s);let i=s==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Kn(i)),[i,Kn(i)]}function _d(n){const t=Kn(n);return[Fr(n),t,Fr(t)]}function Fr(n){return n.replace(/start|end/g,t=>Md[t])}function Pd(n,t,e){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(n){case"top":case"bottom":return e?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function Ad(n,t,e,r){const s=Ut(n);let o=Pd(qe(n),e==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Fr)))),o}function Kn(n){return n.replace(/left|right|bottom|top/g,t=>Td[t])}function Od(n){return{top:0,right:0,bottom:0,left:0,...n}}function Zo(n){return typeof n!="number"?Od(n):{top:n,right:n,bottom:n,left:n}}function Gn(n){const{x:t,y:e,width:r,height:s}=n;return{width:r,height:s,top:e,left:t,right:t+r,bottom:e+s,x:t,y:e}}function ro(n,t,e){let{reference:r,floating:s}=n;const o=Ye(t),i=fs(t),c=ds(i),l=qe(t),d=o==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[c]/2-s[c]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ut(t)){case"start":m[i]-=p*(e&&d?-1:1);break;case"end":m[i]+=p*(e&&d?-1:1);break}return m}const Id=async(n,t,e)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=e,c=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:n,floating:t,strategy:s}),{x:u,y:h}=ro(d,r,l),p=r,m={},g=0;for(let v=0;v<c.length;v++){const{name:y,fn:b}=c[v],{x,y:w,data:T,reset:C}=await b({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:d,platform:i,elements:{reference:n,floating:t}});u=x??u,h=w??h,m={...m,[y]:{...m[y],...T}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await i.getElementRects({reference:n,floating:t,strategy:s}):C.rects),{x:u,y:h}=ro(d,p,l)),v=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:m}};async function tn(n,t){var e;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:c,strategy:l}=n,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ze(t,n),g=Zo(m),y=c[p?h==="floating"?"reference":"floating":h],b=Gn(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(y)))==null||e?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),x=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),T=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Gn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-C.top+g.top)/T.y,bottom:(C.bottom-b.bottom+g.bottom)/T.y,left:(b.left-C.left+g.left)/T.x,right:(C.right-b.right+g.right)/T.x}}const jd=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:s,rects:o,platform:i,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=ze(n,t)||{};if(d==null)return{};const h=Zo(u),p={x:e,y:r},m=fs(s),g=ds(m),v=await i.getDimensions(d),y=m==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",T=o.reference[g]+o.reference[m]-p[m]-o.floating[g],C=p[m]-o.reference[m],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let N=R?R[w]:0;(!N||!await(i.isElement==null?void 0:i.isElement(R)))&&(N=c.floating[w]||o.floating[g]);const F=T/2-C/2,j=N/2-v[g]/2-1,A=Xe(h[b],j),M=Xe(h[x],j),O=A,I=N-v[g]-M,k=N/2-v[g]/2+F,q=Lr(O,k,I),P=!l.arrow&&Ut(s)!=null&&k!==q&&o.reference[g]/2-(k<O?A:M)-v[g]/2<0,H=P?k<O?k-O:k-I:0;return{[m]:p[m]+H,data:{[m]:q,centerOffset:k-q-H,...P&&{alignmentOffset:H}},reset:P}}}),Dd=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=ze(n,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const b=qe(s),x=Ye(c),w=qe(c)===c,T=await(l.isRTL==null?void 0:l.isRTL(d.floating)),C=p||(w||!v?[Kn(c)]:_d(c)),R=g!=="none";!p&&R&&C.push(...Ad(c,v,g,T));const N=[c,...C],F=await tn(t,y),j=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&j.push(F[b]),h){const k=Nd(s,i,T);j.push(F[k[0]],F[k[1]])}if(A=[...A,{placement:s,overflows:j}],!j.every(k=>k<=0)){var M,O;const k=(((M=o.flip)==null?void 0:M.index)||0)+1,q=N[k];if(q)return{data:{index:k,overflows:A},reset:{placement:q}};let P=(O=A.filter(H=>H.overflows[0]<=0).sort((H,D)=>H.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!P)switch(m){case"bestFit":{var I;const H=(I=A.filter(D=>{if(R){const _=Ye(D.placement);return _===x||_==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(_=>_>0).reduce((_,X)=>_+X,0)]).sort((D,_)=>D[1]-_[1])[0])==null?void 0:I[0];H&&(P=H);break}case"initialPlacement":P=c;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function so(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function oo(n){return Rd.some(t=>n[t]>=0)}const kd=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:r="referenceHidden",...s}=ze(n,t);switch(r){case"referenceHidden":{const o=await tn(t,{...s,elementContext:"reference"}),i=so(o,e.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:oo(i)}}}case"escaped":{const o=await tn(t,{...s,altBoundary:!0}),i=so(o,e.floating);return{data:{escapedOffsets:i,escaped:oo(i)}}}default:return{}}}}};async function Ld(n,t){const{placement:e,platform:r,elements:s}=n,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=qe(e),c=Ut(e),l=Ye(e)==="y",d=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,h=ze(t,n);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof g=="number"&&(m=c==="end"?g*-1:g),l?{x:m*u,y:p*d}:{x:p*d,y:m*u}}const Fd=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:s,y:o,placement:i,middlewareData:c}=t,l=await Ld(t,n);return i===((e=c.offset)==null?void 0:e.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},Ud=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...l}=ze(n,t),d={x:e,y:r},u=await tn(t,l),h=Ye(qe(s)),p=us(h);let m=d[p],g=d[h];if(o){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",x=m+u[y],w=m-u[b];m=Lr(x,m,w)}if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=g+u[y],w=g-u[b];g=Lr(x,g,w)}const v=c.fn({...t,[p]:m,[h]:g});return{...v,data:{x:v.x-e,y:v.y-r,enabled:{[p]:o,[h]:i}}}}}},$d=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=ze(n,t),u={x:e,y:r},h=Ye(s),p=us(h);let m=u[p],g=u[h];const v=ze(c,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=p==="y"?"height":"width",T=o.reference[p]-o.floating[w]+y.mainAxis,C=o.reference[p]+o.reference[w]-y.mainAxis;m<T?m=T:m>C&&(m=C)}if(d){var b,x;const w=p==="y"?"width":"height",T=["top","left"].includes(qe(s)),C=o.reference[h]-o.floating[w]+(T&&((b=i.offset)==null?void 0:b[h])||0)+(T?0:y.crossAxis),R=o.reference[h]+o.reference[w]+(T?0:((x=i.offset)==null?void 0:x[h])||0)-(T?y.crossAxis:0);g<C?g=C:g>R&&(g=R)}return{[p]:m,[h]:g}}}},zd=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,r;const{placement:s,rects:o,platform:i,elements:c}=t,{apply:l=()=>{},...d}=ze(n,t),u=await tn(t,d),h=qe(s),p=Ut(s),m=Ye(s)==="y",{width:g,height:v}=o.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=p===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(b=h,y=p==="end"?"top":"bottom");const x=v-u.top-u.bottom,w=g-u.left-u.right,T=Xe(v-u[y],x),C=Xe(g-u[b],w),R=!t.middlewareData.shift;let N=T,F=C;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(F=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=x),R&&!p){const A=ye(u.left,0),M=ye(u.right,0),O=ye(u.top,0),I=ye(u.bottom,0);m?F=g-2*(A!==0||M!==0?A+M:ye(u.left,u.right)):N=v-2*(O!==0||I!==0?O+I:ye(u.top,u.bottom))}await l({...t,availableWidth:F,availableHeight:N});const j=await i.getDimensions(c.floating);return g!==j.width||v!==j.height?{reset:{rects:!0}}:{}}}};function rr(){return typeof window<"u"}function $t(n){return ei(n)?(n.nodeName||"").toLowerCase():"#document"}function we(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Le(n){var t;return(t=(ei(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function ei(n){return rr()?n instanceof Node||n instanceof we(n).Node:!1}function _e(n){return rr()?n instanceof Element||n instanceof we(n).Element:!1}function De(n){return rr()?n instanceof HTMLElement||n instanceof we(n).HTMLElement:!1}function io(n){return!rr()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof we(n).ShadowRoot}function dn(n){const{overflow:t,overflowX:e,overflowY:r,display:s}=Pe(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!["inline","contents"].includes(s)}function qd(n){return["table","td","th"].includes($t(n))}function sr(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function hs(n){const t=ps(),e=_e(n)?Pe(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>e[r]?e[r]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(e.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(e.contain||"").includes(r))}function Hd(n){let t=Je(n);for(;De(t)&&!Pt(t);){if(hs(t))return t;if(sr(t))return null;t=Je(t)}return null}function ps(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pt(n){return["html","body","#document"].includes($t(n))}function Pe(n){return we(n).getComputedStyle(n)}function or(n){return _e(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Je(n){if($t(n)==="html")return n;const t=n.assignedSlot||n.parentNode||io(n)&&n.host||Le(n);return io(t)?t.host:t}function ti(n){const t=Je(n);return Pt(t)?n.ownerDocument?n.ownerDocument.body:n.body:De(t)&&dn(t)?t:ti(t)}function nn(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=ti(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),i=we(s);if(o){const c=Ur(i);return t.concat(i,i.visualViewport||[],dn(s)?s:[],c&&e?nn(c):[])}return t.concat(s,nn(s,[],e))}function Ur(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function ni(n){const t=Pe(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=De(n),o=s?n.offsetWidth:e,i=s?n.offsetHeight:r,c=Vn(e)!==o||Vn(r)!==i;return c&&(e=o,r=i),{width:e,height:r,$:c}}function ms(n){return _e(n)?n:n.contextElement}function Rt(n){const t=ms(n);if(!De(t))return je(1);const e=t.getBoundingClientRect(),{width:r,height:s,$:o}=ni(t);let i=(o?Vn(e.width):e.width)/r,c=(o?Vn(e.height):e.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Bd=je(0);function ri(n){const t=we(n);return!ps()||!t.visualViewport?Bd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wd(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==we(n)?!1:t}function xt(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=ms(n);let i=je(1);t&&(r?_e(r)&&(i=Rt(r)):i=Rt(n));const c=Wd(o,e,r)?ri(o):je(0);let l=(s.left+c.x)/i.x,d=(s.top+c.y)/i.y,u=s.width/i.x,h=s.height/i.y;if(o){const p=we(o),m=r&&_e(r)?we(r):r;let g=p,v=Ur(g);for(;v&&r&&m!==g;){const y=Rt(v),b=v.getBoundingClientRect(),x=Pe(v),w=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,T=b.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,d*=y.y,u*=y.x,h*=y.y,l+=w,d+=T,g=we(v),v=Ur(g)}}return Gn({width:u,height:h,x:l,y:d})}function gs(n,t){const e=or(n).scrollLeft;return t?t.left+e:xt(Le(n)).left+e}function si(n,t,e){e===void 0&&(e=!1);const r=n.getBoundingClientRect(),s=r.left+t.scrollLeft-(e?0:gs(n,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function Qd(n){let{elements:t,rect:e,offsetParent:r,strategy:s}=n;const o=s==="fixed",i=Le(r),c=t?sr(t.floating):!1;if(r===i||c&&o)return e;let l={scrollLeft:0,scrollTop:0},d=je(1);const u=je(0),h=De(r);if((h||!h&&!o)&&(($t(r)!=="body"||dn(i))&&(l=or(r)),De(r))){const m=xt(r);d=Rt(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=i&&!h&&!o?si(i,l,!0):je(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-l.scrollLeft*d.x+u.x+p.x,y:e.y*d.y-l.scrollTop*d.y+u.y+p.y}}function Vd(n){return Array.from(n.getClientRects())}function Kd(n){const t=Le(n),e=or(n),r=n.ownerDocument.body,s=ye(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ye(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-e.scrollLeft+gs(n);const c=-e.scrollTop;return Pe(r).direction==="rtl"&&(i+=ye(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:c}}function Gd(n,t){const e=we(n),r=Le(n),s=e.visualViewport;let o=r.clientWidth,i=r.clientHeight,c=0,l=0;if(s){o=s.width,i=s.height;const d=ps();(!d||d&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:c,y:l}}function Xd(n,t){const e=xt(n,!0,t==="fixed"),r=e.top+n.clientTop,s=e.left+n.clientLeft,o=De(n)?Rt(n):je(1),i=n.clientWidth*o.x,c=n.clientHeight*o.y,l=s*o.x,d=r*o.y;return{width:i,height:c,x:l,y:d}}function ao(n,t,e){let r;if(t==="viewport")r=Gd(n,e);else if(t==="document")r=Kd(Le(n));else if(_e(t))r=Xd(t,e);else{const s=ri(n);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Gn(r)}function oi(n,t){const e=Je(n);return e===t||!_e(e)||Pt(e)?!1:Pe(e).position==="fixed"||oi(e,t)}function Yd(n,t){const e=t.get(n);if(e)return e;let r=nn(n,[],!1).filter(c=>_e(c)&&$t(c)!=="body"),s=null;const o=Pe(n).position==="fixed";let i=o?Je(n):n;for(;_e(i)&&!Pt(i);){const c=Pe(i),l=hs(i);!l&&c.position==="fixed"&&(s=null),(o?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dn(i)&&!l&&oi(n,i))?r=r.filter(u=>u!==i):s=c,i=Je(i)}return t.set(n,r),r}function Jd(n){let{element:t,boundary:e,rootBoundary:r,strategy:s}=n;const i=[...e==="clippingAncestors"?sr(t)?[]:Yd(t,this._c):[].concat(e),r],c=i[0],l=i.reduce((d,u)=>{const h=ao(t,u,s);return d.top=ye(h.top,d.top),d.right=Xe(h.right,d.right),d.bottom=Xe(h.bottom,d.bottom),d.left=ye(h.left,d.left),d},ao(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Zd(n){const{width:t,height:e}=ni(n);return{width:t,height:e}}function ef(n,t,e){const r=De(t),s=Le(t),o=e==="fixed",i=xt(n,!0,o,t);let c={scrollLeft:0,scrollTop:0};const l=je(0);if(r||!r&&!o)if(($t(t)!=="body"||dn(s))&&(c=or(t)),r){const p=xt(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=gs(s));const d=s&&!r&&!o?si(s,c):je(0),u=i.left+c.scrollLeft-l.x-d.x,h=i.top+c.scrollTop-l.y-d.y;return{x:u,y:h,width:i.width,height:i.height}}function yr(n){return Pe(n).position==="static"}function co(n,t){if(!De(n)||Pe(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Le(n)===e&&(e=e.ownerDocument.body),e}function ii(n,t){const e=we(n);if(sr(n))return e;if(!De(n)){let s=Je(n);for(;s&&!Pt(s);){if(_e(s)&&!yr(s))return s;s=Je(s)}return e}let r=co(n,t);for(;r&&qd(r)&&yr(r);)r=co(r,t);return r&&Pt(r)&&yr(r)&&!hs(r)?e:r||Hd(n)||e}const tf=async function(n){const t=this.getOffsetParent||ii,e=this.getDimensions,r=await e(n.floating);return{reference:ef(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nf(n){return Pe(n).direction==="rtl"}const rf={convertOffsetParentRelativeRectToViewportRelativeRect:Qd,getDocumentElement:Le,getClippingRect:Jd,getOffsetParent:ii,getElementRects:tf,getClientRects:Vd,getDimensions:Zd,getScale:Rt,isElement:_e,isRTL:nf};function ai(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function sf(n,t){let e=null,r;const s=Le(n);function o(){var c;clearTimeout(r),(c=e)==null||c.disconnect(),e=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const d=n.getBoundingClientRect(),{left:u,top:h,width:p,height:m}=d;if(c||t(),!p||!m)return;const g=xn(h),v=xn(s.clientWidth-(u+p)),y=xn(s.clientHeight-(h+m)),b=xn(u),w={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:ye(0,Xe(1,l))||1};let T=!0;function C(R){const N=R[0].intersectionRatio;if(N!==l){if(!T)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!ai(d,n.getBoundingClientRect())&&i(),T=!1}try{e=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{e=new IntersectionObserver(C,w)}e.observe(n)}return i(!0),o}function of(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=ms(n),u=s||o?[...d?nn(d):[],...nn(t)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",e,{passive:!0}),o&&b.addEventListener("resize",e)});const h=d&&c?sf(d,e):null;let p=-1,m=null;i&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),e()}),d&&!l&&m.observe(d),m.observe(t));let g,v=l?xt(n):null;l&&y();function y(){const b=xt(n);v&&!ai(v,b)&&e(),v=b,g=requestAnimationFrame(y)}return e(),()=>{var b;u.forEach(x=>{s&&x.removeEventListener("scroll",e),o&&x.removeEventListener("resize",e)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const af=Fd,cf=Ud,lf=Dd,uf=zd,df=kd,lo=jd,ff=$d,hf=(n,t,e)=>{const r=new Map,s={platform:rf,...e},o={...s.platform,_c:r};return Id(n,t,{...s,platform:o})};var Tn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Xn(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,s;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!Xn(n[r],t[r]))return!1;return!0}if(s=Object.keys(n),e=s.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=e;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!Xn(n[o],t[o]))return!1}return!0}return n!==n&&t!==t}function ci(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function uo(n,t){const e=ci(n);return Math.round(t*e)/e}function xr(n){const t=f.useRef(n);return Tn(()=>{t.current=n}),t}function pf(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:l,open:d}=n,[u,h]=f.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Xn(p,r)||m(r);const[g,v]=f.useState(null),[y,b]=f.useState(null),x=f.useCallback(D=>{D!==R.current&&(R.current=D,v(D))},[]),w=f.useCallback(D=>{D!==N.current&&(N.current=D,b(D))},[]),T=o||g,C=i||y,R=f.useRef(null),N=f.useRef(null),F=f.useRef(u),j=l!=null,A=xr(l),M=xr(s),O=xr(d),I=f.useCallback(()=>{if(!R.current||!N.current)return;const D={placement:t,strategy:e,middleware:p};M.current&&(D.platform=M.current),hf(R.current,N.current,D).then(_=>{const X={..._,isPositioned:O.current!==!1};k.current&&!Xn(F.current,X)&&(F.current=X,ts.flushSync(()=>{h(X)}))})},[p,t,e,M,O]);Tn(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const k=f.useRef(!1);Tn(()=>(k.current=!0,()=>{k.current=!1}),[]),Tn(()=>{if(T&&(R.current=T),C&&(N.current=C),T&&C){if(A.current)return A.current(T,C,I);I()}},[T,C,I,A,j]);const q=f.useMemo(()=>({reference:R,floating:N,setReference:x,setFloating:w}),[x,w]),P=f.useMemo(()=>({reference:T,floating:C}),[T,C]),H=f.useMemo(()=>{const D={position:e,left:0,top:0};if(!P.floating)return D;const _=uo(P.floating,u.x),X=uo(P.floating,u.y);return c?{...D,transform:"translate("+_+"px, "+X+"px)",...ci(P.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:_,top:X}},[e,c,P.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:I,refs:q,elements:P,floatingStyles:H}),[u,I,q,P,H])}const mf=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:s}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?lo({element:r.current,padding:s}).fn(e):{}:r?lo({element:r,padding:s}).fn(e):{}}}},gf=(n,t)=>({...af(n),options:[n,t]}),vf=(n,t)=>({...cf(n),options:[n,t]}),yf=(n,t)=>({...ff(n),options:[n,t]}),xf=(n,t)=>({...lf(n),options:[n,t]}),wf=(n,t)=>({...uf(n),options:[n,t]}),bf=(n,t)=>({...df(n),options:[n,t]}),Cf=(n,t)=>({...mf(n),options:[n,t]});var Ef="Arrow",li=f.forwardRef((n,t)=>{const{children:e,width:r=10,height:s=5,...o}=n;return a.jsx(ne.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});li.displayName=Ef;var Sf=li;function Rf(n){const[t,e]=f.useState(void 0);return Re(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,c;if("borderBoxSize"in o){const l=o.borderBoxSize,d=Array.isArray(l)?l[0]:l;i=d.inlineSize,c=d.blockSize}else i=n.offsetWidth,c=n.offsetHeight;e({width:i,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else e(void 0)},[n]),t}var vs="Popper",[ui,zt]=Ct(vs),[Tf,di]=ui(vs),fi=n=>{const{__scopePopper:t,children:e}=n,[r,s]=f.useState(null);return a.jsx(Tf,{scope:t,anchor:r,onAnchorChange:s,children:e})};fi.displayName=vs;var hi="PopperAnchor",pi=f.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:r,...s}=n,o=di(hi,e),i=f.useRef(null),c=se(t,i);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(ne.div,{...s,ref:c})});pi.displayName=hi;var ys="PopperContent",[Mf,Nf]=ui(ys),mi=f.forwardRef((n,t)=>{var U,Z,oe,Y,ee,te;const{__scopePopper:e,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=n,y=di(ys,e),[b,x]=f.useState(null),w=se(t,ve=>x(ve)),[T,C]=f.useState(null),R=Rf(T),N=(R==null?void 0:R.width)??0,F=(R==null?void 0:R.height)??0,j=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],O=M.length>0,I={padding:A,boundary:M.filter(Pf),altBoundary:O},{refs:k,floatingStyles:q,placement:P,isPositioned:H,middlewareData:D}=pf({strategy:"fixed",placement:j,whileElementsMounted:(...ve)=>of(...ve,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[gf({mainAxis:s+F,alignmentAxis:i}),l&&vf({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?yf():void 0,...I}),l&&xf({...I}),wf({...I,apply:({elements:ve,rects:Ae,availableWidth:Ht,availableHeight:Bt})=>{const{width:Wt,height:tl}=Ae.reference,gn=ve.floating.style;gn.setProperty("--radix-popper-available-width",`${Ht}px`),gn.setProperty("--radix-popper-available-height",`${Bt}px`),gn.setProperty("--radix-popper-anchor-width",`${Wt}px`),gn.setProperty("--radix-popper-anchor-height",`${tl}px`)}}),T&&Cf({element:T,padding:c}),Af({arrowWidth:N,arrowHeight:F}),p&&bf({strategy:"referenceHidden",...I})]}),[_,X]=yi(P),ie=Ne(g);Re(()=>{H&&(ie==null||ie())},[H,ie]);const he=(U=D.arrow)==null?void 0:U.x,Ue=(Z=D.arrow)==null?void 0:Z.y,Ce=((oe=D.arrow)==null?void 0:oe.centerOffset)!==0,[$e,ge]=f.useState();return Re(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:H?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(Y=D.transformOrigin)==null?void 0:Y.x,(ee=D.transformOrigin)==null?void 0:ee.y].join(" "),...((te=D.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:a.jsx(Mf,{scope:e,placedSide:_,onArrowChange:C,arrowX:he,arrowY:Ue,shouldHideArrow:Ce,children:a.jsx(ne.div,{"data-side":_,"data-align":X,...v,ref:w,style:{...v.style,animation:H?void 0:"none"}})})})});mi.displayName=ys;var gi="PopperArrow",_f={top:"bottom",right:"left",bottom:"top",left:"right"},vi=f.forwardRef(function(t,e){const{__scopePopper:r,...s}=t,o=Nf(gi,r),i=_f[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Sf,{...s,ref:e,style:{...s.style,display:"block"}})})});vi.displayName=gi;function Pf(n){return n!==null}var Af=n=>({name:"transformOrigin",options:n,fn(t){var y,b,x;const{placement:e,rects:r,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,c=i?0:n.arrowWidth,l=i?0:n.arrowHeight,[d,u]=yi(e),h={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return d==="bottom"?(g=i?h:`${p}px`,v=`${-l}px`):d==="top"?(g=i?h:`${p}px`,v=`${r.floating.height+l}px`):d==="right"?(g=`${-l}px`,v=i?h:`${m}px`):d==="left"&&(g=`${r.floating.width+l}px`,v=i?h:`${m}px`),{data:{x:g,y:v}}}});function yi(n){const[t,e="center"]=n.split("-");return[t,e]}var xs=fi,ws=pi,bs=mi,Cs=vi,Of="VisuallyHidden",Es=f.forwardRef((n,t)=>a.jsx(ne.span,{...n,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Es.displayName=Of;var If=Es,[ir,Wg]=Ct("Tooltip",[zt]),ar=zt(),xi="TooltipProvider",jf=700,$r="tooltip.open",[Df,Ss]=ir(xi),wi=n=>{const{__scopeTooltip:t,delayDuration:e=jf,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=n,[i,c]=f.useState(!0),l=f.useRef(!1),d=f.useRef(0);return f.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(Df,{scope:t,isOpenDelayed:i,delayDuration:e,onOpen:f.useCallback(()=>{window.clearTimeout(d.current),c(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};wi.displayName=xi;var cr="Tooltip",[kf,fn]=ir(cr),bi=n=>{const{__scopeTooltip:t,children:e,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:c}=n,l=Ss(cr,n.__scopeTooltip),d=ar(t),[u,h]=f.useState(null),p=Mt(),m=f.useRef(0),g=i??l.disableHoverableContent,v=c??l.delayDuration,y=f.useRef(!1),[b=!1,x]=_n({prop:r,defaultProp:s,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent($r))):l.onClose(),o==null||o(N)}}),w=f.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),T=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,x(!0)},[x]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),R=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,x(!0),m.current=0},v)},[v,x]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(xs,{...d,children:a.jsx(kf,{scope:t,contentId:p,open:b,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayed?R():T()},[l.isOpenDelayed,R,T]),onTriggerLeave:f.useCallback(()=>{g?C():(window.clearTimeout(m.current),m.current=0)},[C,g]),onOpen:T,onClose:C,disableHoverableContent:g,children:e})})};bi.displayName=cr;var zr="TooltipTrigger",Ci=f.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,s=fn(zr,e),o=Ss(zr,e),i=ar(e),c=f.useRef(null),l=se(t,c,s.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(ws,{asChild:!0,...i,children:a.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:L(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:L(n.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:L(n.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:L(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:L(n.onBlur,s.onClose),onClick:L(n.onClick,s.onClose)})})});Ci.displayName=zr;var Rs="TooltipPortal",[Lf,Ff]=ir(Rs,{forceMount:void 0}),Ei=n=>{const{__scopeTooltip:t,forceMount:e,children:r,container:s}=n,o=fn(Rs,t);return a.jsx(Lf,{scope:t,forceMount:e,children:a.jsx(ke,{present:e||o.open,children:a.jsx(Jr,{asChild:!0,container:s,children:r})})})};Ei.displayName=Rs;var At="TooltipContent",Si=f.forwardRef((n,t)=>{const e=Ff(At,n.__scopeTooltip),{forceMount:r=e.forceMount,side:s="top",...o}=n,i=fn(At,n.__scopeTooltip);return a.jsx(ke,{present:r||i.open,children:i.disableHoverableContent?a.jsx(Ri,{side:s,...o,ref:t}):a.jsx(Uf,{side:s,...o,ref:t})})}),Uf=f.forwardRef((n,t)=>{const e=fn(At,n.__scopeTooltip),r=Ss(At,n.__scopeTooltip),s=f.useRef(null),o=se(t,s),[i,c]=f.useState(null),{trigger:l,onClose:d}=e,u=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{c(null),h(!1)},[h]),m=f.useCallback((g,v)=>{const y=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Hf(b,y.getBoundingClientRect()),w=Bf(b,x),T=Wf(v.getBoundingClientRect()),C=Vf([...w,...T]);c(C),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&u){const g=y=>m(y,u),v=y=>m(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,m,p]),f.useEffect(()=>{if(i){const g=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!Qf(b,i);x?p():w&&(p(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,i,d,p]),a.jsx(Ri,{...n,ref:o})}),[$f,zf]=ir(cr,{isInside:!1}),Ri=f.forwardRef((n,t)=>{const{__scopeTooltip:e,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...c}=n,l=fn(At,e),d=ar(e),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener($r,u),()=>document.removeEventListener($r,u)),[u]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),a.jsx(Zr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(bs,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(No,{children:r}),a.jsx($f,{scope:e,isInside:!0,children:a.jsx(If,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Si.displayName=At;var Ti="TooltipArrow",qf=f.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,s=ar(e);return zf(Ti,e).isInside?null:a.jsx(Cs,{...s,...r,ref:t})});qf.displayName=Ti;function Hf(n,t){const e=Math.abs(t.top-n.y),r=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),o=Math.abs(t.left-n.x);switch(Math.min(e,r,s,o)){case o:return"left";case s:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Bf(n,t,e=5){const r=[];switch(t){case"top":r.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":r.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":r.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":r.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return r}function Wf(n){const{top:t,right:e,bottom:r,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:r},{x:s,y:r}]}function Qf(n,t){const{x:e,y:r}=n;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,d=t[i].x,u=t[i].y;l>r!=u>r&&e<(d-c)*(r-l)/(u-l)+c&&(s=!s)}return s}function Vf(n){const t=n.slice();return t.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),Kf(t)}function Kf(n){if(n.length<=1)return n.slice();const t=[];for(let r=0;r<n.length;r++){const s=n[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var Gf=wi,Xf=bi,Yf=Ci,Jf=Ei,Mi=Si;const Zf=Gf,eh=Xf,th=Yf,Ni=f.forwardRef(({className:n,sideOffset:t=4,...e},r)=>a.jsx(Jf,{children:a.jsx(Mi,{ref:r,sideOffset:t,className:W("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e})}));Ni.displayName=Mi.displayName;function nh(){const[n,t]=f.useState(null),[e,r]=f.useState(!1),s=f.useCallback(i=>{if(!i){console.error(" Invalid template - cannot use undefined/null template"),z.error("Could not use template: Invalid template data");return}if(!i.content){console.error(" Template has no content:",i.id),z.error("Could not use template: Template has no content");return}console.log(" Using template:",i.id,i.title),t(i),r(!0);try{if(!window.dialogManager){console.error(" dialogManager not available"),z.error("Could not open template editor: System not initialized"),r(!1);return}window.dialogManager.openDialog(xe.PLACEHOLDER_EDITOR,{content:i.content,title:i.title||"Untitled Template",onComplete:o}),console.log(" Template editor opened successfully"),i.id&&xl(async()=>{const{promptApi:c}=await Promise.resolve().then(()=>pd);return{promptApi:c}},void 0).then(({promptApi:c})=>{c.trackTemplateUsage(i.id).catch(l=>{console.error("Failed to track template usage:",l)})})}catch(c){console.error(" Error opening template editor:",c),z.error("Failed to open template editor")}finally{r(!1)}},[]),o=f.useCallback(i=>{if(!i){console.warn(" Finalized template has no content");return}try{console.log(" Template finalized with content length:",i.length);const c=document.querySelector("#prompt-textarea");if(!c){console.error(" Could not find prompt textarea"),z.error("Could not apply template: Input area not found");return}const l=i.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).trim();c instanceof HTMLTextAreaElement?(c.value=l,c.dispatchEvent(new Event("input",{bubbles:!0}))):(c.textContent=l,c.dispatchEvent(new Event("input",{bubbles:!0}))),c.focus(),"setSelectionRange"in c&&c.setSelectionRange(l.length,l.length),z.success("Template applied successfully"),t(null)}catch(c){console.error(" Error applying template:",c),z.error("Failed to apply template")}},[]);return{selectedTemplate:n,isProcessing:e,useTemplate:s,handleTemplateFinalized:o}}function rh({template:n,type:t="user",onEditTemplate:e,onDeleteTemplate:r}){const{useTemplate:s,isProcessing:o}=nh(),i=n.title||"Untitled Template",c=typeof n.usage_count=="number"?n.usage_count:0,d=(g=>{if(!g)return null;try{const v=new Date(g);if(isNaN(v.getTime()))return null;const y=new Date;if(v.toDateString()===y.toDateString())return"today";const b=new Date;return b.setDate(b.getDate()-1),v.toDateString()===b.toDateString()?"yesterday":v.toLocaleDateString(void 0,{month:"short",day:"numeric"})}catch(v){return console.error("Error formatting date:",v),null}})(n.last_used_at),u=()=>c===0?null:c>=5?a.jsx(Zf,{children:a.jsxs(eh,{children:[a.jsx(th,{asChild:!0,children:a.jsxs("div",{className:"flex items-center text-xs text-primary",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1 text-primary"}),a.jsx("span",{children:"Popular"}),a.jsx(Sd,{variant:"outline",className:"ml-1 h-4 px-1 py-0 text-xs",children:c})]})}),a.jsx(Ni,{children:a.jsxs("p",{children:["Used ",c," times"]})})]})}):d?a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx($l,{className:"h-3 w-3 mr-1"}),a.jsxs("span",{children:["Last used ",d]})]}):a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Used ",c," ",c===1?"time":"times"]}),h=()=>{s(n)},p=g=>{g.stopPropagation(),e&&e(n)},m=g=>{g.stopPropagation(),r&&n.id&&r(n.id)};return a.jsxs("div",{className:`flex items-center p-2 hover:bg-accent/60 rounded-sm cursor-pointer group ${o?"opacity-50":""}`,onClick:h,children:[a.jsx(jo,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm truncate",children:i}),n.description&&a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n.description}),u()]}),t==="user"&&a.jsxs("div",{className:"ml-2 flex opacity-0 group-hover:opacity-100 transition-opacity",children:[e&&a.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:p,title:"Edit template",children:a.jsx(lu,{className:"h-3.5 w-3.5"})}),r&&a.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:m,title:"Delete template",children:a.jsx(Sr,{className:"h-3.5 w-3.5"})})]})]})}function sh({isPinned:n,onClick:t,className:e="",disabled:r=!1}){const s=o=>{o.stopPropagation(),t(o)};return a.jsx(V,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 flex-shrink-0 ${n?"text-yellow-500":"text-muted-foreground opacity-70 hover:opacity-100"} ${e}`,onClick:s,title:n?"Unpin folder":"Pin folder",disabled:r,children:a.jsx(du,{className:`h-4 w-4 ${n?"fill-yellow-500":""}`})})}var qr=["Enter"," "],oh=["ArrowDown","PageUp","Home"],_i=["ArrowUp","PageDown","End"],ih=[...oh,..._i],ah={ltr:[...qr,"ArrowRight"],rtl:[...qr,"ArrowLeft"]},ch={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hn="Menu",[rn,lh,uh]=yo(hn),[Et,Pi]=Ct(hn,[uh,zt,xo]),lr=zt(),Ai=xo(),[dh,St]=Et(hn),[fh,pn]=Et(hn),Oi=n=>{const{__scopeMenu:t,open:e=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=n,c=lr(t),[l,d]=f.useState(null),u=f.useRef(!1),h=Ne(o),p=es(s);return f.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(xs,{...c,children:a.jsx(dh,{scope:t,open:e,onOpenChange:h,content:l,onContentChange:d,children:a.jsx(fh,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:i,children:r})})})};Oi.displayName=hn;var hh="MenuAnchor",Ts=f.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,s=lr(e);return a.jsx(ws,{...s,...r,ref:t})});Ts.displayName=hh;var Ms="MenuPortal",[ph,Ii]=Et(Ms,{forceMount:void 0}),ji=n=>{const{__scopeMenu:t,forceMount:e,children:r,container:s}=n,o=St(Ms,t);return a.jsx(ph,{scope:t,forceMount:e,children:a.jsx(ke,{present:e||o.open,children:a.jsx(Jr,{asChild:!0,container:s,children:r})})})};ji.displayName=Ms;var Se="MenuContent",[mh,Ns]=Et(Se),Di=f.forwardRef((n,t)=>{const e=Ii(Se,n.__scopeMenu),{forceMount:r=e.forceMount,...s}=n,o=St(Se,n.__scopeMenu),i=pn(Se,n.__scopeMenu);return a.jsx(rn.Provider,{scope:n.__scopeMenu,children:a.jsx(ke,{present:r||o.open,children:a.jsx(rn.Slot,{scope:n.__scopeMenu,children:i.modal?a.jsx(gh,{...s,ref:t}):a.jsx(vh,{...s,ref:t})})})})}),gh=f.forwardRef((n,t)=>{const e=St(Se,n.__scopeMenu),r=f.useRef(null),s=se(t,r);return f.useEffect(()=>{const o=r.current;if(o)return Eo(o)},[]),a.jsx(_s,{...n,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:L(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),vh=f.forwardRef((n,t)=>{const e=St(Se,n.__scopeMenu);return a.jsx(_s,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),_s=f.forwardRef((n,t)=>{const{__scopeMenu:e,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:g,...v}=n,y=St(Se,e),b=pn(Se,e),x=lr(e),w=Ai(e),T=lh(e),[C,R]=f.useState(null),N=f.useRef(null),F=se(t,N,y.onContentChange),j=f.useRef(0),A=f.useRef(""),M=f.useRef(0),O=f.useRef(null),I=f.useRef("right"),k=f.useRef(0),q=g?bo:f.Fragment,P=g?{as:Po,allowPinchZoom:!0}:void 0,H=_=>{var U,Z;const X=A.current+_,ie=T().filter(oe=>!oe.disabled),he=document.activeElement,Ue=(U=ie.find(oe=>oe.ref.current===he))==null?void 0:U.textValue,Ce=ie.map(oe=>oe.textValue),$e=_h(Ce,X,Ue),ge=(Z=ie.find(oe=>oe.textValue===$e))==null?void 0:Z.ref.current;(function oe(Y){A.current=Y,window.clearTimeout(j.current),Y!==""&&(j.current=window.setTimeout(()=>oe(""),1e3))})(X),ge&&setTimeout(()=>ge.focus())};f.useEffect(()=>()=>window.clearTimeout(j.current),[]),wo();const D=f.useCallback(_=>{var ie,he;return I.current===((ie=O.current)==null?void 0:ie.side)&&Ah(_,(he=O.current)==null?void 0:he.area)},[]);return a.jsx(mh,{scope:e,searchRef:A,onItemEnter:f.useCallback(_=>{D(_)&&_.preventDefault()},[D]),onItemLeave:f.useCallback(_=>{var X;D(_)||((X=N.current)==null||X.focus(),R(null))},[D]),onTriggerLeave:f.useCallback(_=>{D(_)&&_.preventDefault()},[D]),pointerGraceTimerRef:M,onPointerGraceIntentChange:f.useCallback(_=>{O.current=_},[]),children:a.jsx(q,{...P,children:a.jsx(Co,{asChild:!0,trapped:s,onMountAutoFocus:L(o,_=>{var X;_.preventDefault(),(X=N.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Zr,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:a.jsx(ol,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:R,onEntryFocus:L(l,_=>{b.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(bs,{role:"menu","aria-orientation":"vertical","data-state":Yi(y.open),"data-radix-menu-content":"",dir:b.dir,...x,...v,ref:F,style:{outline:"none",...v.style},onKeyDown:L(v.onKeyDown,_=>{const ie=_.target.closest("[data-radix-menu-content]")===_.currentTarget,he=_.ctrlKey||_.altKey||_.metaKey,Ue=_.key.length===1;ie&&(_.key==="Tab"&&_.preventDefault(),!he&&Ue&&H(_.key));const Ce=N.current;if(_.target!==Ce||!ih.includes(_.key))return;_.preventDefault();const ge=T().filter(U=>!U.disabled).map(U=>U.ref.current);_i.includes(_.key)&&ge.reverse(),Mh(ge)}),onBlur:L(n.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(j.current),A.current="")}),onPointerMove:L(n.onPointerMove,sn(_=>{const X=_.target,ie=k.current!==_.clientX;if(_.currentTarget.contains(X)&&ie){const he=_.clientX>k.current?"right":"left";I.current=he,k.current=_.clientX}}))})})})})})})});Di.displayName=Se;var yh="MenuGroup",Ps=f.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return a.jsx(ne.div,{role:"group",...r,ref:t})});Ps.displayName=yh;var xh="MenuLabel",ki=f.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return a.jsx(ne.div,{...r,ref:t})});ki.displayName=xh;var Yn="MenuItem",fo="menu.itemSelect",ur=f.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:r,...s}=n,o=f.useRef(null),i=pn(Yn,n.__scopeMenu),c=Ns(Yn,n.__scopeMenu),l=se(t,o),d=f.useRef(!1),u=()=>{const h=o.current;if(!e&&h){const p=new CustomEvent(fo,{bubbles:!0,cancelable:!0});h.addEventListener(fo,m=>r==null?void 0:r(m),{once:!0}),vl(h,p),p.defaultPrevented?d.current=!1:i.onClose()}};return a.jsx(Li,{...s,ref:l,disabled:e,onClick:L(n.onClick,u),onPointerDown:h=>{var p;(p=n.onPointerDown)==null||p.call(n,h),d.current=!0},onPointerUp:L(n.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:L(n.onKeyDown,h=>{const p=c.searchRef.current!=="";e||p&&h.key===" "||qr.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ur.displayName=Yn;var Li=f.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:r=!1,textValue:s,...o}=n,i=Ns(Yn,e),c=Ai(e),l=f.useRef(null),d=se(t,l),[u,h]=f.useState(!1),[p,m]=f.useState("");return f.useEffect(()=>{const g=l.current;g&&m((g.textContent??"").trim())},[o.children]),a.jsx(rn.ItemSlot,{scope:e,disabled:r,textValue:s??p,children:a.jsx(sl,{asChild:!0,...c,focusable:!r,children:a.jsx(ne.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:L(n.onPointerMove,sn(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(n.onPointerLeave,sn(g=>i.onItemLeave(g))),onFocus:L(n.onFocus,()=>h(!0)),onBlur:L(n.onBlur,()=>h(!1))})})})}),wh="MenuCheckboxItem",Fi=f.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:r,...s}=n;return a.jsx(Hi,{scope:n.__scopeMenu,checked:e,children:a.jsx(ur,{role:"menuitemcheckbox","aria-checked":Jn(e)?"mixed":e,...s,ref:t,"data-state":Os(e),onSelect:L(s.onSelect,()=>r==null?void 0:r(Jn(e)?!0:!e),{checkForDefaultPrevented:!1})})})});Fi.displayName=wh;var Ui="MenuRadioGroup",[bh,Ch]=Et(Ui,{value:void 0,onValueChange:()=>{}}),$i=f.forwardRef((n,t)=>{const{value:e,onValueChange:r,...s}=n,o=Ne(r);return a.jsx(bh,{scope:n.__scopeMenu,value:e,onValueChange:o,children:a.jsx(Ps,{...s,ref:t})})});$i.displayName=Ui;var zi="MenuRadioItem",qi=f.forwardRef((n,t)=>{const{value:e,...r}=n,s=Ch(zi,n.__scopeMenu),o=e===s.value;return a.jsx(Hi,{scope:n.__scopeMenu,checked:o,children:a.jsx(ur,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Os(o),onSelect:L(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,e)},{checkForDefaultPrevented:!1})})})});qi.displayName=zi;var As="MenuItemIndicator",[Hi,Eh]=Et(As,{checked:!1}),Bi=f.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:r,...s}=n,o=Eh(As,e);return a.jsx(ke,{present:r||Jn(o.checked)||o.checked===!0,children:a.jsx(ne.span,{...s,ref:t,"data-state":Os(o.checked)})})});Bi.displayName=As;var Sh="MenuSeparator",Wi=f.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return a.jsx(ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Wi.displayName=Sh;var Rh="MenuArrow",Qi=f.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,s=lr(e);return a.jsx(Cs,{...s,...r,ref:t})});Qi.displayName=Rh;var Th="MenuSub",[Qg,Vi]=Et(Th),Xt="MenuSubTrigger",Ki=f.forwardRef((n,t)=>{const e=St(Xt,n.__scopeMenu),r=pn(Xt,n.__scopeMenu),s=Vi(Xt,n.__scopeMenu),o=Ns(Xt,n.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=o,d={__scopeMenu:n.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),l(null)}},[c,l]),a.jsx(Ts,{asChild:!0,...d,children:a.jsx(Li,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":Yi(e.open),...n,ref:_o(t,s.onTriggerChange),onClick:h=>{var p;(p=n.onClick)==null||p.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:L(n.onPointerMove,sn(h=>{o.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!e.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{e.onOpenChange(!0),u()},100))})),onPointerLeave:L(n.onPointerLeave,sn(h=>{var m,g;u();const p=(m=e.content)==null?void 0:m.getBoundingClientRect();if(p){const v=(g=e.content)==null?void 0:g.dataset.side,y=v==="right",b=y?-5:5,x=p[y?"left":"right"],w=p[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:L(n.onKeyDown,h=>{var m;const p=o.searchRef.current!=="";n.disabled||p&&h.key===" "||ah[r.dir].includes(h.key)&&(e.onOpenChange(!0),(m=e.content)==null||m.focus(),h.preventDefault())})})})});Ki.displayName=Xt;var Gi="MenuSubContent",Xi=f.forwardRef((n,t)=>{const e=Ii(Se,n.__scopeMenu),{forceMount:r=e.forceMount,...s}=n,o=St(Se,n.__scopeMenu),i=pn(Se,n.__scopeMenu),c=Vi(Gi,n.__scopeMenu),l=f.useRef(null),d=se(t,l);return a.jsx(rn.Provider,{scope:n.__scopeMenu,children:a.jsx(ke,{present:r||o.open,children:a.jsx(rn.Slot,{scope:n.__scopeMenu,children:a.jsx(_s,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:L(n.onFocusOutside,u=>{u.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:L(n.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:L(n.onKeyDown,u=>{var m;const h=u.currentTarget.contains(u.target),p=ch[i.dir].includes(u.key);h&&p&&(o.onOpenChange(!1),(m=c.trigger)==null||m.focus(),u.preventDefault())})})})})})});Xi.displayName=Gi;function Yi(n){return n?"open":"closed"}function Jn(n){return n==="indeterminate"}function Os(n){return Jn(n)?"indeterminate":n?"checked":"unchecked"}function Mh(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function Nh(n,t){return n.map((e,r)=>n[(t+r)%n.length])}function _h(n,t,e){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=e?n.indexOf(e):-1;let i=Nh(n,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==e));const l=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==e?l:void 0}function Ph(n,t){const{x:e,y:r}=n;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,d=t[i].x,u=t[i].y;l>r!=u>r&&e<(d-c)*(r-l)/(u-l)+c&&(s=!s)}return s}function Ah(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return Ph(e,t)}function sn(n){return t=>t.pointerType==="mouse"?n(t):void 0}var Oh=Oi,Ih=Ts,jh=ji,Dh=Di,kh=Ps,Lh=ki,Fh=ur,Uh=Fi,$h=$i,zh=qi,qh=Bi,Hh=Wi,Bh=Qi,Wh=Ki,Qh=Xi,Is="DropdownMenu",[Vh,Vg]=Ct(Is,[Pi]),me=Pi(),[Kh,Ji]=Vh(Is),Zi=n=>{const{__scopeDropdownMenu:t,children:e,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=n,l=me(t),d=f.useRef(null),[u=!1,h]=_n({prop:s,defaultProp:o,onChange:i});return a.jsx(Kh,{scope:t,triggerId:Mt(),triggerRef:d,contentId:Mt(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),modal:c,children:a.jsx(Oh,{...l,open:u,onOpenChange:h,dir:r,modal:c,children:e})})};Zi.displayName=Is;var ea="DropdownMenuTrigger",ta=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:r=!1,...s}=n,o=Ji(ea,e),i=me(e);return a.jsx(Ih,{asChild:!0,...i,children:a.jsx(ne.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:_o(t,o.triggerRef),onPointerDown:L(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:L(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});ta.displayName=ea;var Gh="DropdownMenuPortal",na=n=>{const{__scopeDropdownMenu:t,...e}=n,r=me(t);return a.jsx(jh,{...r,...e})};na.displayName=Gh;var ra="DropdownMenuContent",sa=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=Ji(ra,e),o=me(e),i=f.useRef(!1);return a.jsx(Dh,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:L(n.onCloseAutoFocus,c=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:L(n.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;(!s.modal||u)&&(i.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sa.displayName=ra;var Xh="DropdownMenuGroup",Yh=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(kh,{...s,...r,ref:t})});Yh.displayName=Xh;var Jh="DropdownMenuLabel",oa=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Lh,{...s,...r,ref:t})});oa.displayName=Jh;var Zh="DropdownMenuItem",ia=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Fh,{...s,...r,ref:t})});ia.displayName=Zh;var ep="DropdownMenuCheckboxItem",aa=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Uh,{...s,...r,ref:t})});aa.displayName=ep;var tp="DropdownMenuRadioGroup",np=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx($h,{...s,...r,ref:t})});np.displayName=tp;var rp="DropdownMenuRadioItem",ca=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(zh,{...s,...r,ref:t})});ca.displayName=rp;var sp="DropdownMenuItemIndicator",la=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(qh,{...s,...r,ref:t})});la.displayName=sp;var op="DropdownMenuSeparator",ua=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Hh,{...s,...r,ref:t})});ua.displayName=op;var ip="DropdownMenuArrow",ap=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Bh,{...s,...r,ref:t})});ap.displayName=ip;var cp="DropdownMenuSubTrigger",da=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Wh,{...s,...r,ref:t})});da.displayName=cp;var lp="DropdownMenuSubContent",fa=f.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,s=me(e);return a.jsx(Qh,{...s,...r,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fa.displayName=lp;var up=Zi,dp=ta,fp=na,ha=sa,pa=oa,ma=ia,ga=aa,va=ca,ya=la,xa=ua,wa=da,ba=fa;const hp=up,pp=dp,mp=f.forwardRef(({className:n,inset:t,children:e,...r},s)=>a.jsxs(wa,{ref:s,className:W("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",n),...r,children:[e,a.jsx(Io,{className:"ml-auto"})]}));mp.displayName=wa.displayName;const gp=f.forwardRef(({className:n,...t},e)=>a.jsx(ba,{ref:e,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t}));gp.displayName=ba.displayName;const Ca=f.forwardRef(({className:n,sideOffset:t=4,...e},r)=>a.jsx(fp,{children:a.jsx(ha,{ref:r,sideOffset:t,className:W("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e})}));Ca.displayName=ha.displayName;const Ea=f.forwardRef(({className:n,inset:t,...e},r)=>a.jsx(ma,{ref:r,className:W("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",n),...e}));Ea.displayName=ma.displayName;const vp=f.forwardRef(({className:n,children:t,checked:e,...r},s)=>a.jsxs(ga,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:e,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ya,{children:a.jsx(ns,{className:"h-4 w-4"})})}),t]}));vp.displayName=ga.displayName;const yp=f.forwardRef(({className:n,children:t,...e},r)=>a.jsxs(va,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ya,{children:a.jsx(Fl,{className:"h-2 w-2 fill-current"})})}),t]}));yp.displayName=va.displayName;const xp=f.forwardRef(({className:n,inset:t,...e},r)=>a.jsx(pa,{ref:r,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",n),...e}));xp.displayName=pa.displayName;const wp=f.forwardRef(({className:n,...t},e)=>a.jsx(xa,{ref:e,className:W("-mx-1 my-1 h-px bg-muted",n),...t}));wp.displayName=xa.displayName;function bp({onDelete:n,itemType:t,showIcon:e=!1,stopPropagation:r=!1,className:s="",disabled:o=!1}){const[i,c]=f.useState(!1),[l,d]=f.useState(!1),u=p=>{r&&p.stopPropagation(),c(!0)},h=async()=>{d(!0);try{await n(),c(!1)}catch(p){console.error(`Error deleting ${t}:`,p)}finally{d(!1)}};return a.jsxs(a.Fragment,{children:[e?a.jsx(V,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 text-destructive ${s}`,onClick:u,disabled:o,children:a.jsx(Sr,{className:"h-3.5 w-3.5"})}):a.jsxs(hp,{children:[a.jsx(pp,{asChild:!0,onClick:p=>r&&p.stopPropagation(),children:a.jsx(V,{variant:"ghost",size:"sm",disabled:o,className:`h-6 w-6 p-0 flex-shrink-0 text-muted-foreground opacity-70 hover:opacity-100 ${s}`,children:a.jsx(ql,{className:"h-4 w-4"})})}),a.jsx(Ca,{align:"end",children:a.jsxs(Ea,{onClick:u,className:"text-destructive cursor-pointer",children:[a.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Delete ",t==="folder"?"Folder":"Template"]})})]}),a.jsx(It,{open:i,onOpenChange:c,children:a.jsxs(jt,{children:[a.jsxs(Dt,{children:[a.jsxs(kt,{className:"flex items-center",children:[a.jsx(rs,{className:"h-5 w-5 mr-2 text-destructive"}),"Delete ",t==="folder"?"Folder":"Template"]}),a.jsxs(an,{children:[t==="folder"?"This will permanently delete the folder and all templates inside it.":"This will permanently delete this template.","This action cannot be undone."]})]}),a.jsxs(cn,{children:[a.jsx(V,{variant:"outline",onClick:()=>c(!1),disabled:l,children:"Cancel"}),a.jsx(V,{variant:"destructive",onClick:h,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})}function Sa({folder:n,type:t,onTogglePin:e,onDeleteFolder:r,onUseTemplate:s,showPinControls:o=!1,showDeleteControls:i=!1,level:c=0,initialExpanded:l=!1}){const[d,u]=f.useState(l);if(!n||!n.id||!n.name||c>5)return null;const h=Array.isArray(n.templates)?n.templates:[],p=Array.isArray(n.Folders)?n.Folders:[],m=!!n.is_pinned,g=h.length>0,v=p.length>0,y=()=>{u(T=>!T)},b=T=>{e&&e(n.id,m)},x=async()=>r?await r(n.id):!1,w=a.jsxs("div",{className:"flex items-center gap-1",children:[o&&e&&(t==="official"||t==="organization")&&a.jsx(sh,{isPinned:m,onClick:b}),i&&r&&t==="user"&&a.jsx(bp,{onDelete:x,itemType:"folder",stopPropagation:!0,className:"h-6 w-6 p-0"})]});return a.jsxs("div",{className:"folder-container mb-1",children:[a.jsx(Cd,{folder:n,isExpanded:d,onToggle:y,actionButtons:w}),d&&a.jsxs("div",{className:"folder-content pl-6 mt-1",children:[g&&h.map(T=>a.jsx(rh,{template:T,type:t},`template-${T.id}`)),v&&p.map(T=>a.jsx(Sa,{folder:T,type:t,onTogglePin:e,onDeleteFolder:r,onUseTemplate:s,showPinControls:o,showDeleteControls:i,level:c+1},`subfolder-${T.id}-${t}`))]})]})}function on({children:n,className:t=""}){return a.jsx("div",{className:`text-center py-2 text-xs text-muted-foreground px-2 ${t}`,children:n})}function Hr({folders:n,type:t,onTogglePin:e,onDeleteFolder:r,onUseTemplate:s,showPinControls:o=!1,showDeleteControls:i=!1,emptyMessage:c}){const l=Array.isArray(n)?n:[];return l.length===0?a.jsx(on,{children:c||`No ${t} folders available.`}):a.jsx("div",{className:"space-y-1 px-2",children:l.map(d=>a.jsx(Sa,{folder:d,type:t,onTogglePin:e,onDeleteFolder:r,onUseTemplate:s,showPinControls:o,showDeleteControls:i},`folder-${d.id}-${t}`))})}function wr({title:n,iconType:t,onBrowseMore:e,onCreateTemplate:r,showBrowseMore:s=!1,showCreateButton:o=!1,children:i}){const c=()=>{switch(t){case"official":return a.jsx(Tl,{className:"mr-2 h-4 w-4"});case"organization":return a.jsx(ko,{className:"mr-2 h-4 w-4"});case"user":default:return a.jsx(Do,{className:"mr-2 h-4 w-4"})}};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-muted-foreground mb-2 px-2",children:[a.jsxs("div",{className:"flex items-center",children:[c(),n]}),s&&e&&a.jsxs(V,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:e,children:[a.jsx(nr,{className:"h-3.5 w-3.5 mr-1"}),$("browseMore",void 0,"Browse More")]}),o&&r&&a.jsx(V,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:r,title:$("newTemplate",void 0,"New Template"),children:a.jsx(kl,{className:"h-4 w-4"})})]}),i]})}function Cp({searchQuery:n,onSearchChange:t,placeholderText:e="Search folders...",onReset:r,className:s=""}){const o=c=>{t(c.target.value)},i=()=>{t(""),r&&r()};return a.jsx("div",{className:`p-4 ${s}`,children:a.jsxs("div",{className:"relative mb-2",children:[a.jsx(ru,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Nt,{value:n,onChange:o,placeholder:e,className:"pl-8 pr-8"}),n&&a.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:i,children:a.jsx(Yr,{className:"h-4 w-4"})})]})})}function Ra({message:n="Loading templates...",className:t=""}){return a.jsxs("div",{className:`py-8 text-center ${t}`,children:[a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:$("loadingTemplates",void 0,n)})]})}const Ep=({showBackButton:n,onBack:t,onClose:e})=>{var I,k;const{pushPanel:r}=ss(),[s,o]=f.useState(!1),{data:i,isLoading:c,error:l,refetch:d}=md(),{data:u,isLoading:h,error:p,refetch:m}=gd(),{mutate:g}=Yo(),{mutate:v}=yd(),{mutate:y}=xd(),{useTemplate:b,createTemplate:x}=Jo(),w=c||h,T=l||p,C=!((I=i==null?void 0:i.official)!=null&&I.length)&&!((k=i==null?void 0:i.organization)!=null&&k.length)&&!(u!=null&&u.length),R=q=>{var H;const P=((H=i==null?void 0:i.official)==null?void 0:H.map(D=>D.id))||[];r({type:"templatesBrowse",props:{folderType:q,pinnedFolderIds:P}})},N=async()=>{o(!0);try{await Promise.all([d(),m()])}catch(q){console.error("Failed to refresh templates:",q)}finally{o(!1)}},F=f.useCallback(async()=>{try{window.dialogManager&&window.dialogManager.openDialog(Eu.CREATE_FOLDER,{onSaveFolder:async q=>{const P=await y(q);if(P&&P.success&&P.folder){const H=P.folder;setTimeout(()=>{x(H)},100)}return P}})}catch(q){console.error("Error in folder/template creation flow:",q)}},[y,x]),j=f.useCallback(()=>{x()},[x]);if(T)return a.jsx(_t,{title:$("templates",void 0,"Templates"),icon:bn,showBackButton:n,onBack:t,onClose:e,children:a.jsx(cs,{variant:"destructive",children:a.jsx(ls,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsxs("p",{className:"mb-2",children:["Failed to load templates: ",T.message]}),a.jsxs(V,{variant:"outline",size:"sm",onClick:N,className:"mt-2",disabled:s,children:[a.jsx(Pn,{className:`mr-2 h-4 w-4 ${s?"animate-spin":""}`}),s?"Refreshing...":"Retry"]})]})})})});const A=u||[],M=(i==null?void 0:i.official)||[];i!=null&&i.organization;const O=q=>{b(q)};return a.jsx(_t,{title:$("templates",void 0,"Templates"),icon:bn,showBackButton:n,onBack:t,onClose:e,className:"w-80",maxHeight:"500px",children:w?a.jsx(Ra,{}):C?a.jsxs("div",{className:"py-8 px-4 text-center",children:[a.jsx(bn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-40"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:$("noTemplates",void 0,"No templates available")}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:F,className:"w-full",children:$("createFirstTemplate",void 0,"Create Your First Template")}),a.jsxs(V,{variant:"ghost",size:"sm",onClick:N,disabled:s,className:"mt-2",children:[a.jsx(Pn,{className:`mr-2 h-4 w-4 ${s?"animate-spin":""}`}),s?"Refreshing...":"Refresh"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(wr,{title:$("officialTemplates",void 0,"Official Templates"),iconType:"official",onBrowseMore:()=>R("official"),showBrowseMore:!0,children:M!=null&&M.length?a.jsx(Hr,{folders:M,type:"official",onTogglePin:(q,P)=>g({folderId:q,isPinned:P,type:"official"}),onUseTemplate:O,showPinControls:!0,emptyMessage:"No pinned official templates. Click Browse More to add some."}):a.jsx(on,{children:$("noPinnedOfficialTemplates",void 0,"No pinned official templates. Click Browse More to add some.")})}),a.jsx(An,{}),a.jsx(wr,{title:$("organizationTemplates",void 0,"Organization Templates"),iconType:"organization",onBrowseMore:()=>{},showBrowseMore:!1,children:a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-lg border border-blue-200 dark:border-blue-800 p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-3 rounded-full",children:a.jsx(ko,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:$("unlockTeamTemplates",void 0,"Unlock Team Templates")}),a.jsx("p",{className:"text-xs text-muted-foreground leading-tight max-w-[90%]",children:$("teamTemplatesDescription",void 0,"Share prompt templates with your team, enforce standards, and track usage across your organization.")}),a.jsx(V,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white border-none",onClick:()=>window.open("mailto:contact@jayd.ai?subject=Enterprise%20Plan%20Inquiry","_blank"),children:$("upgradeEnterprise",void 0,"Upgrade to Enterprise")})]})})}),a.jsx(An,{}),a.jsx(wr,{title:$("myTemplates",void 0,"My Templates"),iconType:"user",onCreateTemplate:j,showCreateButton:!0,children:A!=null&&A.length?a.jsx(Hr,{folders:A,type:"user",onDeleteFolder:v,onUseTemplate:O,showDeleteControls:!0,emptyMessage:"No user templates. Create a template to get started."}):a.jsx(on,{children:$("noUserTemplates",void 0,"No user templates. Create a template to get started.")})})]})})};function Ta(){const[n,t]=f.useState([]),[e,r]=f.useState(!0),[s,o]=f.useState(!1);f.useEffect(()=>{let m=!0;const g=async()=>{r(!0);try{const y=await We.loadNotifications();m&&(t(y),r(!1))}catch(y){console.error("Error loading notifications:",y),m&&r(!1)}},v=We.onNotificationsUpdate(y=>{m&&(t(y),r(!1))});return g(),()=>{m=!1,v()}},[]);const i=f.useCallback(async()=>{await We.markAllAsRead()},[]),c=f.useCallback(async m=>{await We.handleNotificationAction(m.id)},[]),l=f.useCallback(async(m,g)=>{g.stopPropagation(),await We.markAsRead(m.id)},[]),d=f.useCallback(async(m,g)=>{g.stopPropagation(),await We.deleteNotification(m.id)},[]),u=f.useCallback(async()=>{o(!0);try{await We.loadNotifications(!0)}catch(m){console.error("Error refreshing notifications:",m)}finally{o(!1)}},[]),h=n.some(m=>!m.read_at),p=n.filter(m=>!m.read_at).length;return{notifications:n,loading:e,hasUnread:h,unreadCount:p,handleMarkAllAsRead:i,handleActionClick:c,handleDismiss:l,handleDelete:d,isRefreshing:s,refresh:u}}const wn=43200,ho=1440,po=Symbol.for("constructDateFrom");function js(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&po in n?n[po](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ze(n,t){return js(n,n)}let Sp={};function Rp(){return Sp}function mo(n){const t=Ze(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Ds(n,...t){const e=js.bind(null,n||t.find(r=>typeof r=="object"));return t.map(e)}function Mn(n,t){const e=+Ze(n)-+Ze(t);return e<0?-1:e>0?1:e}function Tp(n){return js(n,Date.now())}function Mp(n,t,e){const[r,s]=Ds(e==null?void 0:e.in,n,t),o=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return o*12+i}function Np(n){return t=>{const r=(n?Math[n]:Math.trunc)(t);return r===0?0:r}}function _p(n,t){return+Ze(n)-+Ze(t)}function Pp(n,t){const e=Ze(n);return e.setHours(23,59,59,999),e}function Ap(n,t){const e=Ze(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Op(n,t){const e=Ze(n);return+Pp(e)==+Ap(e)}function Ip(n,t,e){const[r,s,o]=Ds(e==null?void 0:e.in,n,n,t),i=Mn(s,o),c=Math.abs(Mp(s,o));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*c);let l=Mn(s,o)===-i;Op(r)&&c===1&&Mn(r,o)===1&&(l=!1);const d=i*(c-+l);return d===0?0:d}function jp(n,t,e){const r=_p(n,t)/1e3;return Np(e==null?void 0:e.roundingMethod)(r)}const Dp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kp=(n,t,e)=>{let r;const s=Dp[n];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function br(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const Lp={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fp={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Up={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$p={date:br({formats:Lp,defaultWidth:"full"}),time:br({formats:Fp,defaultWidth:"full"}),dateTime:br({formats:Up,defaultWidth:"full"})},zp={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qp=(n,t,e,r)=>zp[n];function Vt(n){return(t,e)=>{const r=e!=null&&e.context?String(e.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,c=e!=null&&e.width?String(e.width):i;s=n.formattingValues[c]||n.formattingValues[i]}else{const i=n.defaultWidth,c=e!=null&&e.width?String(e.width):n.defaultWidth;s=n.values[c]||n.values[i]}const o=n.argumentCallback?n.argumentCallback(t):t;return s[o]}}const Hp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qp={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gp=(n,t)=>{const e=Number(n),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Xp={ordinalNumber:Gp,era:Vt({values:Hp,defaultWidth:"wide"}),quarter:Vt({values:Bp,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Vt({values:Wp,defaultWidth:"wide"}),day:Vt({values:Qp,defaultWidth:"wide"}),dayPeriod:Vt({values:Vp,defaultWidth:"wide",formattingValues:Kp,defaultFormattingWidth:"wide"})};function Kt(n){return(t,e={})=>{const r=e.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(c)?Jp(c,h=>h.test(i)):Yp(c,h=>h.test(i));let d;d=n.valueCallback?n.valueCallback(l):l,d=e.valueCallback?e.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function Yp(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function Jp(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function Zp(n){return(t,e={})=>{const r=t.match(n.matchPattern);if(!r)return null;const s=r[0],o=t.match(n.parsePattern);if(!o)return null;let i=n.valueCallback?n.valueCallback(o[0]):o[0];i=e.valueCallback?e.valueCallback(i):i;const c=t.slice(s.length);return{value:i,rest:c}}}const em=/^(\d+)(th|st|nd|rd)?/i,tm=/\d+/i,nm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rm={any:[/^b/i,/^(a|c)/i]},sm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},om={any:[/1/i,/2/i,/3/i,/4/i]},im={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},am={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},um={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fm={ordinalNumber:Zp({matchPattern:em,parsePattern:tm,valueCallback:n=>parseInt(n,10)}),era:Kt({matchPatterns:nm,defaultMatchWidth:"wide",parsePatterns:rm,defaultParseWidth:"any"}),quarter:Kt({matchPatterns:sm,defaultMatchWidth:"wide",parsePatterns:om,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Kt({matchPatterns:im,defaultMatchWidth:"wide",parsePatterns:am,defaultParseWidth:"any"}),day:Kt({matchPatterns:cm,defaultMatchWidth:"wide",parsePatterns:lm,defaultParseWidth:"any"}),dayPeriod:Kt({matchPatterns:um,defaultMatchWidth:"any",parsePatterns:dm,defaultParseWidth:"any"})},hm={code:"en-US",formatDistance:kp,formatLong:$p,formatRelative:qp,localize:Xp,match:fm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pm(n,t,e){const r=Rp(),s=(e==null?void 0:e.locale)??r.locale??hm,o=2520,i=Mn(n,t);if(isNaN(i))throw new RangeError("Invalid time value");const c=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:i}),[l,d]=Ds(e==null?void 0:e.in,...i>0?[t,n]:[n,t]),u=jp(d,l),h=(mo(d)-mo(l))/1e3,p=Math.round((u-h)/60);let m;if(p<2)return e!=null&&e.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,c):u<10?s.formatDistance("lessThanXSeconds",10,c):u<20?s.formatDistance("lessThanXSeconds",20,c):u<40?s.formatDistance("halfAMinute",0,c):u<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):p===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",p,c);if(p<45)return s.formatDistance("xMinutes",p,c);if(p<90)return s.formatDistance("aboutXHours",1,c);if(p<ho){const g=Math.round(p/60);return s.formatDistance("aboutXHours",g,c)}else{if(p<o)return s.formatDistance("xDays",1,c);if(p<wn){const g=Math.round(p/ho);return s.formatDistance("xDays",g,c)}else if(p<wn*2)return m=Math.round(p/wn),s.formatDistance("aboutXMonths",m,c)}if(m=Ip(d,l),m<12){const g=Math.round(p/wn);return s.formatDistance("xMonths",g,c)}else{const g=m%12,v=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",v,c):g<9?s.formatDistance("overXYears",v,c):s.formatDistance("almostXYears",v+1,c)}}function mm(n,t){return pm(n,Tp(n),t)}const gm=({notification:n,onDismiss:t,onDelete:e,onActionClick:r})=>{const s=n.created_at?mm(new Date(n.created_at),{addSuffix:!0}):"",o=!!n.read_at,i=We.getActionButton(n),c=async()=>{o||await t(n,{}),await r(n)};return a.jsx("div",{className:`
        group relative flex flex-col p-3 border-b border-gray-200 dark:border-gray-700 
        ${o?"bg-background":"bg-background/50"} 
        hover:bg-gray-100 dark:hover:bg-gray-700 
        transition-colors duration-200 cursor-pointer
      `,children:a.jsxs("div",{className:"flex items-start gap-2",onClick:c,children:[!o&&a.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-blue-500 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h4",{className:`text-sm font-medium pr-12 ${o?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:n.title}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap flex-shrink-0",children:s})]}),a.jsx("p",{className:`text-sm mt-1 ${o?"text-gray-500 dark:text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:n.body}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsx("div",{className:"flex-1",children:i&&a.jsxs(V,{size:"sm",variant:"secondary",className:"text-xs px-3 py-1 h-7 flex items-center gap-1",onClick:l=>{l.stopPropagation(),r(n)},children:[a.jsx(Bl,{className:"h-3 w-3"}),i.title]})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[!o&&a.jsx(V,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 rounded-full bg-green-100 hover:bg-green-200 dark:bg-green-900/20 dark:hover:bg-green-800/30",onClick:l=>{l.stopPropagation(),t(n,l)},title:"Mark as read",children:a.jsx(ns,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"})}),a.jsx(V,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 rounded-full bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-800/30",onClick:l=>{l.stopPropagation(),e(n,l)},title:"Delete notification",children:a.jsx(hu,{className:"h-3.5 w-3.5 text-red-600 dark:text-red-400"})})]})]})]})]})})},vm=({size:n="md",className:t,message:e,fullScreen:r=!1})=>{const o=W("animate-spin rounded-full border-transparent border-t-primary inline-block",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"}[n],t),i=W("flex flex-col items-center justify-center gap-3",r?"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm":"py-6");return a.jsxs("div",{className:i,children:[a.jsx("div",{className:o}),e&&a.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:e})]})},ym=({showBackButton:n,onBack:t,onClose:e,maxHeight:r="400px"})=>{const{notifications:s,loading:o,unreadCount:i,handleMarkAllAsRead:c,handleActionClick:l,handleDismiss:d,handleDelete:u,isRefreshing:h,refresh:p}=Ta();f.useEffect(()=>{const v=()=>{p()};return document.addEventListener("archimind:open-notifications",v),()=>{document.removeEventListener("archimind:open-notifications",v)}},[p]);const m=i>0?a.jsx("span",{className:W("bg-red-500 text-white text-xs px-2 py-0.5 rounded-full","ml-2"),children:i}):null,g=a.jsx(V,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-full flex items-center justify-center",onClick:p,disabled:h||o,title:"Refresh notifications",children:h?a.jsx(Ws,{className:"h-4 w-4 animate-spin"}):a.jsx(Pn,{className:"h-4 w-4"})});return a.jsxs(_t,{title:$("notifications",void 0,"Notifications"),icon:Er,showBackButton:n,onBack:t,onClose:e,className:"w-80",maxHeight:r,headerClassName:"flex items-center justify-between",headerExtra:g,headerLeftExtra:m,children:[i>1&&a.jsx("div",{className:"flex items-center justify-start mb-4 pb-2 w-full px-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs(V,{size:"sm",variant:"outline",className:"text-xs flex items-center gap-1 h-7",onClick:c,disabled:h||o,title:"Mark all as read",children:[a.jsx(au,{className:"h-3.5 w-3.5"}),"Mark all read"]})}),o?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(vm,{size:"md",message:"Loading notifications..."})}):s.length===0?a.jsxs("div",{className:"flex flex-col justify-center items-center py-10 text-gray-500 dark:text-gray-400 p-4 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-3",children:a.jsx(Er,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),a.jsx("p",{className:"font-medium",children:"No notifications"}),a.jsx("p",{className:"text-xs mt-1 max-w-xs",children:"We'll notify you when there are new updates or important information"}),a.jsx(V,{variant:"outline",size:"sm",className:"mt-4",onClick:p,disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ws,{className:"h-3.5 w-3.5 mr-1.5 animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"h-3.5 w-3.5 mr-1.5"}),"Check for notifications"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(v=>a.jsx(gm,{notification:v,onDismiss:d,onDelete:u,onActionClick:l},v.id))}),a.jsxs("div",{className:"mt-4 pt-2 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center text-xs text-gray-500 dark:text-gray-400",children:[s.length," notification",s.length!==1?"s":""]})]})]})};function xm(n){return ce.getService(n)}const Cr=({icon:n,value:t,unit:e="",color:r="text-blue-500",title:s,description:o,className:i="",onClick:c})=>{const l=!!c;return a.jsxs("div",{className:W("flex items-center gap-1.5 stat-card rounded-md transition-all",l&&"cursor-pointer hover:bg-accent/50",i),onClick:c,children:[a.jsx("div",{className:W("flex-shrink-0",r),children:n}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("span",{className:"text-sm font-semibold",children:t}),e&&a.jsx("span",{className:"text-xs text-muted-foreground ml-0.5",children:e})]}),s&&a.jsx("span",{className:"text-xs text-muted-foreground",children:s}),o&&a.jsx("span",{className:"text-xs text-muted-foreground mt-0.5 hidden group-hover:block",children:o})]})]})},Gt=({label:n,value:t,icon:e,progress:r=null,progressColor:s="#3b82f6",tooltip:o})=>a.jsxs("div",{className:"mb-3 last:mb-1",title:o,children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("div",{className:"mr-2 text-muted-foreground",children:e}),a.jsx("span",{className:"text-xs font-medium flex-1",children:n}),a.jsx("span",{className:"text-xs font-semibold",children:t})]}),r!==null&&a.jsx("div",{className:"bg-muted h-1 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${Math.min(100,Math.max(0,r))}%`,backgroundColor:s}})})]});class ks extends f.Component{constructor(e){super(e);E(this,"resetErrorBoundary",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){J.captureError(new B(e.message,K.COMPONENT_ERROR,e,{componentStack:r.componentStack})),this.props.onError&&this.props.onError(e,r)}render(){var e;return this.state.hasError?this.props.fallback?typeof this.props.fallback=="function"&&this.state.error?this.props.fallback(this.state.error,this.resetErrorBoundary):this.props.fallback:a.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-700/30 rounded-md text-center",children:[a.jsx(rs,{className:"h-10 w-10 text-red-500 mx-auto mb-2"}),a.jsx("h3",{className:"text-lg font-medium text-red-200 mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-sm text-red-300 mb-4",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),a.jsx(V,{variant:"outline",className:"border-red-700 text-red-200 hover:bg-red-900/30",onClick:this.resetErrorBoundary,children:"Try Again"})]}):this.props.children}}const wm=({showBackButton:n,onBack:t,onClose:e,className:r,maxHeight:s="400px"})=>{var p,m;const o=xm("stats"),[i,c]=f.useState({totalChats:0,recentChats:0,totalMessages:0,avgMessagesPerChat:0,messagesPerDay:{},tokenUsage:{recent:0,recentInput:0,recentOutput:0,total:0,totalInput:0,totalOutput:0},energyUsage:{recentWh:0,totalWh:0,perMessageWh:0,equivalent:""},thinkingTime:{total:0,average:0},efficiency:0});f.useEffect(()=>{if(o)return c(o.getStats()),o.onUpdate(v=>{c(v)})},[o]),console.log("stats",i);const l=g=>g.toFixed(3),d=g=>Math.round(g),h=(g=>g>=80?"text-green-500":g>=60?"text-amber-500":"text-red-500")(i.efficiency||0);return a.jsx(ks,{children:a.jsxs(_t,{title:$("aiStats",void 0,"AI Stats"),icon:Bs,showBackButton:n,onBack:t,onClose:e,className:`stats-panel w-80 ${r||""}`,maxHeight:s,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 px-8 gap-4 w-full",children:[a.jsx(Cr,{icon:a.jsx(Qs,{className:"h-3.5 w-3.5"}),value:i.totalChats,color:"text-blue-500",title:"Conversations"}),i.efficiency!==void 0&&a.jsx(Cr,{icon:a.jsx(Hs,{className:"h-3.5 w-3.5"}),value:d(i.efficiency),unit:"%",color:h,title:"Efficiency"}),a.jsx(Cr,{icon:a.jsx(qs,{className:"h-3.5 w-3.5"}),value:l(((p=i.energyUsage)==null?void 0:p.totalWh)??0),unit:"Wh",color:"text-amber-500",title:"Energy"})]}),a.jsxs("div",{className:"px-2 py-3 border-t mt-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsx(Gt,{label:$("recentActivity",void 0,"Recent Activity"),value:`${i.recentChats} chats`,icon:a.jsx(Oo,{className:"h-3.5 w-3.5"}),progress:i.totalChats?i.recentChats/(i.totalChats*.2)*100:0,progressColor:"#3b82f6",tooltip:"Conversations in the last 7 days"}),((m=i.energyUsage)==null?void 0:m.equivalent)&&a.jsx(Gt,{label:"quivalent nergtique",value:i.energyUsage.equivalent,icon:a.jsx(qs,{className:"h-3.5 w-3.5"}),progress:0,progressColor:"#fbbf24",tooltip:"Comparaison concrte de votre consommation"}),a.jsx(Gt,{label:$("messagingEfficiency",void 0,"Messages Per Conversation"),value:i.avgMessagesPerChat.toFixed(1),icon:a.jsx(Qs,{className:"h-3.5 w-3.5"}),progress:Math.min(100,i.avgMessagesPerChat*10),progressColor:"#3b82f6",tooltip:"Average number of messages exchanged per conversation"}),a.jsx(Gt,{label:$("thinkingTime",void 0,"Average Response Time"),value:`${i.thinkingTime.average.toFixed(1)}s`,icon:a.jsx(Hs,{className:"h-3.5 w-3.5"}),progress:Math.min(100,100-i.thinkingTime.average*5),progressColor:"#10b981",tooltip:"Average time it takes to get a response"}),a.jsx(Gt,{label:$("tokenUsage",void 0,"Token Usage"),value:`${(i.tokenUsage.recentInput+i.tokenUsage.recentOutput).toLocaleString()}`,icon:a.jsx(Bs,{className:"h-3.5 w-3.5"}),progress:i.tokenUsage.total?Math.min(100,(i.tokenUsage.recentInput+i.tokenUsage.recentOutput)/(i.tokenUsage.total*.1)*100):0,progressColor:"#6366f1",tooltip:"Tokens used in the last 7 days"}),a.jsxs("div",{className:"flex justify-between items-center mt-2 pt-1 border-t text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block h-1 w-1 rounded-full bg-green-500 mr-1 animate-pulse"}),a.jsxs("span",{className:"text-[10px]",children:["Updated ",new Date().toLocaleTimeString()]})]}),a.jsx(V,{className:"text-[10px] text-blue-500 hover:underline p-0 h-auto bg-transparent",variant:"ghost",onClick:()=>window.open("https://chat.openai.com/stats","_blank"),children:"Full Analytics "})]})]})]})})};function bm(n=[]){const[t,e]=f.useState(""),[r,s]=f.useState(new Set);f.useEffect(()=>{t||s(new Set)},[t]);const o=f.useMemo(()=>{if(!t.trim())return n;const l=t.toLowerCase(),d=u=>u.name&&u.name.toLowerCase().includes(l)||u.templates&&u.templates.length>0&&u.templates.some(p=>p.title&&p.title.toLowerCase().includes(l)||p.description&&p.description.toLowerCase().includes(l))?!0:u.Folders&&u.Folders.length>0?u.Folders.some(h=>d(h)):!1;return n.filter(u=>d(u))},[n,t]);return{searchQuery:t,setSearchQuery:e,expandedFolders:r,toggleFolder:l=>{s(d=>{const u=new Set(d);return u.has(l)?u.delete(l):u.add(l),u})},filteredFolders:o,clearSearch:()=>{e(""),s(new Set)}}}const Cm=({folderType:n,onBackToTemplates:t,maxHeight:e="400px"})=>{const{data:r=[],isLoading:s,error:o}=vd(n),{searchQuery:i,setSearchQuery:c,filteredFolders:l,clearSearch:d}=bm(r),{mutate:u}=Yo(),{useTemplate:h}=Jo(),p=(m,g)=>{u({folderId:m,isPinned:g,type:n})};return a.jsxs(_t,{title:n==="official"?"Official Templates":"Organization Templates",icon:bn,showBackButton:!0,onBack:t,className:"w-80",maxHeight:e,children:[a.jsx(Cp,{searchQuery:i,onSearchChange:c,placeholderText:`Search ${n} folders...`,onReset:d}),a.jsx(An,{}),a.jsx("div",{className:"overflow-y-auto",children:s?a.jsx(Ra,{message:`Loading ${n} folders...`}):o?a.jsxs(on,{children:["Error loading folders: ",o instanceof Error?o.message:"Unknown error"]}):l.length===0?a.jsx(on,{children:i?`No folders matching "${i}"`:`No ${n} folders available`}):a.jsx(Hr,{folders:l,type:n,onTogglePin:p,onUseTemplate:h,showPinControls:!0})})]})},Em=({onClose:n,notificationCount:t})=>{var i,c,l;const{currentPanel:e,popPanel:r,panelStack:s}=ss(),o=()=>{s.length>1?r():n()};switch(e.type){case"menu":return a.jsx(ud,{onClose:n,notificationCount:t});case"templates":return a.jsx(Ep,{showBackButton:s.length>1,onBack:r,onClose:o});case"notifications":return a.jsx(ym,{showBackButton:s.length>1,onBack:r,onClose:o});case"stats":return a.jsx(wm,{showBackButton:s.length>1,onBack:r,onClose:o});case"templatesBrowse":return a.jsx(Cm,{folderType:((i=e.props)==null?void 0:i.folderType)||"official",pinnedFolderIds:((c=e.props)==null?void 0:c.pinnedFolderIds)||[],onPinChange:(l=e.props)==null?void 0:l.onPinChange,onBackToTemplates:r});default:return a.jsx("div",{children:"Unknown panel type"})}},Sm=({isOpen:n,onClose:t,initialPanel:e="menu",notificationCount:r=0})=>n?a.jsx("div",{className:"fixed bottom-24 right-6 z-50 animate-in fade-in zoom-in-95 slide-in-from-bottom-2 duration-150",children:a.jsx(cd,{children:a.jsx(Au,{initialPanel:{type:e},children:a.jsx(Em,{onClose:t,notificationCount:r})})})}):null;function Rm(){const[n,t]=f.useState(!1),[e,r]=f.useState(!1),s=f.useRef(null),o=f.useRef(null),{unreadCount:i}=Ta();f.useEffect(()=>{const h=p=>{n&&o.current&&s.current&&!o.current.contains(p.target)&&!s.current.contains(p.target)&&t(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[n]);const c=f.useCallback(()=>{t(h=>!h)},[]),l=f.useCallback(()=>{t(!1)},[]),d=f.useCallback(()=>{r(!0)},[]),u=f.useCallback(()=>{r(!1),console.error("Failed to load logo image")},[]);return{isOpen:n,notificationCount:i,imageLoaded:e,buttonRef:s,menuRef:o,toggleMenu:c,handleClosePanel:l,handleImageLoad:d,handleImageError:u}}const Tm=()=>{const{isOpen:n,notificationCount:t,buttonRef:e,toggleMenu:r,handleClosePanel:s}=Rm();return a.jsx(ks,{children:a.jsxs("div",{className:"fixed bottom-6 right-2 z-[9999]",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Sm,{isOpen:n,onClose:s,notificationCount:t}),a.jsxs("div",{className:"relative w-16 h-16",children:[a.jsxs(V,{ref:e,onClick:r,className:"bg-transparent w-full h-full rounded-full shadow-lg p-0 overflow-hidden flex items-center justify-center",children:[a.jsx("img",{src:"https://vetoswvwgsebhxetqppa.supabase.co/storage/v1/object/public/images//jaydai-extension-logo.png",alt:"Archimind Logo",className:"w-full h-full object-cover"}),n&&a.jsx("div",{className:"absolute top-1 right-1 bg-white rounded-full p-1 z-10",children:a.jsx(Yr,{className:"h-4 w-4 text-gray-800"})})]}),t>0&&!n&&a.jsx("span",{className:`absolute -top-1 -right-1 
                  bg-red-500 text-white 
                  text-xs font-semibold 
                  rounded-full 
                  w-5 h-5 
                  flex items-center justify-center 
                  z-20 
                  border border-white 
                  shadow-sm 
                  hover:bg-red-600 
                  transition-colors duration-200`,children:t>9?"9+":t})]})]}),a.jsx(So,{richColors:!0,position:"top-right"})]})})},Ma=f.createContext(null);function Mm(){const n=f.useContext(Ma);if(!n){if(typeof window<"u"&&window.dialogManager)return{openDialogs:{},dialogData:{},openDialog:window.dialogManager.openDialog,closeDialog:window.dialogManager.closeDialog,isDialogOpen:()=>!1,getDialogData:()=>{}};throw new Error("useDialogManager must be used within a DialogManagerProvider")}return n}function wt(n){const{isDialogOpen:t,getDialogData:e,openDialog:r,closeDialog:s}=Mm(),o=t(n),i=e(n),c=f.useCallback(u=>{r(n,u)},[r,n]),l=f.useCallback(()=>{s(n)},[s,n]),d=f.useMemo(()=>({open:o,onOpenChange:u=>{u||l()}}),[o,l]);return{isOpen:o,data:i,open:c,close:l,dialogProps:d}}const Nm=({children:n})=>{const[t,e]=f.useState({}),[r,s]=f.useState({}),o=f.useCallback((u,h)=>{console.log(`Opening dialog: ${u}`,h),e(p=>({...p,[u]:!0})),h!==void 0&&s(p=>({...p,[u]:h}))},[]),i=f.useCallback(u=>{console.log(`Closing dialog: ${u}`),e(h=>({...h,[u]:!1}))},[]),c=f.useCallback(u=>!!t[u],[t]),l=f.useCallback(u=>r[u],[r]),d=f.useMemo(()=>({openDialogs:t,dialogData:r,openDialog:o,closeDialog:i,isDialogOpen:c,getDialogData:l}),[t,r,o,i,c,l]);return f.useEffect(()=>(console.log("Initializing window.dialogManager"),window.dialogManager?(console.log("window.dialogManager already exists, updating methods"),window.dialogManager.openDialog=o,window.dialogManager.closeDialog=i):(window.dialogManager={openDialog:o,closeDialog:i},console.log("window.dialogManager initialized successfully")),()=>{console.log("Cleaning up window.dialogManager"),window.dialogManager&&(window.dialogManager.openDialog===o?(window.dialogManager=void 0,console.log("window.dialogManager cleaned up")):console.log("Not cleaning up window.dialogManager as it was overridden"))}),[o,i]),a.jsx(Ma.Provider,{value:d,children:n})};function Br(n,[t,e]){return Math.min(e,Math.max(t,n))}function _m(n){const t=f.useRef({value:n,previous:n});return f.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var Pm=[" ","Enter","ArrowUp","ArrowDown"],Am=[" ","Enter"],mn="Select",[dr,fr,Om]=yo(mn),[qt,Kg]=Ct(mn,[Om,zt]),hr=zt(),[Im,et]=qt(mn),[jm,Dm]=qt(mn),Na=n=>{const{__scopeSelect:t,children:e,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:h,disabled:p,required:m,form:g}=n,v=hr(t),[y,b]=f.useState(null),[x,w]=f.useState(null),[T,C]=f.useState(!1),R=es(d),[N=!1,F]=_n({prop:r,defaultProp:s,onChange:o}),[j,A]=_n({prop:i,defaultProp:c,onChange:l}),M=f.useRef(null),O=y?g||!!y.closest("form"):!0,[I,k]=f.useState(new Set),q=Array.from(I).map(P=>P.props.value).join(";");return a.jsx(xs,{...v,children:a.jsxs(Im,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:C,contentId:Mt(),value:j,onValueChange:A,open:N,onOpenChange:F,dir:R,triggerPointerDownPosRef:M,disabled:p,children:[a.jsx(dr.Provider,{scope:t,children:a.jsx(jm,{scope:n.__scopeSelect,onNativeOptionAdd:f.useCallback(P=>{k(H=>new Set(H).add(P))},[]),onNativeOptionRemove:f.useCallback(P=>{k(H=>{const D=new Set(H);return D.delete(P),D})},[]),children:e})}),O?a.jsxs(Za,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:j,onChange:P=>A(P.target.value),disabled:p,form:g,children:[j===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},q):null]})})};Na.displayName=mn;var _a="SelectTrigger",Pa=f.forwardRef((n,t)=>{const{__scopeSelect:e,disabled:r=!1,...s}=n,o=hr(e),i=et(_a,e),c=i.disabled||r,l=se(t,i.onTriggerChange),d=fr(e),u=f.useRef("touch"),[h,p,m]=ec(v=>{const y=d().filter(w=>!w.disabled),b=y.find(w=>w.value===i.value),x=tc(y,v,b);x!==void 0&&i.onValueChange(x.value)}),g=v=>{c||(i.onOpenChange(!0),m()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(ws,{asChild:!0,...o,children:a.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ja(i.value)?"":void 0,...s,ref:l,onClick:L(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:L(s.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:L(s.onKeyDown,v=>{const y=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(y&&v.key===" ")&&Pm.includes(v.key)&&(g(),v.preventDefault())})})})});Pa.displayName=_a;var Aa="SelectValue",Oa=f.forwardRef((n,t)=>{const{__scopeSelect:e,className:r,style:s,children:o,placeholder:i="",...c}=n,l=et(Aa,e),{onValueNodeHasChildrenChange:d}=l,u=o!==void 0,h=se(t,l.onValueNodeChange);return Re(()=>{d(u)},[d,u]),a.jsx(ne.span,{...c,ref:h,style:{pointerEvents:"none"},children:Ja(l.value)?a.jsx(a.Fragment,{children:i}):o})});Oa.displayName=Aa;var km="SelectIcon",Ia=f.forwardRef((n,t)=>{const{__scopeSelect:e,children:r,...s}=n;return a.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Ia.displayName=km;var Lm="SelectPortal",ja=n=>a.jsx(Jr,{asChild:!0,...n});ja.displayName=Lm;var bt="SelectContent",Da=f.forwardRef((n,t)=>{const e=et(bt,n.__scopeSelect),[r,s]=f.useState();if(Re(()=>{s(new DocumentFragment)},[]),!e.open){const o=r;return o?ts.createPortal(a.jsx(ka,{scope:n.__scopeSelect,children:a.jsx(dr.Slot,{scope:n.__scopeSelect,children:a.jsx("div",{children:n.children})})}),o):null}return a.jsx(La,{...n,ref:t})});Da.displayName=bt;var Me=10,[ka,tt]=qt(bt),Fm="SelectContentImpl",La=f.forwardRef((n,t)=>{const{__scopeSelect:e,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y,...b}=n,x=et(bt,e),[w,T]=f.useState(null),[C,R]=f.useState(null),N=se(t,U=>T(U)),[F,j]=f.useState(null),[A,M]=f.useState(null),O=fr(e),[I,k]=f.useState(!1),q=f.useRef(!1);f.useEffect(()=>{if(w)return Eo(w)},[w]),wo();const P=f.useCallback(U=>{const[Z,...oe]=O().map(te=>te.ref.current),[Y]=oe.slice(-1),ee=document.activeElement;for(const te of U)if(te===ee||(te==null||te.scrollIntoView({block:"nearest"}),te===Z&&C&&(C.scrollTop=0),te===Y&&C&&(C.scrollTop=C.scrollHeight),te==null||te.focus(),document.activeElement!==ee))return},[O,C]),H=f.useCallback(()=>P([F,w]),[P,F,w]);f.useEffect(()=>{I&&H()},[I,H]);const{onOpenChange:D,triggerPointerDownPosRef:_}=x;f.useEffect(()=>{if(w){let U={x:0,y:0};const Z=Y=>{var ee,te;U={x:Math.abs(Math.round(Y.pageX)-(((ee=_.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((te=_.current)==null?void 0:te.y)??0))}},oe=Y=>{U.x<=10&&U.y<=10?Y.preventDefault():w.contains(Y.target)||D(!1),document.removeEventListener("pointermove",Z),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,D,_]),f.useEffect(()=>{const U=()=>D(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[D]);const[X,ie]=ec(U=>{const Z=O().filter(ee=>!ee.disabled),oe=Z.find(ee=>ee.ref.current===document.activeElement),Y=tc(Z,U,oe);Y&&setTimeout(()=>Y.ref.current.focus())}),he=f.useCallback((U,Z,oe)=>{const Y=!q.current&&!oe;(x.value!==void 0&&x.value===Z||Y)&&(j(U),Y&&(q.current=!0))},[x.value]),Ue=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Ce=f.useCallback((U,Z,oe)=>{const Y=!q.current&&!oe;(x.value!==void 0&&x.value===Z||Y)&&M(U)},[x.value]),$e=r==="popper"?Wr:Fa,ge=$e===Wr?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return a.jsx(ka,{scope:e,content:w,viewport:C,onViewportChange:R,itemRefCallback:he,selectedItem:F,onItemLeave:Ue,itemTextRefCallback:Ce,focusSelectedItem:H,selectedItemText:A,position:r,isPositioned:I,searchRef:X,children:a.jsx(bo,{as:Po,allowPinchZoom:!0,children:a.jsx(Co,{asChild:!0,trapped:x.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:L(s,U=>{var Z;(Z=x.trigger)==null||Z.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(Zr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx($e,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:U=>U.preventDefault(),...b,...ge,onPlaced:()=>k(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:L(b.onKeyDown,U=>{const Z=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!Z&&U.key.length===1&&ie(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let Y=O().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(U.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ee=U.target,te=Y.indexOf(ee);Y=Y.slice(te+1)}setTimeout(()=>P(Y)),U.preventDefault()}})})})})})})});La.displayName=Fm;var Um="SelectItemAlignedPosition",Fa=f.forwardRef((n,t)=>{const{__scopeSelect:e,onPlaced:r,...s}=n,o=et(bt,e),i=tt(bt,e),[c,l]=f.useState(null),[d,u]=f.useState(null),h=se(t,N=>u(N)),p=fr(e),m=f.useRef(!1),g=f.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:x}=i,w=f.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&v&&y&&b){const N=o.trigger.getBoundingClientRect(),F=d.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(o.dir!=="rtl"){const ee=A.left-F.left,te=j.left-ee,ve=N.left-te,Ae=N.width+ve,Ht=Math.max(Ae,F.width),Bt=window.innerWidth-Me,Wt=Br(te,[Me,Math.max(Me,Bt-Ht)]);c.style.minWidth=Ae+"px",c.style.left=Wt+"px"}else{const ee=F.right-A.right,te=window.innerWidth-j.right-ee,ve=window.innerWidth-N.right-te,Ae=N.width+ve,Ht=Math.max(Ae,F.width),Bt=window.innerWidth-Me,Wt=Br(te,[Me,Math.max(Me,Bt-Ht)]);c.style.minWidth=Ae+"px",c.style.right=Wt+"px"}const M=p(),O=window.innerHeight-Me*2,I=v.scrollHeight,k=window.getComputedStyle(d),q=parseInt(k.borderTopWidth,10),P=parseInt(k.paddingTop,10),H=parseInt(k.borderBottomWidth,10),D=parseInt(k.paddingBottom,10),_=q+P+I+D+H,X=Math.min(y.offsetHeight*5,_),ie=window.getComputedStyle(v),he=parseInt(ie.paddingTop,10),Ue=parseInt(ie.paddingBottom,10),Ce=N.top+N.height/2-Me,$e=O-Ce,ge=y.offsetHeight/2,U=y.offsetTop+ge,Z=q+P+U,oe=_-Z;if(Z<=Ce){const ee=M.length>0&&y===M[M.length-1].ref.current;c.style.bottom="0px";const te=d.clientHeight-v.offsetTop-v.offsetHeight,ve=Math.max($e,ge+(ee?Ue:0)+te+H),Ae=Z+ve;c.style.height=Ae+"px"}else{const ee=M.length>0&&y===M[0].ref.current;c.style.top="0px";const ve=Math.max(Ce,q+v.offsetTop+(ee?he:0)+ge)+oe;c.style.height=ve+"px",v.scrollTop=Z-Ce+v.offsetTop}c.style.margin=`${Me}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,c,d,v,y,b,o.dir,r]);Re(()=>w(),[w]);const[T,C]=f.useState();Re(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const R=f.useCallback(N=>{N&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return a.jsx(zm,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:R,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(ne.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Fa.displayName=Um;var $m="SelectPopperPosition",Wr=f.forwardRef((n,t)=>{const{__scopeSelect:e,align:r="start",collisionPadding:s=Me,...o}=n,i=hr(e);return a.jsx(bs,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wr.displayName=$m;var[zm,Ls]=qt(bt,{}),Qr="SelectViewport",Ua=f.forwardRef((n,t)=>{const{__scopeSelect:e,nonce:r,...s}=n,o=tt(Qr,e),i=Ls(Qr,e),c=se(t,o.onViewportChange),l=f.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(dr.Slot,{scope:e,children:a.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:L(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-Me*2,v=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(v,y);if(b<g){const x=b+m,w=Math.min(g,x),T=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Ua.displayName=Qr;var $a="SelectGroup",[qm,Hm]=qt($a),Bm=f.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,s=Mt();return a.jsx(qm,{scope:e,id:s,children:a.jsx(ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Bm.displayName=$a;var za="SelectLabel",qa=f.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,s=Hm(za,e);return a.jsx(ne.div,{id:s.id,...r,ref:t})});qa.displayName=za;var Zn="SelectItem",[Wm,Ha]=qt(Zn),Ba=f.forwardRef((n,t)=>{const{__scopeSelect:e,value:r,disabled:s=!1,textValue:o,...i}=n,c=et(Zn,e),l=tt(Zn,e),d=c.value===r,[u,h]=f.useState(o??""),[p,m]=f.useState(!1),g=se(t,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,s)}),v=Mt(),y=f.useRef("touch"),b=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Wm,{scope:e,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:f.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(dr.ItemSlot,{scope:e,value:r,disabled:s,textValue:u,children:a.jsx(ne.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:L(i.onFocus,()=>m(!0)),onBlur:L(i.onBlur,()=>m(!1)),onClick:L(i.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:L(i.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:L(i.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:L(i.onPointerMove,x=>{var w;y.current=x.pointerType,s?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:L(i.onKeyDown,x=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&x.key===" "||(Am.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});Ba.displayName=Zn;var Yt="SelectItemText",Wa=f.forwardRef((n,t)=>{const{__scopeSelect:e,className:r,style:s,...o}=n,i=et(Yt,e),c=tt(Yt,e),l=Ha(Yt,e),d=Dm(Yt,e),[u,h]=f.useState(null),p=se(t,b=>h(b),l.onItemTextChange,b=>{var x;return(x=c.itemTextRefCallback)==null?void 0:x.call(c,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=f.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return Re(()=>(v(g),()=>y(g)),[v,y,g]),a.jsxs(a.Fragment,{children:[a.jsx(ne.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ts.createPortal(o.children,i.valueNode):null]})});Wa.displayName=Yt;var Qa="SelectItemIndicator",Va=f.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n;return Ha(Qa,e).isSelected?a.jsx(ne.span,{"aria-hidden":!0,...r,ref:t}):null});Va.displayName=Qa;var Vr="SelectScrollUpButton",Ka=f.forwardRef((n,t)=>{const e=tt(Vr,n.__scopeSelect),r=Ls(Vr,n.__scopeSelect),[s,o]=f.useState(!1),i=se(t,r.onScrollButtonChange);return Re(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=l.scrollTop>0;o(d)};const l=e.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?a.jsx(Xa,{...n,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=e;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});Ka.displayName=Vr;var Kr="SelectScrollDownButton",Ga=f.forwardRef((n,t)=>{const e=tt(Kr,n.__scopeSelect),r=Ls(Kr,n.__scopeSelect),[s,o]=f.useState(!1),i=se(t,r.onScrollButtonChange);return Re(()=>{if(e.viewport&&e.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;o(u)};const l=e.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?a.jsx(Xa,{...n,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=e;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});Ga.displayName=Kr;var Xa=f.forwardRef((n,t)=>{const{__scopeSelect:e,onAutoScroll:r,...s}=n,o=tt("SelectScrollButton",e),i=f.useRef(null),c=fr(e),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Re(()=>{var u;const d=c().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),a.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:L(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:L(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:L(s.onPointerLeave,()=>{l()})})}),Qm="SelectSeparator",Ya=f.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n;return a.jsx(ne.div,{"aria-hidden":!0,...r,ref:t})});Ya.displayName=Qm;var Gr="SelectArrow",Vm=f.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,s=hr(e),o=et(Gr,e),i=tt(Gr,e);return o.open&&i.position==="popper"?a.jsx(Cs,{...s,...r,ref:t}):null});Vm.displayName=Gr;function Ja(n){return n===""||n===void 0}var Za=f.forwardRef((n,t)=>{const{value:e,...r}=n,s=f.useRef(null),o=se(t,s),i=_m(e);return f.useEffect(()=>{const c=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&u){const h=new Event("change",{bubbles:!0});u.call(c,e),c.dispatchEvent(h)}},[i,e]),a.jsx(Es,{asChild:!0,children:a.jsx("select",{...r,ref:o,defaultValue:e})})});Za.displayName="BubbleSelect";function ec(n){const t=Ne(n),e=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const c=e.current+i;t(c),function l(d){e.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),o=f.useCallback(()=>{e.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[e,s,o]}function tc(n,t,e){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=e?n.indexOf(e):-1;let i=Km(n,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==e));const l=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==e?l:void 0}function Km(n,t){return n.map((e,r)=>n[(t+r)%n.length])}var Gm=Na,nc=Pa,Xm=Oa,Ym=Ia,Jm=ja,rc=Da,Zm=Ua,sc=qa,oc=Ba,eg=Wa,tg=Va,ic=Ka,ac=Ga,cc=Ya;const ng=Gm,rg=Xm,lc=f.forwardRef(({className:n,children:t,...e},r)=>a.jsxs(nc,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...e,children:[t,a.jsx(Ym,{asChild:!0,children:a.jsx(nr,{className:"h-4 w-4 opacity-50"})})]}));lc.displayName=nc.displayName;const uc=f.forwardRef(({className:n,...t},e)=>a.jsx(ic,{ref:e,className:W("flex cursor-default items-center justify-center py-1",n),...t,children:a.jsx(jl,{className:"h-4 w-4"})}));uc.displayName=ic.displayName;const dc=f.forwardRef(({className:n,...t},e)=>a.jsx(ac,{ref:e,className:W("flex cursor-default items-center justify-center py-1",n),...t,children:a.jsx(nr,{className:"h-4 w-4"})}));dc.displayName=ac.displayName;const fc=f.forwardRef(({className:n,children:t,position:e="popper",...r},s)=>a.jsx(Jm,{children:a.jsxs(rc,{ref:s,className:W("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:e,...r,children:[a.jsx(uc,{}),a.jsx(Zm,{className:W("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(dc,{})]})}));fc.displayName=rc.displayName;const sg=f.forwardRef(({className:n,...t},e)=>a.jsx(sc,{ref:e,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...t}));sg.displayName=sc.displayName;const Nn=f.forwardRef(({className:n,children:t,...e},r)=>a.jsxs(oc,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...e,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tg,{children:a.jsx(ns,{className:"h-4 w-4"})})}),a.jsx(eg,{children:t})]}));Nn.displayName=oc.displayName;const og=f.forwardRef(({className:n,...t},e)=>a.jsx(cc,{ref:e,className:W("-mx-1 my-1 h-px bg-muted",n),...t}));og.displayName=cc.displayName;const ig=()=>{const n=wt(xe.CREATE_TEMPLATE),t=wt(xe.EDIT_TEMPLATE),e=n.isOpen||t.isOpen,r=n.isOpen?n.data:t.data,[s,o]=f.useState(gr),[i,c]=f.useState(""),[l,d]=f.useState(!1),[u,h]=f.useState({}),[p,m]=f.useState([]),g=(r==null?void 0:r.template)||null,v=(r==null?void 0:r.formData)||gr,y=r==null?void 0:r.onFormChange,b=(r==null?void 0:r.onSave)||(()=>Promise.resolve(!1)),x=(r==null?void 0:r.userFolders)||[],w=r==null?void 0:r.selectedFolder,T=f.useCallback(()=>{const M=(I,k="",q=[])=>(I.forEach(P=>{if(!P||!P.id||!P.name)return;const H=k?`${k} / ${P.name}`:P.name;q.push({id:P.id,name:P.name,fullPath:H}),P.Folders&&P.Folders.length>0&&M(P.Folders,H,q)}),q),O=M(x);console.log("Processed user folders:",O),m(O)},[x]);f.useEffect(()=>{e&&(h({}),v&&(console.log("Setting initial form data:",v),o(v),v.folder_id?c(v.folder_id.toString()):c("")),T(),w&&(console.log("Auto-selecting folder from creation:",w),c(w.id.toString()),R("folder_id",w.id),R("folder",w.name)))},[e,v,T,w]);const C=()=>{n.isOpen?n.close():t.close(),o(gr),c(""),h({})},R=(M,O)=>{u[M]&&h(I=>{const k={...I};return delete k[M],k}),o(I=>{const k={...I,[M]:O};return y&&(console.log(`Updating form field ${M}:`,O),y(k)),k})},N=M=>{if(M==="new"){window.dialogManager&&window.dialogManager.openDialog(xe.CREATE_FOLDER,{onSaveFolder:F,onFolderCreated:I=>{console.log("New folder created, updating selection:",I),c(I.id.toString()),R("folder_id",I.id),R("folder",I.name),m(k=>[...k,{id:I.id,name:I.name,fullPath:I.name}])}});return}if(c(M),M==="root"){R("folder_id",void 0),R("folder","");return}R("folder_id",parseInt(M,10));const O=p.find(I=>I.id.toString()===M);O&&R("folder",O.fullPath)},F=async M=>{try{console.log("Creating folder:",M);const O=await pe.createFolder(M);return O.success&&O.folder?O:(z.error(`Failed to create folder: ${O.error||"Unknown error"}`),!1)}catch(O){return console.error("Error creating folder:",O),z.error("Error creating folder"),!1}},j=()=>{var O,I;const M={};return(O=s.name)!=null&&O.trim()||(M.name="Template name is required"),(I=s.content)!=null&&I.trim()||(M.content="Template content is required"),h(M),Object.keys(M).length===0},A=async()=>{if(!j()){u.name?z.error(u.name):u.content&&z.error(u.content);return}d(!0);try{console.log("Saving template with data:",s);const M=await b(s);return M&&C(),M}catch(M){return console.error("Error saving template:",M),z.error("Error saving template"),!1}finally{d(!1)}};return e?a.jsx(It,{open:e,onOpenChange:M=>!M&&C(),children:a.jsxs(jt,{className:"sm:max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(kt,{children:g?"Edit Template":"Create New Template"}),a.jsx(an,{children:g?"Edit your template details below.":"Create a new template to use with AI conversations."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Template Name"}),a.jsx(Nt,{value:s.name||"",onChange:M=>R("name",M.target.value),placeholder:"Enter template name",className:`mt-1 ${u.name?"border-red-500":""}`}),u.name&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description"}),a.jsx(Nt,{value:s.description||"",onChange:M=>R("description",M.target.value),placeholder:"Brief description of this template",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsx("label",{className:"text-sm font-medium",children:"Folder"})}),a.jsxs(ng,{value:i||"root",onValueChange:N,children:[a.jsx(lc,{className:"w-full",children:a.jsx(rg,{placeholder:"Select a folder"})}),a.jsxs(fc,{children:[a.jsx(Nn,{value:"root",children:a.jsx("span",{className:"text-muted-foreground",children:"No folder (root)"})}),p.map(M=>a.jsx(Nn,{value:M.id.toString(),children:M.fullPath},M.id)),a.jsx(Nn,{value:"new",className:"text-primary font-medium",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Create new folder..."]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx("textarea",{className:`flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm mt-1 ${u.content?"border-red-500":""}`,rows:6,value:s.content||"",onChange:M=>R("content",M.target.value),placeholder:"Enter your template content here"}),u.content&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:u.content})]})]}),a.jsxs(cn,{children:[a.jsx(V,{variant:"outline",onClick:C,disabled:l,children:"Cancel"}),a.jsx(V,{onClick:A,disabled:l,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 border-2 border-current border-t-transparent animate-spin rounded-full inline-block mr-2"}),g?"Updating...":"Creating..."]}):g?"Update":"Create"})]})]})}):null},hc=f.forwardRef(({className:n,...t},e)=>a.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:e,...t}));hc.displayName="Textarea";const ag=()=>{const{isOpen:n,data:t,dialogProps:e}=wt(xe.CREATE_FOLDER),[r,s]=f.useState(""),[o,i]=f.useState(""),[c,l]=f.useState(!1);f.useEffect(()=>{n&&(s(""),i(""),l(!1))},[n]);const d=(t==null?void 0:t.onSaveFolder)||(()=>Promise.resolve(!1)),u=t==null?void 0:t.onFolderCreated,h=async m=>{if(m.preventDefault(),m.stopPropagation(),!r.trim()){z.error("Folder name is required");return}l(!0);try{const g={name:r.trim(),path:r.trim().toLowerCase().replace(/\s+/g,"-"),description:o.trim()},v=await d(g);v&&v.success?(u&&v.folder&&u(v.folder),z.success(`Folder "${r}" created successfully`),p(),e.onOpenChange(!1)):z.error((v==null?void 0:v.error)||"Failed to create folder")}catch(g){console.error("Error creating folder:",g),z.error("An error occurred while creating the folder")}finally{l(!1)}},p=()=>{s(""),i("")};return n?a.jsx(It,{...e,children:a.jsxs(jt,{children:[a.jsxs(Dt,{children:[a.jsx(kt,{children:"Create New Folder"}),a.jsx(an,{children:"Create a folder to organize your templates."})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4 py-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Folder Name"}),a.jsx(Nt,{value:r,onChange:m=>s(m.target.value),placeholder:"My Templates",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description (Optional)"}),a.jsx(hc,{value:o,onChange:m=>i(m.target.value),placeholder:"Templates for work projects",rows:3})]}),a.jsxs(cn,{children:[a.jsx(V,{type:"button",variant:"outline",onClick:()=>e.onOpenChange(!1),disabled:c,children:"Cancel"}),a.jsx(V,{type:"submit",disabled:c,children:c?"Creating...":"Create Folder"})]})]})]})}):null};function cg(n,t){return f.useReducer((e,r)=>t[e][r]??e,n)}var Fs="ScrollArea",[pc,Gg]=Ct(Fs),[lg,Te]=pc(Fs),mc=f.forwardRef((n,t)=>{const{__scopeScrollArea:e,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=n,[c,l]=f.useState(null),[d,u]=f.useState(null),[h,p]=f.useState(null),[m,g]=f.useState(null),[v,y]=f.useState(null),[b,x]=f.useState(0),[w,T]=f.useState(0),[C,R]=f.useState(!1),[N,F]=f.useState(!1),j=se(t,M=>l(M)),A=es(s);return a.jsx(lg,{scope:e,type:r,dir:A,scrollHideDelay:o,scrollArea:c,viewport:d,onViewportChange:u,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:F,onCornerWidthChange:x,onCornerHeightChange:T,children:a.jsx(ne.div,{dir:A,...i,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...n.style}})})});mc.displayName=Fs;var gc="ScrollAreaViewport",vc=f.forwardRef((n,t)=>{const{__scopeScrollArea:e,children:r,nonce:s,...o}=n,i=Te(gc,e),c=f.useRef(null),l=se(t,c,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...n.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});vc.displayName=gc;var Fe="ScrollAreaScrollbar",Us=f.forwardRef((n,t)=>{const{forceMount:e,...r}=n,s=Te(Fe,n.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,c=n.orientation==="horizontal";return f.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),s.type==="hover"?a.jsx(ug,{...r,ref:t,forceMount:e}):s.type==="scroll"?a.jsx(dg,{...r,ref:t,forceMount:e}):s.type==="auto"?a.jsx(yc,{...r,ref:t,forceMount:e}):s.type==="always"?a.jsx($s,{...r,ref:t}):null});Us.displayName=Fe;var ug=f.forwardRef((n,t)=>{const{forceMount:e,...r}=n,s=Te(Fe,n.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const c=s.scrollArea;let l=0;if(c){const d=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(ke,{present:e||o,children:a.jsx(yc,{"data-state":o?"visible":"hidden",...r,ref:t})})}),dg=f.forwardRef((n,t)=>{const{forceMount:e,...r}=n,s=Te(Fe,n.__scopeScrollArea),o=n.orientation==="horizontal",i=mr(()=>l("SCROLL_END"),100),[c,l]=cg("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,l]),f.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let h=d[u];const p=()=>{const m=d[u];h!==m&&(l("SCROLL"),i()),h=m};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),a.jsx(ke,{present:e||c!=="hidden",children:a.jsx($s,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:L(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:L(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),yc=f.forwardRef((n,t)=>{const e=Te(Fe,n.__scopeScrollArea),{forceMount:r,...s}=n,[o,i]=f.useState(!1),c=n.orientation==="horizontal",l=mr(()=>{if(e.viewport){const d=e.viewport.offsetWidth<e.viewport.scrollWidth,u=e.viewport.offsetHeight<e.viewport.scrollHeight;i(c?d:u)}},10);return Ot(e.viewport,l),Ot(e.content,l),a.jsx(ke,{present:r||o,children:a.jsx($s,{"data-state":o?"visible":"hidden",...s,ref:t})})}),$s=f.forwardRef((n,t)=>{const{orientation:e="vertical",...r}=n,s=Te(Fe,n.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[c,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Ec(c.viewport,c.content),u={...r,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return vg(p,i.current,c,m)}return e==="horizontal"?a.jsx(fg,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=go(p,c,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):e==="vertical"?a.jsx(hg,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=go(p,c);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),fg=f.forwardRef((n,t)=>{const{sizes:e,onSizesChange:r,...s}=n,o=Te(Fe,n.__scopeScrollArea),[i,c]=f.useState(),l=f.useRef(null),d=se(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(wc,{"data-orientation":"horizontal",...s,ref:d,sizes:e,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pr(e)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;n.onWheelScroll(p),Rc(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tr(i.paddingLeft),paddingEnd:tr(i.paddingRight)}})}})}),hg=f.forwardRef((n,t)=>{const{sizes:e,onSizesChange:r,...s}=n,o=Te(Fe,n.__scopeScrollArea),[i,c]=f.useState(),l=f.useRef(null),d=se(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(wc,{"data-orientation":"vertical",...s,ref:d,sizes:e,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pr(e)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;n.onWheelScroll(p),Rc(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tr(i.paddingTop),paddingEnd:tr(i.paddingBottom)}})}})}),[pg,xc]=pc(Fe),wc=f.forwardRef((n,t)=>{const{__scopeScrollArea:e,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:h,...p}=n,m=Te(Fe,e),[g,v]=f.useState(null),y=se(t,j=>v(j)),b=f.useRef(null),x=f.useRef(""),w=m.viewport,T=r.content-r.viewport,C=Ne(u),R=Ne(l),N=mr(h,10);function F(j){if(b.current){const A=j.clientX-b.current.left,M=j.clientY-b.current.top;d({x:A,y:M})}}return f.useEffect(()=>{const j=A=>{const M=A.target;(g==null?void 0:g.contains(M))&&C(A,T)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[w,g,T,C]),f.useEffect(R,[r,R]),Ot(g,N),Ot(m.content,N),a.jsx(pg,{scope:e,scrollbar:g,hasThumb:s,onThumbChange:Ne(o),onThumbPointerUp:Ne(i),onThumbPositionChange:R,onThumbPointerDown:Ne(c),children:a.jsx(ne.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:L(n.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),F(j))}),onPointerMove:L(n.onPointerMove,F),onPointerUp:L(n.onPointerUp,j=>{const A=j.target;A.hasPointerCapture(j.pointerId)&&A.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),er="ScrollAreaThumb",bc=f.forwardRef((n,t)=>{const{forceMount:e,...r}=n,s=xc(er,n.__scopeScrollArea);return a.jsx(ke,{present:e||s.hasThumb,children:a.jsx(mg,{ref:t,...r})})}),mg=f.forwardRef((n,t)=>{const{__scopeScrollArea:e,style:r,...s}=n,o=Te(er,e),i=xc(er,e),{onThumbPositionChange:c}=i,l=se(t,h=>i.onThumbChange(h)),d=f.useRef(void 0),u=mr(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(u(),!d.current){const m=yg(h,c);d.current=m,c()}};return c(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,u,c]),a.jsx(ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:L(n.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,v=h.clientY-m.top;i.onThumbPointerDown({x:g,y:v})}),onPointerUp:L(n.onPointerUp,i.onThumbPointerUp)})});bc.displayName=er;var zs="ScrollAreaCorner",Cc=f.forwardRef((n,t)=>{const e=Te(zs,n.__scopeScrollArea),r=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&r?a.jsx(gg,{...n,ref:t}):null});Cc.displayName=zs;var gg=f.forwardRef((n,t)=>{const{__scopeScrollArea:e,...r}=n,s=Te(zs,e),[o,i]=f.useState(0),[c,l]=f.useState(0),d=!!(o&&c);return Ot(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Ot(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),d?a.jsx(ne.div,{...r,ref:t,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function tr(n){return n?parseInt(n,10):0}function Ec(n,t){const e=n/t;return isNaN(e)?0:e}function pr(n){const t=Ec(n.viewport,n.content),e=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-e)*t;return Math.max(r,18)}function vg(n,t,e,r="ltr"){const s=pr(e),o=s/2,i=t||o,c=s-i,l=e.scrollbar.paddingStart+i,d=e.scrollbar.size-e.scrollbar.paddingEnd-c,u=e.content-e.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return Sc([l,d],h)(n)}function go(n,t,e="ltr"){const r=pr(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,c=o-r,l=e==="ltr"?[0,i]:[i*-1,0],d=Br(n,l);return Sc([0,i],[0,c])(d)}function Sc(n,t){return e=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(n[1]-n[0]);return t[0]+r*(e-n[0])}}function Rc(n,t){return n>0&&n<t}var yg=(n,t=()=>{})=>{let e={left:n.scrollLeft,top:n.scrollTop},r=0;return function s(){const o={left:n.scrollLeft,top:n.scrollTop},i=e.left!==o.left,c=e.top!==o.top;(i||c)&&t(),e=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function mr(n,t){const e=Ne(n),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(e,t)},[e,t])}function Ot(n,t){const e=Ne(t);Re(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(e)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,e])}var Tc=mc,xg=vc,wg=Cc;const Mc=f.forwardRef(({className:n,children:t,...e},r)=>a.jsxs(Tc,{ref:r,className:W("relative overflow-hidden",n),...e,children:[a.jsx(xg,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(Nc,{}),a.jsx(wg,{})]}));Mc.displayName=Tc.displayName;const Nc=f.forwardRef(({className:n,orientation:t="vertical",...e},r)=>a.jsx(Us,{ref:r,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...e,children:a.jsx(bc,{className:"relative flex-1 rounded-full bg-border"})}));Nc.displayName=Us.displayName;const bg=()=>{const{isOpen:n,data:t,dialogProps:e}=wt(xe.PLACEHOLDER_EDITOR),[r,s]=f.useState([]),[o,i]=f.useState(""),[c,l]=f.useState(!1),[d,u]=f.useState(null),h=f.useRef(null),p=(t==null?void 0:t.content)||"",m=(t==null?void 0:t.title)||"Template",g=(t==null?void 0:t.onComplete)||(()=>{});console.log("PlaceholderEditor opened with:",{templateTitle:m,contentLength:(p==null?void 0:p.length)||0,hasCallback:!!g});const v=C=>{const R=/\[(.*?)\]/g,N=[...C.matchAll(R)],F=new Set,j=[];for(const A of N){const M=A[0];if(F.has(M))continue;F.add(M);const O=r.find(I=>I.key===M);j.push({key:M,value:O?O.value:""})}return j},y=C=>C.replace(/\n/g,"<br>").replace(/\[(.*?)\]/g,'<span class="bg-yellow-300 text-yellow-900 font-bold px-1 rounded inline-block my-0.5">$&</span>');f.useEffect(()=>{if(n&&p){u(null),i(p);try{const C=v(p);s(C),console.log(`Extracted ${C.length} placeholders from template`),setTimeout(()=>{h.current&&(h.current.innerHTML=y(p),l(!0))},0)}catch(C){console.error("Error processing template:",C),u("Failed to process template. Please try again.")}}},[n,p]),f.useEffect(()=>{if(!c||!h.current)return;const C=new MutationObserver(()=>{var N;const R=(N=h.current)==null?void 0:N.innerHTML.replace(/<br>/g,`
`).replace(/<\/?span[^>]*>/g,"").replace(/&nbsp;/g," ");i(R||"")});return C.observe(h.current,{childList:!0,subtree:!0,characterData:!0}),()=>C.disconnect()},[c]);const b=(C,R)=>{const N=[...r];N[C].value=R,s(N);let F=p;N.forEach(({key:j,value:A})=>{const M=new RegExp(x(j),"g");F=F.replace(M,A||j)}),i(F),h.current&&(h.current.innerHTML=y(F))},x=C=>C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),w=()=>{g(o),e.onOpenChange(!1),document.dispatchEvent(new CustomEvent("archimind:placeholder-editor-closed"))},T=()=>{e.onOpenChange(!1),document.dispatchEvent(new CustomEvent("archimind:placeholder-editor-closed"))};return n?a.jsx(It,{...e,onOpenChange:C=>{e.onOpenChange(C),document.dispatchEvent(new CustomEvent(C?"archimind:placeholder-editor-opened":"archimind:placeholder-editor-closed"))},children:a.jsxs(jt,{className:"max-w-3xl max-h-[90vh] flex flex-col z-[10001] border-primary/10 shadow-2xl",onClick:C=>C.stopPropagation(),style:{maxHeight:"90vh",overflow:"auto"},children:[a.jsxs(Dt,{children:[a.jsx(kt,{children:$("customizeTemplate",[m],`Customize Template: ${m}`)}),a.jsx(an,{children:$("customizeTemplateDesc",void 0,"Customize the template by filling in the placeholders.")})]}),d&&a.jsxs(cs,{variant:"destructive",className:"mb-4",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),a.jsx(ls,{children:d})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-4 flex-grow overflow-hidden",children:[a.jsxs("div",{className:"space-y-4 overflow-auto",children:[a.jsx("h3",{className:"text-sm font-medium",children:$("replacePlaceholders",void 0,"Replace Placeholders")}),r.length>0?a.jsx(Mc,{className:"h-[50vh]",children:a.jsx("div",{className:"space-y-4 pr-4",children:r.map((C,R)=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium flex items-center",children:a.jsx("span",{className:"bg-primary/10 px-2 py-1 rounded",children:C.key})}),a.jsx(Nt,{value:C.value,onChange:N=>b(R,N.target.value),placeholder:`Enter value for ${C.key}`,className:"w-full"})]},C.key+R))})}):a.jsx("div",{className:"text-muted-foreground text-center py-8",children:$("noPlaceholders",void 0,"No placeholders found in this template.")})]}),a.jsxs("div",{className:"border rounded-md p-4 overflow-hidden flex flex-col",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:$("editTemplate",void 0,"Edit Template")}),a.jsx("div",{ref:h,contentEditable:!0,suppressContentEditableWarning:!0,className:"flex-grow h-[50vh] resize-none border rounded-md p-4 focus:outline-none focus:ring-2 focus:ring-primary overflow-auto whitespace-pre-wrap",onClick:C=>C.stopPropagation(),onMouseDown:C=>C.stopPropagation()})]})]}),a.jsxs(cn,{children:[a.jsx(V,{variant:"outline",onClick:T,children:$("cancel",void 0,"Cancel")}),a.jsx(V,{onClick:w,children:$("useTemplate",void 0,"Use Template")})]})]})}):null},Cg=()=>{const{isOpen:n,data:t,dialogProps:e}=wt(xe.AUTH),r=(t==null?void 0:t.initialMode)||"signin",s=(t==null?void 0:t.isSessionExpired)||!1,o=(t==null?void 0:t.onSuccess)||(()=>{});return n?a.jsx(It,{...e,children:a.jsxs(jt,{children:[a.jsx(Dt,{children:a.jsx(kt,{className:"text-center text-2xl font-bold text-white font-heading mb-6",children:r==="signin"?$("signIn",void 0,"Sign In"):$("signUp",void 0,"Sign Up")})}),a.jsx(il,{initialMode:r,isSessionExpired:s,onClose:()=>e.onOpenChange(!1),onSuccess:()=>{o(),e.onOpenChange(!1)}})]})}):null},Eg=()=>{const{isOpen:n,dialogProps:t}=wt(xe.SETTINGS),[e,r]=f.useState({autoSave:!0,autoSaveInterval:60,syncEnabled:!0,statsVisible:!0}),[s,o]=f.useState(!0);f.useEffect(()=>{n&&i()},[n]);const i=async()=>{o(!0);try{chrome.storage.sync.get(["jaydaiSettings"],u=>{u.jaydaiSettings&&r(u.jaydaiSettings),o(!1)})}catch(u){console.error("Failed to load settings:",u),o(!1)}},c=async()=>{try{chrome.storage.sync.set({jaydaiSettings:e},()=>{z.success($("saveChanges",void 0,"Settings saved")),chrome.tabs.query({active:!0,currentWindow:!0},u=>{var h;(h=u[0])!=null&&h.id&&chrome.tabs.sendMessage(u[0].id,{action:"applySettings",settings:e})}),t.onOpenChange(!1)})}catch(u){console.error("Failed to save settings:",u),z.error($("saveFailed",void 0,"Failed to save settings"))}},l=(u,h)=>{r(p=>({...p,[u]:h}))},d=()=>{t.onOpenChange(!1)};return n?a.jsx(It,{...t,children:a.jsxs(jt,{className:"sm:max-w-[425px]",children:[a.jsxs(Dt,{children:[a.jsx(kt,{children:$("jaydaiSettings",void 0,"Settings")}),a.jsx(an,{children:$("configureJaydai",void 0,"Configure Archimind settings")})]}),a.jsx("div",{className:"py-4 space-y-6",children:s?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",htmlFor:"auto-save",children:$("autoSaveConversations",void 0,"Auto-save conversations")}),a.jsx("input",{id:"auto-save",type:"checkbox",checked:e.autoSave,onChange:u=>l("autoSave",u.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"})]}),e.autoSave&&a.jsxs("div",{className:"flex items-center justify-between pl-4",children:[a.jsx("label",{className:"text-sm font-medium",htmlFor:"auto-save-interval",children:$("autoSaveInterval",void 0,"Auto-save interval (seconds)")}),a.jsx(Nt,{id:"auto-save-interval",type:"number",min:10,max:300,value:e.autoSaveInterval,onChange:u=>l("autoSaveInterval",parseInt(u.target.value,10)),className:"w-20"})]})]}),a.jsx(An,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",htmlFor:"sync-enabled",children:$("enableSync",void 0,"Enable synchronization")}),a.jsx("input",{id:"sync-enabled",type:"checkbox",checked:e.syncEnabled,onChange:u=>l("syncEnabled",u.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",htmlFor:"stats-visible",children:$("showStatsPanel",void 0,"Show stats panel")}),a.jsx("input",{id:"stats-visible",type:"checkbox",checked:e.statsVisible,onChange:u=>l("statsVisible",u.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"})]})]})]})}),a.jsxs(cn,{children:[a.jsx(V,{variant:"outline",onClick:d,children:$("cancel",void 0,"Cancel")}),a.jsx(V,{onClick:c,disabled:s,children:$("saveChanges",void 0,"Save Changes")})]})]})}):null};var _c="AlertDialog",[Sg,Xg]=Ct(_c,[Ro]),Be=Ro(),Pc=n=>{const{__scopeAlertDialog:t,...e}=n,r=Be(t);return a.jsx(hl,{...r,...e,modal:!0})};Pc.displayName=_c;var Rg="AlertDialogTrigger",Tg=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,s=Be(e);return a.jsx(pl,{...s,...r,ref:t})});Tg.displayName=Rg;var Mg="AlertDialogPortal",Ac=n=>{const{__scopeAlertDialog:t,...e}=n,r=Be(t);return a.jsx(cl,{...r,...e})};Ac.displayName=Mg;var Ng="AlertDialogOverlay",Oc=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,s=Be(e);return a.jsx(al,{...s,...r,ref:t})});Oc.displayName=Ng;var Tt="AlertDialogContent",[_g,Pg]=Sg(Tt),Ic=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,children:r,...s}=n,o=Be(e),i=f.useRef(null),c=se(t,i),l=f.useRef(null);return a.jsx(ll,{contentName:Tt,titleName:jc,docsSlug:"alert-dialog",children:a.jsx(_g,{scope:e,cancelRef:l,children:a.jsxs(ul,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:L(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(No,{children:r}),a.jsx(Og,{contentRef:i})]})})})});Ic.displayName=Tt;var jc="AlertDialogTitle",Dc=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,s=Be(e);return a.jsx(dl,{...s,...r,ref:t})});Dc.displayName=jc;var kc="AlertDialogDescription",Lc=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,s=Be(e);return a.jsx(fl,{...s,...r,ref:t})});Lc.displayName=kc;var Ag="AlertDialogAction",Fc=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,s=Be(e);return a.jsx(To,{...s,...r,ref:t})});Fc.displayName=Ag;var Uc="AlertDialogCancel",$c=f.forwardRef((n,t)=>{const{__scopeAlertDialog:e,...r}=n,{cancelRef:s}=Pg(Uc,e),o=Be(e),i=se(t,s);return a.jsx(To,{...o,...r,ref:i})});$c.displayName=Uc;var Og=({contentRef:n})=>{const t=`\`${Tt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Tt}\` by passing a \`${kc}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Tt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,n]),null},Ig=Pc,jg=Ac,zc=Oc,qc=Ic,Hc=Fc,Bc=$c,Wc=Dc,Qc=Lc;const Dg=Ig,kg=jg,Vc=f.forwardRef(({className:n,...t},e)=>a.jsx(zc,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t,ref:e}));Vc.displayName=zc.displayName;const Kc=f.forwardRef(({className:n,...t},e)=>a.jsxs(kg,{children:[a.jsx(Vc,{}),a.jsx(qc,{ref:e,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t})]}));Kc.displayName=qc.displayName;const Gc=({className:n,...t})=>a.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",n),...t});Gc.displayName="AlertDialogHeader";const Xc=({className:n,...t})=>a.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t});Xc.displayName="AlertDialogFooter";const Yc=f.forwardRef(({className:n,...t},e)=>a.jsx(Wc,{ref:e,className:W("text-lg font-semibold",n),...t}));Yc.displayName=Wc.displayName;const Jc=f.forwardRef(({className:n,...t},e)=>a.jsx(Qc,{ref:e,className:W("text-sm text-muted-foreground",n),...t}));Jc.displayName=Qc.displayName;const Zc=f.forwardRef(({className:n,...t},e)=>a.jsx(Hc,{ref:e,className:W(Ao(),n),...t}));Zc.displayName=Hc.displayName;const el=f.forwardRef(({className:n,...t},e)=>a.jsx(Bc,{ref:e,className:W(Ao({variant:"outline"}),"mt-2 sm:mt-0",n),...t}));el.displayName=Bc.displayName;const Lg=()=>{const{isOpen:n,data:t,dialogProps:e}=wt(xe.CONFIRMATION),r=(t==null?void 0:t.title)||$("confirmAction",void 0,"Confirm Action"),s=(t==null?void 0:t.description)||$("confirmActionDescription",void 0,"Are you sure you want to proceed?"),o=(t==null?void 0:t.confirmText)||$("confirm",void 0,"Confirm"),i=(t==null?void 0:t.cancelText)||$("cancel",void 0,"Cancel"),c=(t==null?void 0:t.onConfirm)||(()=>{}),l=(t==null?void 0:t.onCancel)||(()=>{}),d=()=>{c(),e.onOpenChange(!1)},u=()=>{l(),e.onOpenChange(!1)};return n?a.jsx(Dg,{open:n,onOpenChange:e.onOpenChange,children:a.jsxs(Kc,{children:[a.jsxs(Gc,{children:[a.jsx(Yc,{children:r}),a.jsx(Jc,{children:s})]}),a.jsxs(Xc,{children:[a.jsx(el,{onClick:u,children:i}),a.jsx(Zc,{onClick:d,children:o})]})]})}):null},Fg=({children:n})=>(f.useEffect(()=>{console.log("DialogProvider mounted, checking dialogManager availability"),console.log("window.dialogManager available:",!!window.dialogManager);const t=e=>{(e.message.includes("dialogManager")||e.message.includes("Dialog"))&&console.error("Dialog system error detected:",e)};return window.addEventListener("error",t),()=>{window.removeEventListener("error",t)}},[]),a.jsxs(Nm,{children:[n,a.jsx(ig,{}),a.jsx(ag,{}),a.jsx(bg,{}),a.jsx(Cg,{}),a.jsx(Eg,{}),a.jsx(Lg,{})]})),Ug=()=>a.jsx(ks,{children:a.jsx(Pu,{children:a.jsxs(Fg,{children:[a.jsx(Tm,{}),a.jsx(So,{richColors:!0,position:"top-right"})]})})}),vt=class vt{constructor(){E(this,"isInitialized",!1)}static getInstance(){return vt.instance||(vt.instance=new vt),vt.instance}async initialize(){if(this.isInitialized)return!0;if(!this.isChatGPTSite())return!1;try{if(console.log(" Initializing Archimind application..."),this.injectUIComponents(),On.initialize(),Mu(),!await ce.initializeAll())throw new Error("Failed to initialize services");return this.isInitialized=!0,console.log(" Archimind application initialized successfully"),!0}catch(t){return J.captureError(new B("Failed to initialize application",K.EXTENSION_ERROR,t)),console.error(" Error initializing application:",t),!1}}isChatGPTSite(){return window.location.hostname.includes("chatgpt.com")||window.location.hostname.includes("chat.openai.com")}injectUIComponents(){console.log(chrome.i18n.getMessage("injectingUI")),Ks.inject(Ug,{},{id:"archimind-main-component",position:{type:"fixed",zIndex:"9999"}}),console.log(chrome.i18n.getMessage("uiInjected"))}cleanup(){this.isInitialized&&(console.log(" Cleaning up Archimind application..."),Ks.removeAll(),ce.cleanupAll(),On.cleanup(),this.isInitialized=!1,console.log(" Archimind application cleaned up"))}};E(vt,"instance");let Xr=vt;const vo=Xr.getInstance(),Yg={initialize:()=>vo.initialize(),cleanup:()=>vo.cleanup()};export{Xr as AppInitializer,vo as appInitializer,Yg as default};
